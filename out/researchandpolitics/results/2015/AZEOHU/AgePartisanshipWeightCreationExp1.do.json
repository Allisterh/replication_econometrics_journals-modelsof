[
  {
    "id": "comment",
    "value": "*/ Setup */",
    "line": 1,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 3,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "all",
        "line": 3,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 4,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "linesize",
        "line": 4,
        "column": 5
      },
      {
        "id": "number",
        "value": "120",
        "line": 4,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "macro",
      "line": 5,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 5,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "_all",
        "line": 5,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 6,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "more",
        "line": 6,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 6,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 7,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "scheme",
        "line": 7,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "s2color",
        "line": 7,
        "column": 12
      }
    ]
  },
  {
    "id": "comment",
    "value": "*/ Experiment #1 */",
    "line": 9,
    "column": 1
  },
  {
    "id": "comment",
    "value": "/* CREATE PARTISANSHIP DATA SET WITH ADJUSTED TOTALS SO THAT SAMPLE & POP\n> PERCENTS MATCH */",
    "line": 11,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 12,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ssize",
        "line": 12,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1043",
        "line": 12,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 13,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "* http://www.people-press.org/2015/04/07/a-deep-dive-into-party-affiliation/",
    "line": 15,
    "column": 1
  },
  {
    "id": "comment",
    "value": "/* Partisanship from Pew: Dem = 48, GOP = 39, Indep = 13 */",
    "line": 17,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "input",
      "line": 18,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "partisanship_gp",
        "line": 18,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "pop_pct",
        "line": 18,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "0",
      "line": 19,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": ".48",
        "line": 19,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "1",
      "line": 20,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": ".39",
        "line": 20,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "2",
      "line": 21,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": ".13",
        "line": 21,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "end",
      "line": 23,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 24,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "partisanship_tot",
        "line": 24,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`ssize'",
        "line": 24,
        "column": 22
      },
      {
        "id": "*",
        "value": "*",
        "line": 24,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "pop_pct",
        "line": 24,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "list",
      "line": 25,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "table",
      "line": 26,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "partisanship_gp",
        "line": 26,
        "column": 7
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "c",
        "line": 26,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 26,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "partisanship_tot",
        "line": 26,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "row",
        "line": 26,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sort",
      "line": 27,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "partisanship_tot",
        "line": 27,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 28,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "partisanship_gp",
        "line": 28,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "partleaners",
        "line": 28,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 29,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "partisanship_dat",
        "line": 29,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 29,
        "column": 24
      }
    ]
  },
  {
    "id": "comment",
    "value": "* gen old_wt=1",
    "line": 31,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* survwgt rake old_wt, by(partleaners) totvars(partisanship_tot) generate(new_wt)",
    "line": 32,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 34,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "/*CREATE AGE DATA SET WITH ADJUSTED TOTALS SO THAT SAMPLE & POP\n> PERCENTS MATCH */",
    "line": 36,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 37,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ssize",
        "line": 37,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1043",
        "line": 37,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 38,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "* http://factfinder.census.gov/faces/tableservices/jsf/pages/productview.xhtml?src=bkmk",
    "line": 40,
    "column": 1
  },
  {
    "id": "comment",
    "value": "/* Age from ACS: 18-29 = about 15.36, 30-39 = 12.9, 40-49 = 13.3, 50-59 = 13.8, 60-69 = 10.4, above 69 = 9.5; adjusted for lack of under 18 */",
    "line": 42,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "input",
      "line": 43,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "age_gp",
        "line": 43,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "pop_pct",
        "line": 43,
        "column": 14
      }
    ]
  },
  {
    "id": "comment",
    "value": "* 1 .194833",
    "line": 44,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* 2 .170233",
    "line": 45,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* 3 .174233",
    "line": 46,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* 4 .179233",
    "line": 47,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* 5 .145233",
    "line": 48,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* 6 .136233",
    "line": 49,
    "column": 1
  },
  {
    "command": {
      "id": "number",
      "value": "1",
      "line": 50,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "0.060428571",
        "line": 50,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "2",
      "line": 51,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "0.173428571",
        "line": 51,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "3",
      "line": 52,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "0.162428571",
        "line": 52,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "4",
      "line": 53,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "0.166428571",
        "line": 53,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "5",
      "line": 54,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "0.171428571",
        "line": 54,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "6",
      "line": 55,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "0.137428571",
        "line": 55,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "7",
      "line": 56,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "0.128428571",
        "line": 56,
        "column": 3
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "end",
      "line": 58,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 59,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "age_tot",
        "line": 59,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`ssize'",
        "line": 59,
        "column": 13
      },
      {
        "id": "*",
        "value": "*",
        "line": 59,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "pop_pct",
        "line": 59,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "list",
      "line": 60,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "table",
      "line": 61,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "age_gp",
        "line": 61,
        "column": 7
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "c",
        "line": 61,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 61,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "age_tot",
        "line": 61,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "row",
        "line": 61,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sort",
      "line": 62,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "age_tot",
        "line": 62,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 63,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "age_gp",
        "line": 63,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "age",
        "line": 63,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 64,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "age_dat",
        "line": 64,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 64,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 65,
      "column": 1
    }
  }
]