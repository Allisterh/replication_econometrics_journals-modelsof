/* Replication do file for Erickson, Jennifer L. 2013. "Stopping the Legal Flow of Weapons: Compliance with Arms Embargoes, 1981-2004. Journal of Peace Research 50 (2)."
use "Erickson.ArmsEmbargo.v1.dta"*/

/* Figure 2 */

tabulate embargo satransfer, chi2 col row;
tabulate embargo mcwdich, chi2 col row;

/* Small arms xtlogit models and calculations for changes in predicted probabilities in Table I */

scalar coldwar_m = 0;scalar atopallylag_m = 0;scalar embargopartiallag_m = 0;scalar embargopartiallag_high = 1;scalar embargopartiallag_low = 0;scalar embargofulllag_m = 0;scalar embargofulllag_high = 1;scalar embargofulllag_low = 0;scalar emdichlag_m = 0;scalar emdichlag_high = 1;scalar emdichlag_low = 0;scalar y1981_m = 0;scalar y1982_m = 0;scalar y1983_m = 0;scalar y1984_m = 0;scalar y1985_m = 0;scalar y1986_m = 0;scalar y1987_m = 0;scalar y1988_m = 0;scalar y1989_m = 0;scalar y1990_m = 0;scalar y1990_m1 = 1;scalar y1991_m = 1;scalar y1992_m = 0;scalar y1993_m = 0;scalar y1994_m = 0;scalar y1995_m = 0;scalar y1996_m = 0;scalar y1997_m = 0;scalar y1998_m = 0;scalar y1998_m1 = 1;scalar y1999_m = 0;scalar y2000_m = 0;scalar y2001_m = 0;scalar y2002_m = 0;scalar y2003_m = 0;scalar y2004_m = 0;summarize ungdpcaploglag;scalar ungdpcaploglag_mean = r(mean);summarize oilprodlag, detail;scalar oilprodlag_mean = r(p50);summarize polity2lag;scalar polity2lag_mean = r(mean);scalar list;xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004, i(dyadid);ereturn list;matrix list e(b);matrix satransfer_coeff = e(b);scalar satransfer_polity2 = el(satransfer_coeff,1,1);scalar satransfer_atopally = el(satransfer_coeff,1,2);scalar satransfer_ungdpcaplog = el(satransfer_coeff,1,3);scalar satransfer_oilprod = el(satransfer_coeff,1,4);scalar satransfer_embargopartial = el(satransfer_coeff,1,5);scalar satransfer_embargofull = el(satransfer_coeff,1,6);scalar satransfer_coldwar = el(satransfer_coeff,1,7);scalar satransfer_y1982 = el(satransfer_coeff,1,8);scalar satransfer_y1984 = el(satransfer_coeff,1,9);scalar satransfer_y1985 = el(satransfer_coeff,1,10);scalar satransfer_y1986 = el(satransfer_coeff,1,11);scalar satransfer_y1987 = el(satransfer_coeff,1,12);scalar satransfer_y1988 = el(satransfer_coeff,1,13);scalar satransfer_y1989 = el(satransfer_coeff,1,14);scalar satransfer_y1990 = el(satransfer_coeff,1,15);scalar satransfer_y1992 = el(satransfer_coeff,1,16);scalar satransfer_y1993 = el(satransfer_coeff,1,17);scalar satransfer_y1994 = el(satransfer_coeff,1,18);scalar satransfer_y1995 = el(satransfer_coeff,1,19);scalar satransfer_y1996 = el(satransfer_coeff,1,20);scalar satransfer_y1997 = el(satransfer_coeff,1,21);scalar satransfer_y1998 = el(satransfer_coeff,1,22);scalar satransfer_y1999 = el(satransfer_coeff,1,23);scalar satransfer_y2000 = el(satransfer_coeff,1,24);scalar satransfer_y2001 = el(satransfer_coeff,1,25);scalar satransfer_y2002 = el(satransfer_coeff,1,26);scalar satransfer_cons = el(satransfer_coeff,1,27);scalar list satransfer_polity2 satransfer_atopally satransfer_ungdpcaplog satransfer_oilprod satransfer_embargopartial satransfer_embargofull satransfer_coldwar satransfer_cons;matrix list e(V);matrix satransfer_covfull = e(V);matri satransfer_cov = satransfer_covfull[1..27, 1..27];matrix list satransfer_cov;scalar embargopartialhigh_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_embargopartial * embargopartiallag_high) + (satransfer_embargofull * embargofulllag_m) + (satransfer_coldwar * coldwar_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m1) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m);scalar embargopartiallow_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_embargopartial * embargopartiallag_low) + (satransfer_embargofull * embargofulllag_m) + (satransfer_coldwar * coldwar_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m1) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m);scalar list embargopartialhigh_lp embargopartiallow_lp;scalar embargopartialhigh_pr = (exp(embargopartialhigh_lp))/(1+(exp(embargopartialhigh_lp)));scalar embargopartiallow_pr = (exp(embargopartiallow_lp))/(1+(exp(embargopartiallow_lp)));scalar embargopartialhigh_dercons = (1*(exp(embargopartialhigh_lp)))/(1+(exp(embargopartialhigh_lp)))^2;scalar embargopartiallow_dercons = (1*(exp(embargopartiallow_lp)))/(1+(exp(embargopartiallow_lp)))^2;scalar embargopartial_diff_pr = embargopartialhigh_pr - embargopartiallow_pr;scalar embargopartial_diff_dercons = embargopartialhigh_dercons - embargopartiallow_dercons;scalar list embargopartialhigh_pr embargopartiallow_pr embargopartialhigh_dercons embargopartiallow_dercons embargopartial_diff_pr embargopartial_diff_dercons;matrix Dtemp_embargopartialhigh = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ embargopartiallag_high \ embargofulllag_m \ coldwar_m \ y1982_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m1 \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m);matrix Dtemp_embargopartiallow = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ embargopartiallag_low \ embargofulllag_m \ coldwar_m \ y1982_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m1 \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m);matrix Dembargopartial = (embargopartialhigh_dercons * Dtemp_embargopartialhigh) - (embargopartiallow_dercons * Dtemp_embargopartiallow);matrix list Dembargopartial;matrix embargopartial_diff_vpr = Dembargopartial' * satransfer_cov * Dembargopartial;matrix list embargopartial_diff_vpr;scalar embargopartial_diff_vprse = sqrt(el(embargopartial_diff_vpr),1,1);scalar list embargopartial_diff_vprse;matrix embargopartial_diff_vprz = (embargopartial_diff_pr)/(embargopartial_diff_vprse);matrix list embargopartial_diff_vprz;scalar embargofullhigh_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_embargopartial * embargopartiallag_m) + (satransfer_embargofull * embargofulllag_high) + (satransfer_coldwar * coldwar_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m1) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m);scalar embargofulllow_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_embargopartial * embargopartiallag_m) + (satransfer_embargofull * embargofulllag_low) + (satransfer_coldwar * coldwar_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m1) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m);scalar list embargofullhigh_lp embargofulllow_lp;scalar embargofullhigh_pr = (exp(embargofullhigh_lp))/(1+(exp(embargofullhigh_lp)));scalar embargofulllow_pr = (exp(embargofulllow_lp))/(1+(exp(embargofulllow_lp)));scalar embargofullhigh_dercons = (1*(exp(embargofullhigh_lp)))/(1+(exp(embargofullhigh_lp)))^2;scalar embargofulllow_dercons = (1*(exp(embargofulllow_lp)))/(1+(exp(embargofulllow_lp)))^2;scalar embargofull_diff_pr = embargofullhigh_pr - embargofulllow_pr;scalar embargofull_diff_dercons = embargofullhigh_dercons - embargofulllow_dercons;scalar list embargofullhigh_pr embargofulllow_pr embargofullhigh_dercons embargofulllow_dercons embargofull_diff_pr embargofull_diff_dercons;matrix Dtemp_embargofullhigh = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ embargopartiallag_m \ embargofulllag_high \ coldwar_m \ y1982_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m1 \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m);matrix Dtemp_embargofulllow = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ embargopartiallag_m \ embargofulllag_low \ coldwar_m \ y1982_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m1 \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m);matrix Dembargofull = (embargofullhigh_dercons * Dtemp_embargofullhigh) - (embargofulllow_dercons * Dtemp_embargofulllow);matrix list Dembargofull;matrix embargofull_diff_vpr = Dembargofull' * satransfer_cov * Dembargofull;matrix list embargofull_diff_vpr;scalar embargofull_diff_vprse = sqrt(el(embargofull_diff_vpr),1,1);scalar list embargofull_diff_vprse;matrix embargofull_diff_vprz = (embargofull_diff_pr)/(embargofull_diff_vprse);matrix list embargofull_diff_vprz;xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag emdichlag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004, i(dyadid); ereturn list;matrix list e(b);matrix satransfer_coeff = e(b);scalar satransfer_polity2 = el(satransfer_coeff,1,1);scalar satransfer_atopally = el(satransfer_coeff,1,2);scalar satransfer_ungdpcaplog = el(satransfer_coeff,1,3);scalar satransfer_oilprod = el(satransfer_coeff,1,4);scalar satransfer_emdich = el(satransfer_coeff,1,5);scalar satransfer_coldwar = el(satransfer_coeff,1,6);scalar satransfer_y1983 = el(satransfer_coeff,1,7);scalar satransfer_y1984 = el(satransfer_coeff,1,8);scalar satransfer_y1985 = el(satransfer_coeff,1,9);scalar satransfer_y1986 = el(satransfer_coeff,1,10);scalar satransfer_y1987 = el(satransfer_coeff,1,11);scalar satransfer_y1988 = el(satransfer_coeff,1,12);scalar satransfer_y1989 = el(satransfer_coeff,1,13);scalar satransfer_y1990 = el(satransfer_coeff,1,14);scalar satransfer_y1991 = el(satransfer_coeff,1,15);scalar satransfer_y1992 = el(satransfer_coeff,1,16);scalar satransfer_y1994 = el(satransfer_coeff,1,17);scalar satransfer_y1995 = el(satransfer_coeff,1,18);scalar satransfer_y1996 = el(satransfer_coeff,1,19);scalar satransfer_y1997 = el(satransfer_coeff,1,20);scalar satransfer_y1998 = el(satransfer_coeff,1,21);scalar satransfer_y1999 = el(satransfer_coeff,1,22);scalar satransfer_y2000 = el(satransfer_coeff,1,23);scalar satransfer_y2001 = el(satransfer_coeff,1,24);scalar satransfer_y2002 = el(satransfer_coeff,1,25);scalar satransfer_cons = el(satransfer_coeff,1,26);scalar list satransfer_polity2 satransfer_atopally satransfer_ungdpcaplog satransfer_oilprod satransfer_emdich satransfer_coldwar satransfer_cons;matrix list e(V);matrix satransfer_covfull = e(V);matri satransfer_cov = satransfer_covfull[1..26, 1..26];matrix list satransfer_cov;scalar emdichhigh_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_emdich * emdichlag_high) + (satransfer_coldwar * coldwar_m) + (satransfer_y1983 * y1983_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m) + (satransfer_y1991 * y1991_m) + (satransfer_y1992 * y1992_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m);scalar emdichlow_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_emdich * emdichlag_low) + (satransfer_coldwar * coldwar_m) + (satransfer_y1983 * y1983_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m) + (satransfer_y1991 * y1991_m) + (satransfer_y1992 * y1992_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m);scalar list emdichhigh_lp emdichlow_lp;scalar emdichhigh_pr = (exp(emdichhigh_lp))/(1+(exp(emdichhigh_lp)));scalar emdichlow_pr = (exp(emdichlow_lp))/(1+(exp(emdichlow_lp)));scalar emdichhigh_dercons = (1*(exp(emdichhigh_lp)))/(1+(exp(emdichhigh_lp)))^2;scalar emdichlow_dercons = (1*(exp(emdichlow_lp)))/(1+(exp(emdichlow_lp)))^2;scalar emdich_diff_pr = emdichhigh_pr - emdichlow_pr;scalar emdich_diff_dercons = emdichhigh_dercons - emdichlow_dercons;scalar list emdichhigh_pr emdichlow_pr emdichhigh_dercons emdichlow_dercons emdich_diff_pr emdich_diff_dercons;matrix Dtemp_emdichhigh = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ emdichlag_high \ coldwar_m \ y1983_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m \ y1991_m \ y1992_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m);matrix Dtemp_emdichlow = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ emdichlag_low \ coldwar_m \ y1983_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m \ y1991_m \ y1992_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m);matrix Demdich = (emdichhigh_dercons * Dtemp_emdichhigh) - (emdichlow_dercons * Dtemp_emdichlow);matrix list Demdich;matrix emdich_diff_vpr = Demdich' * satransfer_cov * Demdich;matrix list emdich_diff_vpr;scalar emdich_diff_vprse = sqrt(el(emdich_diff_vpr),1,1);scalar list emdich_diff_vprse;matrix emdich_diff_vprz = (emdich_diff_pr)/(emdich_diff_vprse);matrix list emdich_diff_vprz;
xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag emtype1lag emtype2lag emtype3lag coldwar y1981 y1982 y1983 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004, i(dyadid);ereturn list;matrix list e(b);matrix satransfer_coeff = e(b);scalar satransfer_polity2 = el(satransfer_coeff,1,1);scalar satransfer_atopally = el(satransfer_coeff,1,2);scalar satransfer_ungdpcaplog = el(satransfer_coeff,1,3);scalar satransfer_oilprod = el(satransfer_coeff,1,4);
scalar satransfer_emtype1 = el(satransfer_coeff,1,5);scalar satransfer_emtype2 = el(satransfer_coeff,1,6);
scalar satransfer_emtype3 = el(satransfer_coeff,1,7);
scalar satransfer_coldwar = el(satransfer_coeff,1,8);
scalar satransfer_y1981 = el(satransfer_coeff,1,9);
scalar satransfer_y1982 = el(satransfer_coeff,1,10);scalar satransfer_y1983 = el(satransfer_coeff,1,11);scalar satransfer_y1984 = el(satransfer_coeff,1,12);scalar satransfer_y1985 = el(satransfer_coeff,1,13);scalar satransfer_y1986 = el(satransfer_coeff,1,14);scalar satransfer_y1987 = el(satransfer_coeff,1,15);scalar satransfer_y1988 = el(satransfer_coeff,1,16);scalar satransfer_y1989 = el(satransfer_coeff,1,17);
scalar satransfer_y1990 = el(satransfer_coeff,1,18);scalar satransfer_y1991 = el(satransfer_coeff,1,19);scalar satransfer_y1992 = el(satransfer_coeff,1,20);scalar satransfer_y1993 = el(satransfer_coeff,1,21);scalar satransfer_y1994 = el(satransfer_coeff,1,22);scalar satransfer_y1995 = el(satransfer_coeff,1,23);scalar satransfer_y1996 = el(satransfer_coeff,1,24);scalar satransfer_y1997 = el(satransfer_coeff,1,25);scalar satransfer_y1998 = el(satransfer_coeff,1,26);scalar satransfer_y1999 = el(satransfer_coeff,1,27);scalar satransfer_y2000 = el(satransfer_coeff,1,28);scalar satransfer_y2001 = el(satransfer_coeff,1,29);
scalar satransfer_y2002 = el(satransfer_coeff,1,30);
scalar satransfer_y2003 = el(satransfer_coeff,1,31);
scalar satransfer_y2004 = el(satransfer_coeff,1,32);scalar satransfer_cons = el(satransfer_coeff,1,33);scalar list satransfer_polity2 satransfer_atopally satransfer_ungdpcaplog satransfer_oilprod satransfer_emtype1 satransfer_emtype2 satransfer_emtype3 satransfer_coldwar satransfer_cons;matrix list e(V);matrix satransfer_covfull = e(V);matri satransfer_cov = satransfer_covfull[1..33, 1..33];matrix list satransfer_cov;
scalar emtype1high_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_emtype1 * emtype1lag_high) + (satransfer_emtype2 * emtype2lag_m) + (satransfer_emtype3 * emtype3lag_m) + (satransfer_coldwar * coldwar_m) + (satransfer_y1981 * y1981_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1983 * y1983_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m) + (satransfer_y1991 * y1991_m) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m) + (satransfer_y2003 * y2003_m) + (satransfer_y2004 * y2004_m);scalar emtype1low_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_emtype1 * emtype1lag_low) + (satransfer_emtype2 * emtype2lag_m) + (satransfer_emtype3 * emtype3lag_m) + (satransfer_coldwar * coldwar_m) + (satransfer_y1981 * y1981_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1983 * y1983_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m) + (satransfer_y1991 * y1991_m) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m) + (satransfer_y2003 * y2003_m) + (satransfer_y2004 * y2004_m);scalar list emtype1high_lp emtype1low_lp;scalar emtype1high_pr = (exp(emtype1high_lp))/(1+(exp(emtype1high_lp)));scalar emtype1low_pr = (exp(emtype1low_lp))/(1+(exp(emtype1low_lp)));scalar emtype1high_dercons = (1*(exp(emtype1high_lp)))/(1+(exp(emtype1high_lp)))^2;scalar emtype1low_dercons = (1*(exp(emtype1low_lp)))/(1+(exp(emtype1low_lp)))^2;scalar emtype1_diff_pr = emtype1high_pr - emtype1low_pr;scalar emtype1_diff_dercons = emtype1high_dercons - emtype1low_dercons;scalar list emtype1high_pr emtype1low_pr emtype1high_dercons emtype1low_dercons emtype1_diff_pr emtype1_diff_dercons;matrix Dtemp_emtype1high = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ emtype1lag_high \ emtype2lag_m \ emtype3lag_m \ coldwar_m \ y1981_m \ y1982_m \ y1983_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m \ y1991_m \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m \ y2003_m \ y2004_m);matrix Dtemp_emtype1low = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ emtype1lag_low \ emtype2lag_m \ emtype3lag_m \ coldwar_m \ y1981_m \ y1982_m \ y1983_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m \ y1991_m \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m \ y2003_m \ y2004_m);matrix Demtype1 = (emtype1high_dercons * Dtemp_emtype1high) - (emtype1low_dercons * Dtemp_emtype1low);matrix list Demtype1;matrix emtype1_diff_vpr = Demtype1' * satransfer_cov * Demtype1;matrix list emtype1_diff_vpr;scalar emtype1_diff_vprse = sqrt(el(emtype1_diff_vpr),1,1);scalar list emtype1_diff_vprse;matrix emtype1_diff_vprz = (emtype1_diff_pr)/(emtype1_diff_vprse);matrix list emtype1_diff_vprz;

scalar emtype2high_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_emtype1 * emtype1lag_m) + (satransfer_emtype2 * emtype2lag_high) + (satransfer_emtype3 * emtype3lag_m) + (satransfer_coldwar * coldwar_m) + (satransfer_y1981 * y1981_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1983 * y1983_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m) + (satransfer_y1991 * y1991_m) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m) + (satransfer_y2003 * y2003_m) + (satransfer_y2004 * y2004_m);scalar emtype2low_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_emtype1 * emtype1lag_m) + (satransfer_emtype2 * emtype2lag_low) + (satransfer_emtype3 * emtype3lag_m) + (satransfer_coldwar * coldwar_m) + (satransfer_y1981 * y1981_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1983 * y1983_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m) + (satransfer_y1991 * y1991_m) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m) + (satransfer_y2003 * y2003_m) + (satransfer_y2004 * y2004_m);scalar list emtype2high_lp emtype2low_lp;scalar emtype2high_pr = (exp(emtype2high_lp))/(1+(exp(emtype2high_lp)));scalar emtype2low_pr = (exp(emtype2low_lp))/(1+(exp(emtype2low_lp)));scalar emtype2high_dercons = (1*(exp(emtype2high_lp)))/(1+(exp(emtype2high_lp)))^2;scalar emtype2low_dercons = (1*(exp(emtype2low_lp)))/(1+(exp(emtype2low_lp)))^2;scalar emtype2_diff_pr = emtype2high_pr - emtype2low_pr;scalar emtype2_diff_dercons = emtype2high_dercons - emtype2low_dercons;scalar list emtype2high_pr emtype2low_pr emtype2high_dercons emtype2low_dercons emtype2_diff_pr emtype2_diff_dercons;matrix Dtemp_emtype2high = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ emtype1lag_m \ emtype2lag_high \ emtype3lag_m \ coldwar_m \ y1981_m \ y1982_m \ y1983_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m \ y1991_m \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m \ y2003_m \ y2004_m);matrix Dtemp_emtype2low = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ emtype1lag_m \ emtype2lag_low \ emtype3lag_m \ coldwar_m \ y1981_m \ y1982_m \ y1983_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m \ y1991_m \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m \ y2003_m \ y2004_m);matrix Demtype2 = (emtype2high_dercons * Dtemp_emtype2high) - (emtype2low_dercons * Dtemp_emtype2low);matrix list Demtype2;matrix emtype2_diff_vpr = Demtype2' * satransfer_cov * Demtype2;matrix list emtype2_diff_vpr;scalar emtype2_diff_vprse = sqrt(el(emtype2_diff_vpr),1,1);scalar list emtype2_diff_vprse;matrix emtype2_diff_vprz = (emtype2_diff_pr)/(emtype2_diff_vprse);matrix list emtype2_diff_vprz;

scalar emtype3high_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_emtype1 * emtype1lag_m) + (satransfer_emtype2 * emtype2lag_m) + (satransfer_emtype3 * emtype3lag_high) + (satransfer_coldwar * coldwar_m) + (satransfer_y1981 * y1981_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1983 * y1983_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m) + (satransfer_y1991 * y1991_m) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m) + (satransfer_y2003 * y2003_m) + (satransfer_y2004 * y2004_m);scalar emtype3low_lp = satransfer_cons + (satransfer_polity2 * polity2lag_mean) + (satransfer_atopally * atopallylag_m) + (satransfer_ungdpcaplog * ungdpcaploglag_mean) + (satransfer_oilprod * oilprodlag_mean) + (satransfer_emtype1 * emtype1lag_m) + (satransfer_emtype2 * emtype2lag_m) + (satransfer_emtype3 * emtype3lag_low) + (satransfer_coldwar * coldwar_m) + (satransfer_y1981 * y1981_m) + (satransfer_y1982 * y1982_m) + (satransfer_y1983 * y1983_m) + (satransfer_y1984 * y1984_m) + (satransfer_y1985 * y1985_m) + (satransfer_y1986 * y1986_m) + (satransfer_y1987 * y1987_m) + (satransfer_y1988 * y1988_m) + (satransfer_y1989 * y1989_m) + (satransfer_y1990 * y1990_m) + (satransfer_y1991 * y1991_m) + (satransfer_y1992 * y1992_m) + (satransfer_y1993 * y1993_m) + (satransfer_y1994 * y1994_m) + (satransfer_y1995 * y1995_m) + (satransfer_y1996 * y1996_m) + (satransfer_y1997 * y1997_m) + (satransfer_y1998 * y1998_m) + (satransfer_y1999 * y1999_m) + (satransfer_y2000 * y2000_m) + (satransfer_y2001 * y2001_m) + (satransfer_y2002 * y2002_m) + (satransfer_y2003 * y2003_m) + (satransfer_y2004 * y2004_m);scalar list emtype3high_lp emtype3low_lp;scalar emtype3high_pr = (exp(emtype3high_lp))/(1+(exp(emtype3high_lp)));scalar emtype3low_pr = (exp(emtype3low_lp))/(1+(exp(emtype3low_lp)));scalar emtype3high_dercons = (1*(exp(emtype3high_lp)))/(1+(exp(emtype3high_lp)))^2;scalar emtype3low_dercons = (1*(exp(emtype3low_lp)))/(1+(exp(emtype3low_lp)))^2;scalar emtype3_diff_pr = emtype3high_pr - emtype3low_pr;scalar emtype3_diff_dercons = emtype3high_dercons - emtype3low_dercons;scalar list emtype3high_pr emtype3low_pr emtype3high_dercons emtype3low_dercons emtype3_diff_pr emtype3_diff_dercons;matrix Dtemp_emtype3high = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ emtype1lag_m \ emtype2lag_m \ emtype3lag_high \ coldwar_m \ y1981_m \ y1982_m \ y1983_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m \ y1991_m \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m \ y2003_m \ y2004_m);matrix Dtemp_emtype3low = (1 \ polity2lag_mean \ atopallylag_m \ ungdpcaploglag_mean \ oilprodlag_mean \ emtype1lag_m \ emtype2lag_m \ emtype3lag_low \ coldwar_m \ y1981_m \ y1982_m \ y1983_m \ y1984_m \ y1985_m \ y1986_m \ y1987_m \ y1988_m \ y1989_m \ y1990_m \ y1991_m \ y1992_m \ y1993_m \ y1994_m \ y1995_m \ y1996_m \ y1997_m \ y1998_m \ y1999_m \ y2000_m \ y2001_m \ y2002_m \ y2003_m \ y2004_m);matrix Demtype3 = (emtype3high_dercons * Dtemp_emtype3high) - (emtype3low_dercons * Dtemp_emtype3low);matrix list Demtype3;matrix emtype3_diff_vpr = Demtype3' * satransfer_cov * Demtype3;matrix list emtype3_diff_vpr;scalar emtype3_diff_vprse = sqrt(el(emtype3_diff_vpr),1,1);scalar list emtype3_diff_vprse;matrix emtype3_diff_vprz = (emtype3_diff_pr)/(emtype3_diff_vprse);matrix list emtype3_diff_vprz;

/* Small arms "moving windows" analyses, Figure 3 */xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982)|(year==1983), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982)|(year==1983)|(year==1984), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982)|(year==1983)|(year==1984)|(year==1985), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982)|(year==1983)|(year==1984)|(year==1985)|(year==1986), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1983)|(year==1984)|(year==1985)|(year==1986)|(year==1987), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1984)|(year==1985)|(year==1986)|(year==1987)|(year==1988), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1985)|(year==1986)|(year==1987)|(year==1988)|(year==1989), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1986)|(year==1987)|(year==1988)|(year==1989)|(year==1990), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1987)|(year==1988)|(year==1989)|(year==1990)|(year==1991), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1988)|(year==1989)|(year==1990)|(year==1991)|(year==1992), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1989)|(year==1990)|(year==1991)|(year==1992)|(year==1993), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1990)|(year==1991)|(year==1992)|(year==1993)|(year==1994), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1991)|(year==1992)|(year==1993)|(year==1994)|(year==1995), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1992)|(year==1993)|(year==1994)|(year==1995)|(year==1996), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1993)|(year==1994)|(year==1995)|(year==1996)|(year==1997), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1994)|(year==1995)|(year==1996)|(year==1997)|(year==1998), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1995)|(year==1996)|(year==1997)|(year==1998)|(year==1999), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1996)|(year==1997)|(year==1998)|(year==1999)|(year==2000), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1997)|(year==1998)|(year==1999)|(year==2000)|(year==2001), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1998)|(year==1999)|(year==2000)|(year==2001)|(year==2002), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1999)|(year==2000)|(year==2001)|(year==2002)|(year==2003), i(dyadid);xtlogit satransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==2000)|(year==2001)|(year==2002)|(year==2003)|(year==2004), i(dyadid);

/* Major conventional arms xtpcse models in Table II */

tsset dyadid year;
xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag emdichlag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004, hetonly;
xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004, hetonly;
xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag emtype1lag emtype2lag emtype3lag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004, hetonly;

/* Major conventional arms "moving windows" analyses, Figure 4 */
xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982)|(year==1983), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982)|(year==1983)|(year==1984), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982)|(year==1983)|(year==1984)|(year==1985), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1982)|(year==1983)|(year==1984)|(year==1985)|(year==1986), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1983)|(year==1984)|(year==1985)|(year==1986)|(year==1987), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1984)|(year==1985)|(year==1986)|(year==1987)|(year==1988), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1985)|(year==1986)|(year==1987)|(year==1988)|(year==1989), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1986)|(year==1987)|(year==1988)|(year==1989)|(year==1990), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1987)|(year==1988)|(year==1989)|(year==1990)|(year==1991), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1988)|(year==1989)|(year==1990)|(year==1991)|(year==1992), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1989)|(year==1990)|(year==1991)|(year==1992)|(year==1993), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1990)|(year==1991)|(year==1992)|(year==1993)|(year==1994), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1991)|(year==1992)|(year==1993)|(year==1994)|(year==1995), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1992)|(year==1993)|(year==1994)|(year==1995)|(year==1996), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1993)|(year==1994)|(year==1995)|(year==1996)|(year==1997), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1994)|(year==1995)|(year==1996)|(year==1997)|(year==1998), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1995)|(year==1996)|(year==1997)|(year==1998)|(year==1999), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1996)|(year==1997)|(year==1998)|(year==1999)|(year==2000), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1997)|(year==1998)|(year==1999)|(year==2000)|(year==2001), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1998)|(year==1999)|(year==2000)|(year==2001)|(year==2002), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==1999)|(year==2000)|(year==2001)|(year==2002)|(year==2003), hetonly;xtpcse mctransfer polity2lag atopallylag ungdpcaploglag oilprodlag embargopartiallag embargofulllag coldwar y1981 y1982 y1982 y1984 y1985 y1986 y1987 y1988 y1989 y1990 y1991 y1992 y1993 y1994 y1995 y1996 y1997 y1998 y1999 y2000 y2001 y2002 y2003 y2004 if (year==2000)|(year==2001)|(year==2002)|(year==2003)|(year==2004), hetonly;