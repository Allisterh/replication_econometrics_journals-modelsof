[
  {
    "command": {
      "id": "#delimit",
      "value": "#delimit",
      "line": 1,
      "column": 1
    },
    "varlist": [
      {
        "id": ";",
        "value": ";",
        "line": 1,
        "column": 10
      }
    ]
  },
  {
    "id": "comment",
    "value": "********************************************************************",
    "line": 3,
    "column": 1
  },
  {
    "id": "comment",
    "value": "********************************************************************",
    "line": 19,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "makes",
      "line": 5,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pictures",
        "line": 5,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 5,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "streetcar",
        "line": 5,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "ridership",
        "line": 5,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "figures",
        "line": 5,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "september",
        "line": 7,
        "column": 1
      },
      {
        "id": "number",
        "value": "13",
        "line": 7,
        "column": 11
      }
    ],
    "in": [
      {
        "id": "identifier",
        "value": "march",
        "line": 12,
        "column": 1
      },
      {
        "id": "number",
        "value": "2",
        "line": 12,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "one",
        "line": 15,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "program",
        "line": 15,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "ridershipfigsv09.do",
        "line": 17,
        "column": 1
      }
    ],
    "options": [
      {
        "id": "number",
        "value": "2012",
        "line": 7,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "september",
        "line": 8,
        "column": 1
      },
      {
        "id": "number",
        "value": "14",
        "line": 8,
        "column": 11
      },
      {
        "id": "number",
        "value": "2012",
        "line": 8,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "september",
        "line": 9,
        "column": 1
      },
      {
        "id": "number",
        "value": "17",
        "line": 9,
        "column": 11
      },
      {
        "id": "number",
        "value": "2012",
        "line": 9,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "october",
        "line": 10,
        "column": 1
      },
      {
        "id": "number",
        "value": "5",
        "line": 10,
        "column": 9
      },
      {
        "id": "number",
        "value": "2012",
        "line": 10,
        "column": 12
      },
      {
        "id": "*",
        "value": "*",
        "line": 10,
        "column": 21
      },
      {
        "id": "*",
        "value": "*",
        "line": 10,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "add",
        "line": 10,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "part",
        "line": 10,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "that",
        "line": 10,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "makes",
        "line": 10,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "table",
        "line": 10,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 10,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "population",
        "line": 10,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "and",
        "line": 10,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "ridership",
        "line": 10,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "march",
        "line": 11,
        "column": 1
      },
      {
        "id": "number",
        "value": "1",
        "line": 11,
        "column": 7
      },
      {
        "id": "number",
        "value": "2013",
        "line": 11,
        "column": 10
      },
      {
        "id": "*",
        "value": "*",
        "line": 11,
        "column": 21
      },
      {
        "id": "*",
        "value": "*",
        "line": 11,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "adding",
        "line": 11,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "new",
        "line": 11,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "years",
        "line": 11,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 11,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 11,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "that",
        "line": 11,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "jack",
        "line": 11,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "found",
        "line": 11,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "and",
        "line": 11,
        "column": 65
      },
      {
        "id": "identifier",
        "value": "put",
        "line": 11,
        "column": 69
      },
      {
        "id": "number",
        "value": "2013",
        "line": 12,
        "column": 10
      },
      {
        "id": "*",
        "value": "*",
        "line": 12,
        "column": 21
      },
      {
        "id": "*",
        "value": "*",
        "line": 12,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "more",
        "line": 12,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 12,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "same",
        "line": 12,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "march",
        "line": 13,
        "column": 1
      },
      {
        "id": "number",
        "value": "4",
        "line": 13,
        "column": 7
      },
      {
        "id": "number",
        "value": "2013",
        "line": 13,
        "column": 10
      },
      {
        "id": "*",
        "value": "*",
        "line": 13,
        "column": 21
      },
      {
        "id": "*",
        "value": "*",
        "line": 13,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "more",
        "line": 13,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 13,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "same",
        "line": 13,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "june",
        "line": 14,
        "column": 1
      },
      {
        "id": "number",
        "value": "17",
        "line": 14,
        "column": 6
      },
      {
        "id": "number",
        "value": "2014",
        "line": 14,
        "column": 10
      },
      {
        "id": "*",
        "value": "*",
        "line": 14,
        "column": 19
      },
      {
        "id": "*",
        "value": "*",
        "line": 14,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "making",
        "line": 14,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "assumptions",
        "line": 14,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "to",
        "line": 14,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "get",
        "line": 14,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "a",
        "line": 14,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "consistent",
        "line": 14,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "PE",
        "line": 14,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "series",
        "line": 14,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "august",
        "line": 15,
        "column": 1
      },
      {
        "id": "number",
        "value": "2",
        "line": 15,
        "column": 8
      },
      {
        "id": "number",
        "value": "2017",
        "line": 15,
        "column": 11
      },
      {
        "id": "*",
        "value": "*",
        "line": 15,
        "column": 20
      },
      {
        "id": "*",
        "value": "*",
        "line": 15,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "save",
        "line": 15,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "dataset",
        "line": 15,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "to",
        "line": 15,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "make",
        "line": 15,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "figures",
        "line": 15,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "all",
        "line": 15,
        "column": 52
      }
    ]
  },
  {
    "id": "comment",
    "value": "****** A. set up **************************************************;",
    "line": 22,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*** A.1. start up things ***;",
    "line": 24,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 26,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "all",
        "line": 26,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pause",
      "line": 27,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "on",
        "line": 27,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 28,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "more",
        "line": 28,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 28,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 29,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "linesize",
        "line": 29,
        "column": 5
      },
      {
        "id": "number",
        "value": "140",
        "line": 29,
        "column": 14
      }
    ]
  },
  {
    "id": "comment",
    "value": "* set todays date;",
    "line": 31,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "adopath",
      "line": 32,
      "column": 1
    },
    "varlist": [
      {
        "id": "+",
        "value": "+",
        "line": 32,
        "column": 9
      },
      {
        "id": "+",
        "value": "+",
        "line": 32,
        "column": 10
      },
      {
        "id": "/",
        "value": "/",
        "line": 32,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "home",
        "line": 32,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 32,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "lfbrooks",
        "line": 32,
        "column": 18
      },
      {
        "id": "/",
        "value": "/",
        "line": 32,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "ado",
        "line": 32,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "dateo",
      "line": 33,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "* make temporary directory *;",
    "line": 35,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 36,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "temp",
        "line": 36,
        "column": 8
      },
      {
        "id": "string",
        "value": "\"/scratch/streetcars\"",
        "line": 36,
        "column": 13
      }
    ]
  },
  {
    "id": "comment",
    "value": "*** A.2. load data ***;",
    "line": 38,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* these data are typed in by ras jack & jessica hayes *;",
    "line": 40,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* they are in a google xls *;",
    "line": 41,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "insheet",
      "line": 42,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 42,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"/groups/brooksgrp/zoning/streetcar_stops/streetcar_ridership_data/2013-03-01_Streetcar_Ridership_Figures_nofirst.txt\"",
        "line": 42,
        "column": 15
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "tab",
        "line": 42,
        "column": 135
      }
    ]
  },
  {
    "id": "comment",
    "value": "****** B. clean up data ************************************************;",
    "line": 45,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*** B.1. clean up year variable ***;",
    "line": 47,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 49,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 49,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "year_char",
        "line": 49,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 50,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 50,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "*** B.2. keep only relevant firms and totals ***;",
    "line": 53,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* make names consistent *;",
    "line": 55,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 56,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 56,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"Angels Flight Railway Company\"",
        "line": 56,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 57,
        "column": 4
      },
      {
        "id": "==",
        "value": "==",
        "line": 57,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"Angel\"",
        "line": 57,
        "column": 12
      },
      {
        "id": "|",
        "value": "|",
        "line": 57,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 57,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 57,
        "column": 27
      },
      {
        "id": "string",
        "value": "\"Angel Flight Railway Company\"",
        "line": 57,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 58,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 58,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"Glendale and Montrose Railway\"",
        "line": 58,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 59,
        "column": 4
      },
      {
        "id": "==",
        "value": "==",
        "line": 59,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"Glendale and montrose Railway\"",
        "line": 59,
        "column": 12
      },
      {
        "id": "|",
        "value": "|",
        "line": 59,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 59,
        "column": 46
      },
      {
        "id": "==",
        "value": "==",
        "line": 59,
        "column": 51
      },
      {
        "id": "string",
        "value": "\"Glendale Montrose Railway\"",
        "line": 59,
        "column": 54
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 60,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 60,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"Pacific Electric Railway Company\"",
        "line": 60,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 61,
        "column": 4
      },
      {
        "id": "==",
        "value": "==",
        "line": 61,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"Pacific Railway Electric Company\"",
        "line": 61,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 62,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 62,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"Pacific Electric - Local Lines Rail\"",
        "line": 62,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 62,
        "column": 57
      },
      {
        "id": "==",
        "value": "==",
        "line": 62,
        "column": 62
      },
      {
        "id": "string",
        "value": "\")\"",
        "line": 62,
        "column": 65
      }
    ]
  },
  {
    "id": "comment",
    "value": "* keep only the relevant firms *;",
    "line": 64,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 65,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 65,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 65,
        "column": 14
      },
      {
        "id": "string",
        "value": "\"Angels Flight Railway Company\"",
        "line": 65,
        "column": 17
      },
      {
        "id": "|",
        "value": "|",
        "line": 65,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 66,
        "column": 1
      },
      {
        "id": "==",
        "value": "==",
        "line": 66,
        "column": 6
      },
      {
        "id": "string",
        "value": "\"Glendale and Montrose Railway\"",
        "line": 66,
        "column": 9
      },
      {
        "id": "|",
        "value": "|",
        "line": 66,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 67,
        "column": 1
      },
      {
        "id": "==",
        "value": "==",
        "line": 67,
        "column": 6
      },
      {
        "id": "string",
        "value": "\"Los Angeles Inter-urban Railway Company\"",
        "line": 67,
        "column": 9
      },
      {
        "id": "|",
        "value": "|",
        "line": 67,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 68,
        "column": 1
      },
      {
        "id": "==",
        "value": "==",
        "line": 68,
        "column": 6
      },
      {
        "id": "string",
        "value": "\"Los Angeles Pacific Company\"",
        "line": 68,
        "column": 9
      },
      {
        "id": "|",
        "value": "|",
        "line": 68,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 69,
        "column": 1
      },
      {
        "id": "==",
        "value": "==",
        "line": 69,
        "column": 6
      },
      {
        "id": "string",
        "value": "\"Los Angeles Railway Corporation\"",
        "line": 69,
        "column": 9
      },
      {
        "id": "|",
        "value": "|",
        "line": 69,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 70,
        "column": 1
      },
      {
        "id": "==",
        "value": "==",
        "line": 70,
        "column": 6
      },
      {
        "id": "string",
        "value": "\"Los Angeles Railway\"",
        "line": 70,
        "column": 9
      },
      {
        "id": "|",
        "value": "|",
        "line": 70,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "substr",
        "line": 71,
        "column": 1
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 71,
        "column": 8
      },
      {
        "id": ",",
        "value": ",",
        "line": 71,
        "column": 12
      },
      {
        "id": "number",
        "value": "1",
        "line": 71,
        "column": 13
      },
      {
        "id": ",",
        "value": ",",
        "line": 71,
        "column": 14
      },
      {
        "id": "number",
        "value": "24",
        "line": 71,
        "column": 15
      },
      {
        "id": "==",
        "value": "==",
        "line": 71,
        "column": 19
      },
      {
        "id": "string",
        "value": "\"Los Angeles and Mt. Wash\"",
        "line": 71,
        "column": 22
      },
      {
        "id": "|",
        "value": "|",
        "line": 71,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 72,
        "column": 1
      },
      {
        "id": "==",
        "value": "==",
        "line": 72,
        "column": 6
      },
      {
        "id": "string",
        "value": "\"Los Angeles and Redondo Railway Company\"",
        "line": 72,
        "column": 9
      },
      {
        "id": "|",
        "value": "|",
        "line": 72,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 73,
        "column": 1
      },
      {
        "id": "==",
        "value": "==",
        "line": 73,
        "column": 6
      },
      {
        "id": "string",
        "value": "\"Pacific Electric\"",
        "line": 73,
        "column": 9
      },
      {
        "id": "|",
        "value": "|",
        "line": 73,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 74,
        "column": 1
      },
      {
        "id": "==",
        "value": "==",
        "line": 74,
        "column": 6
      },
      {
        "id": "string",
        "value": "\"Pacific Electric - Local Lines Rail\"",
        "line": 74,
        "column": 9
      }
    ]
  },
  {
    "id": "comment",
    "value": "* give firms numeric codes for easier use later *;",
    "line": 76,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 77,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 77,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 77,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 79,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 79,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 79,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 80,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 80,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 80,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 80,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 80,
        "column": 31
      },
      {
        "id": "string",
        "value": "\"Angels Flight Railway Company\"",
        "line": 80,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 81,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 81,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "2",
        "line": 81,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 81,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 81,
        "column": 31
      },
      {
        "id": "string",
        "value": "\"Glendale and Montrose Railway\"",
        "line": 81,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 82,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 82,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "3",
        "line": 82,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 82,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 82,
        "column": 31
      },
      {
        "id": "string",
        "value": "\"Los Angeles Inter-urban Railway Company\"",
        "line": 82,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 83,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 83,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "4",
        "line": 83,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 83,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 83,
        "column": 31
      },
      {
        "id": "string",
        "value": "\"Los Angeles Pacific Company\"",
        "line": 83,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 84,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 84,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "5",
        "line": 84,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 84,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 84,
        "column": 31
      },
      {
        "id": "string",
        "value": "\"Los Angeles Railway Corporation\"",
        "line": 84,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 85,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 85,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "6",
        "line": 85,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "substr",
        "line": 85,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 85,
        "column": 28
      },
      {
        "id": ",",
        "value": ",",
        "line": 85,
        "column": 37
      },
      {
        "id": "number",
        "value": "1",
        "line": 85,
        "column": 38
      },
      {
        "id": ",",
        "value": ",",
        "line": 85,
        "column": 39
      },
      {
        "id": "number",
        "value": "24",
        "line": 85,
        "column": 40
      },
      {
        "id": "==",
        "value": "==",
        "line": 85,
        "column": 44
      },
      {
        "id": "string",
        "value": "\"Los Angeles and Mt. Wash\"",
        "line": 85,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 86,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 86,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "7",
        "line": 86,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 86,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 86,
        "column": 31
      },
      {
        "id": "string",
        "value": "\"Los Angeles and Redondo Railway Company\"",
        "line": 86,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 87,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 87,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "8",
        "line": 87,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 87,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 87,
        "column": 31
      },
      {
        "id": "string",
        "value": "\"Pacific Electric\"",
        "line": 87,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 88,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 88,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "10",
        "line": 88,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 88,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 88,
        "column": 32
      },
      {
        "id": "string",
        "value": "\"Los Angeles Railway\"",
        "line": 88,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 89,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 89,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "11",
        "line": 89,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm_name",
        "line": 89,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 89,
        "column": 32
      },
      {
        "id": "string",
        "value": "\"Pacific Electric - Local Lines Rail\"",
        "line": 89,
        "column": 35
      }
    ]
  },
  {
    "id": "comment",
    "value": "* drop multiple observations for the same firm in the same year *;",
    "line": 91,
    "column": 1
  },
  {
    "id": "comment",
    "value": "** la railway **;",
    "line": 92,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* get rid of rr commission obs for LA Railway, since we always have info from another source *;",
    "line": 93,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 94,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 94,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 94,
        "column": 14
      },
      {
        "id": "number",
        "value": "5",
        "line": 94,
        "column": 17
      },
      {
        "id": "&",
        "value": "&",
        "line": 94,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "source",
        "line": 94,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 94,
        "column": 28
      },
      {
        "id": "string",
        "value": "\"Railroad Commission\"",
        "line": 94,
        "column": 31
      }
    ]
  },
  {
    "id": "comment",
    "value": "* these sources dont agree in early years, but do in later years *;",
    "line": 95,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 96,
      "column": 1
    },
    "=": [
      {
        "id": "number",
        "value": "1920",
        "line": 96,
        "column": 58
      },
      {
        "id": "&",
        "value": "&",
        "line": 96,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 96,
        "column": 65
      },
      {
        "id": "<",
        "value": "<",
        "line": 96,
        "column": 70
      },
      {
        "id": "number",
        "value": "1924",
        "line": 96,
        "column": 73
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 96,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 96,
        "column": 14
      },
      {
        "id": "number",
        "value": "10",
        "line": 96,
        "column": 17
      },
      {
        "id": "&",
        "value": "&",
        "line": 96,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "source",
        "line": 96,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 96,
        "column": 29
      },
      {
        "id": "string",
        "value": "\"Jenkins, 1940\"",
        "line": 96,
        "column": 32
      },
      {
        "id": "&",
        "value": "&",
        "line": 96,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 96,
        "column": 50
      },
      {
        "id": ">",
        "value": ">",
        "line": 96,
        "column": 55
      }
    ]
  },
  {
    "id": "comment",
    "value": "** pe (more tricky) **;",
    "line": 98,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* the sources vary so much in ridership that ill just keep both and show both *;",
    "line": 99,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*sort year firm;",
    "line": 100,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*format rev_passengers %15.0gc;",
    "line": 101,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*format transfer_passengers %15.0gc;",
    "line": 102,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*format total_passengers %15.0gc;",
    "line": 103,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*list firm firm_name year source rev_passengers transfer_passengers total_passengers if firm == 8 | firm == 11;",
    "line": 104,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* save for next merge *;",
    "line": 106,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "sort",
      "line": 107,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 107,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 108,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "$",
        "line": 108,
        "column": 6
      },
      {
        "id": "{",
        "value": "{",
        "line": 108,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "temp",
        "line": 108,
        "column": 8
      },
      {
        "id": "}",
        "value": "}",
        "line": 108,
        "column": 12
      },
      {
        "id": "/",
        "value": "/",
        "line": 108,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "stfirms",
        "line": 108,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 108,
        "column": 23
      }
    ]
  },
  {
    "id": "comment",
    "value": "*** B.3. bring in county population *************;",
    "line": 110,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* source notes for this are in excel file by same name *;",
    "line": 112,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 113,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 114,
      "column": 1
    },
    "varlist": [
      {
        "id": "/",
        "value": "/",
        "line": 114,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "groups",
        "line": 114,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 114,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "brooksgrp",
        "line": 114,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 114,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "zoning",
        "line": 114,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 114,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "streetcar_stops",
        "line": 114,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 114,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "los_angeles_population_over_long_time",
        "line": 114,
        "column": 46
      },
      {
        "id": "/",
        "value": "/",
        "line": 114,
        "column": 83
      },
      {
        "id": "identifier",
        "value": "assembled_data",
        "line": 114,
        "column": 84
      },
      {
        "id": "/",
        "value": "/",
        "line": 114,
        "column": 98
      },
      {
        "id": "number",
        "value": "2012",
        "line": 114,
        "column": 99
      },
      {
        "id": "-",
        "value": "-",
        "line": 114,
        "column": 103
      },
      {
        "id": "number",
        "value": "09",
        "line": 114,
        "column": 104
      },
      {
        "id": "-",
        "value": "-",
        "line": 114,
        "column": 106
      },
      {
        "id": "number",
        "value": "14",
        "line": 114,
        "column": 107
      },
      {
        "id": "identifier",
        "value": "_la_cnty_and_c3ities_pop_1850_2000.dta",
        "line": 114,
        "column": 109
      }
    ]
  },
  {
    "id": "comment",
    "value": "* keep only la county and city population figures *;",
    "line": 116,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 117,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 117,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 117,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 117,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 118,
      "column": 1
    },
    "=": [
      {
        "id": "number",
        "value": "1890",
        "line": 118,
        "column": 17
      },
      {
        "id": "&",
        "value": "&",
        "line": 118,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 118,
        "column": 24
      },
      {
        "id": "<",
        "value": "<",
        "line": 118,
        "column": 29
      },
      {
        "id": "number",
        "value": "1950",
        "line": 118,
        "column": 32
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 118,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 118,
        "column": 14
      }
    ]
  },
  {
    "id": "comment",
    "value": "* find decade differences *;",
    "line": 120,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 121,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 121,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 121,
        "column": 27
      },
      {
        "id": "==",
        "value": "==",
        "line": 121,
        "column": 32
      },
      {
        "id": "number",
        "value": "1910",
        "line": 121,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 122,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m1910",
        "line": 122,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 122,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 122,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 123,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 123,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 123,
        "column": 25
      },
      {
        "id": "==",
        "value": "==",
        "line": 123,
        "column": 30
      },
      {
        "id": "number",
        "value": "1910",
        "line": 123,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 124,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m1910i",
        "line": 124,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 124,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 124,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 125,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 125,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 125,
        "column": 27
      },
      {
        "id": "==",
        "value": "==",
        "line": 125,
        "column": 32
      },
      {
        "id": "number",
        "value": "1920",
        "line": 125,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 126,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m1920",
        "line": 126,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 126,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 126,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 127,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 127,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 127,
        "column": 25
      },
      {
        "id": "==",
        "value": "==",
        "line": 127,
        "column": 30
      },
      {
        "id": "number",
        "value": "1920",
        "line": 127,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 128,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m1920i",
        "line": 128,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 128,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 128,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 129,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 129,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 129,
        "column": 27
      },
      {
        "id": "==",
        "value": "==",
        "line": 129,
        "column": 32
      },
      {
        "id": "number",
        "value": "1930",
        "line": 129,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 130,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m1930",
        "line": 130,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 130,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 130,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 131,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 131,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 131,
        "column": 25
      },
      {
        "id": "==",
        "value": "==",
        "line": 131,
        "column": 30
      },
      {
        "id": "number",
        "value": "1930",
        "line": 131,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 132,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m1930i",
        "line": 132,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 132,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 132,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 133,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 133,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 133,
        "column": 27
      },
      {
        "id": "==",
        "value": "==",
        "line": 133,
        "column": 32
      },
      {
        "id": "number",
        "value": "1940",
        "line": 133,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 134,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m1940",
        "line": 134,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 134,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 134,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 135,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 135,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 135,
        "column": 25
      },
      {
        "id": "==",
        "value": "==",
        "line": 135,
        "column": 30
      },
      {
        "id": "number",
        "value": "1940",
        "line": 135,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 136,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m1940i",
        "line": 136,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 136,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 136,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 137,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "diff12",
        "line": 137,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1920'",
        "line": 137,
        "column": 17
      },
      {
        "id": "-",
        "value": "-",
        "line": 137,
        "column": 25
      },
      {
        "id": "`'",
        "value": "`m1910'",
        "line": 137,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 137,
        "column": 35
      },
      {
        "id": "number",
        "value": "10",
        "line": 137,
        "column": 36
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 138,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "diff23",
        "line": 138,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1930'",
        "line": 138,
        "column": 17
      },
      {
        "id": "-",
        "value": "-",
        "line": 138,
        "column": 25
      },
      {
        "id": "`'",
        "value": "`m1920'",
        "line": 138,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 138,
        "column": 35
      },
      {
        "id": "number",
        "value": "10",
        "line": 138,
        "column": 36
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 139,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "diff34",
        "line": 139,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1940'",
        "line": 139,
        "column": 17
      },
      {
        "id": "-",
        "value": "-",
        "line": 139,
        "column": 25
      },
      {
        "id": "`'",
        "value": "`m1930'",
        "line": 139,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 139,
        "column": 35
      },
      {
        "id": "number",
        "value": "10",
        "line": 139,
        "column": 36
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 140,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "diff12i",
        "line": 140,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1920i'",
        "line": 140,
        "column": 18
      },
      {
        "id": "-",
        "value": "-",
        "line": 140,
        "column": 27
      },
      {
        "id": "`'",
        "value": "`m1910i'",
        "line": 140,
        "column": 29
      },
      {
        "id": "/",
        "value": "/",
        "line": 140,
        "column": 38
      },
      {
        "id": "number",
        "value": "10",
        "line": 140,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 141,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "diff23i",
        "line": 141,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1930i'",
        "line": 141,
        "column": 18
      },
      {
        "id": "-",
        "value": "-",
        "line": 141,
        "column": 27
      },
      {
        "id": "`'",
        "value": "`m1920i'",
        "line": 141,
        "column": 29
      },
      {
        "id": "/",
        "value": "/",
        "line": 141,
        "column": 38
      },
      {
        "id": "number",
        "value": "10",
        "line": 141,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 142,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "diff34i",
        "line": 142,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1940i'",
        "line": 142,
        "column": 18
      },
      {
        "id": "-",
        "value": "-",
        "line": 142,
        "column": 27
      },
      {
        "id": "`'",
        "value": "`m1930i'",
        "line": 142,
        "column": 29
      },
      {
        "id": "/",
        "value": "/",
        "line": 142,
        "column": 38
      },
      {
        "id": "number",
        "value": "10",
        "line": 142,
        "column": 39
      }
    ]
  },
  {
    "id": "comment",
    "value": "* make linear interpolation for population between census years *;",
    "line": 145,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 146,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "j",
        "line": 146,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 146,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 146,
        "column": 14
      },
      {
        "id": "number",
        "value": "9",
        "line": 146,
        "column": 15
      },
      {
        "id": "{",
        "value": "{",
        "line": 147,
        "column": 1
      }
    ]
  },
  {
    "id": "comment",
    "value": "* 1910 to 1920 *;",
    "line": 148,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 149,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "new",
        "line": 149,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_N",
        "line": 149,
        "column": 13
      },
      {
        "id": "+",
        "value": "+",
        "line": 149,
        "column": 15
      },
      {
        "id": "number",
        "value": "1",
        "line": 149,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 150,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obs",
        "line": 150,
        "column": 5
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 150,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 151,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 151,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 151,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 152,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 152,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1910",
        "line": 152,
        "column": 16
      },
      {
        "id": "+",
        "value": "+",
        "line": 152,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 152,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 152,
        "column": 30
      },
      {
        "id": "==",
        "value": "==",
        "line": 152,
        "column": 35
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 152,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 153,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 153,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1910'",
        "line": 153,
        "column": 29
      },
      {
        "id": "+",
        "value": "+",
        "line": 153,
        "column": 37
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 153,
        "column": 39
      },
      {
        "id": "*",
        "value": "*",
        "line": 153,
        "column": 42
      },
      {
        "id": "`'",
        "value": "`diff12'",
        "line": 153,
        "column": 43
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 153,
        "column": 55
      },
      {
        "id": "==",
        "value": "==",
        "line": 153,
        "column": 60
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 153,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 154,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 154,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1910i'",
        "line": 154,
        "column": 27
      },
      {
        "id": "+",
        "value": "+",
        "line": 154,
        "column": 36
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 154,
        "column": 38
      },
      {
        "id": "*",
        "value": "*",
        "line": 154,
        "column": 41
      },
      {
        "id": "`'",
        "value": "`diff12i'",
        "line": 154,
        "column": 42
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 154,
        "column": 55
      },
      {
        "id": "==",
        "value": "==",
        "line": 154,
        "column": 60
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 154,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 155,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 155,
        "column": 6
      }
    ]
  },
  {
    "id": "comment",
    "value": "* 1920 to 1930 *;",
    "line": 156,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 157,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "new",
        "line": 157,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_N",
        "line": 157,
        "column": 13
      },
      {
        "id": "+",
        "value": "+",
        "line": 157,
        "column": 15
      },
      {
        "id": "number",
        "value": "1",
        "line": 157,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 158,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obs",
        "line": 158,
        "column": 5
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 158,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 159,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 159,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 159,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 160,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 160,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1920",
        "line": 160,
        "column": 16
      },
      {
        "id": "+",
        "value": "+",
        "line": 160,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 160,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 160,
        "column": 30
      },
      {
        "id": "==",
        "value": "==",
        "line": 160,
        "column": 35
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 160,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 161,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 161,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1920'",
        "line": 161,
        "column": 29
      },
      {
        "id": "+",
        "value": "+",
        "line": 161,
        "column": 37
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 161,
        "column": 39
      },
      {
        "id": "*",
        "value": "*",
        "line": 161,
        "column": 42
      },
      {
        "id": "`'",
        "value": "`diff23'",
        "line": 161,
        "column": 43
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 161,
        "column": 55
      },
      {
        "id": "==",
        "value": "==",
        "line": 161,
        "column": 60
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 161,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 162,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 162,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1920i'",
        "line": 162,
        "column": 27
      },
      {
        "id": "+",
        "value": "+",
        "line": 162,
        "column": 36
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 162,
        "column": 38
      },
      {
        "id": "*",
        "value": "*",
        "line": 162,
        "column": 41
      },
      {
        "id": "`'",
        "value": "`diff23i'",
        "line": 162,
        "column": 42
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 162,
        "column": 55
      },
      {
        "id": "==",
        "value": "==",
        "line": 162,
        "column": 60
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 162,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 163,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 163,
        "column": 6
      }
    ]
  },
  {
    "id": "comment",
    "value": "* 1930 to 1940 *;",
    "line": 164,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 165,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "new",
        "line": 165,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_N",
        "line": 165,
        "column": 13
      },
      {
        "id": "+",
        "value": "+",
        "line": 165,
        "column": 15
      },
      {
        "id": "number",
        "value": "1",
        "line": 165,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 166,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obs",
        "line": 166,
        "column": 5
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 166,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 167,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 167,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 167,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 168,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 168,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1930",
        "line": 168,
        "column": 16
      },
      {
        "id": "+",
        "value": "+",
        "line": 168,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 168,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 168,
        "column": 30
      },
      {
        "id": "==",
        "value": "==",
        "line": 168,
        "column": 35
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 168,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 169,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 169,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1930'",
        "line": 169,
        "column": 29
      },
      {
        "id": "+",
        "value": "+",
        "line": 169,
        "column": 37
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 169,
        "column": 39
      },
      {
        "id": "*",
        "value": "*",
        "line": 169,
        "column": 42
      },
      {
        "id": "`'",
        "value": "`diff34'",
        "line": 169,
        "column": 43
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 169,
        "column": 55
      },
      {
        "id": "==",
        "value": "==",
        "line": 169,
        "column": 60
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 169,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 170,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 170,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m1930i'",
        "line": 170,
        "column": 27
      },
      {
        "id": "+",
        "value": "+",
        "line": 170,
        "column": 36
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 170,
        "column": 38
      },
      {
        "id": "*",
        "value": "*",
        "line": 170,
        "column": 41
      },
      {
        "id": "`'",
        "value": "`diff34i'",
        "line": 170,
        "column": 42
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 170,
        "column": 55
      },
      {
        "id": "==",
        "value": "==",
        "line": 170,
        "column": 60
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 170,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 171,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 171,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "}",
      "value": "}",
      "line": 172,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "* make half-year populations *;",
    "line": 175,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "program",
      "line": 176,
      "column": 9
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "capture",
          "line": 176,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 176,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "halfyr",
        "line": 176,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "program",
      "line": 177,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "define",
        "line": 177,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "halfyr",
        "line": 177,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "syntax",
      "line": 179,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "inyr",
        "line": 179,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 179,
        "column": 14
      }
    ]
  },
  {
    "id": "comment",
    "value": "* calculate second yr *;",
    "line": 181,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 182,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "outyr",
        "line": 182,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`inyr'",
        "line": 182,
        "column": 15
      },
      {
        "id": "+",
        "value": "+",
        "line": 182,
        "column": 22
      },
      {
        "id": "number",
        "value": "1",
        "line": 182,
        "column": 24
      }
    ]
  },
  {
    "id": "comment",
    "value": "* first year *;",
    "line": 184,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 185,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 185,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 185,
        "column": 27
      },
      {
        "id": "==",
        "value": "==",
        "line": 185,
        "column": 32
      },
      {
        "id": "`'",
        "value": "`inyr'",
        "line": 185,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 186,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 186,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`inyr'",
        "line": 186,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 186,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 186,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 187,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 187,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 187,
        "column": 25
      },
      {
        "id": "==",
        "value": "==",
        "line": 187,
        "column": 30
      },
      {
        "id": "`'",
        "value": "`inyr'",
        "line": 187,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 188,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 188,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`inyr'",
        "line": 188,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "i",
        "line": 188,
        "column": 14
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 188,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 188,
        "column": 20
      }
    ]
  },
  {
    "id": "comment",
    "value": "* second year *;",
    "line": 190,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 191,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 191,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 191,
        "column": 27
      },
      {
        "id": "==",
        "value": "==",
        "line": 191,
        "column": 32
      },
      {
        "id": "`'",
        "value": "`outyr'",
        "line": 191,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 192,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 192,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`outyr'",
        "line": 192,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 192,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 192,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 193,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 193,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 193,
        "column": 25
      },
      {
        "id": "==",
        "value": "==",
        "line": 193,
        "column": 30
      },
      {
        "id": "`'",
        "value": "`outyr'",
        "line": 193,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 194,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 194,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`outyr'",
        "line": 194,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "i",
        "line": 194,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 194,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 194,
        "column": 21
      }
    ]
  },
  {
    "id": "comment",
    "value": "* make new obs and calculate *;",
    "line": 196,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 197,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "new",
        "line": 197,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_N",
        "line": 197,
        "column": 13
      },
      {
        "id": "+",
        "value": "+",
        "line": 197,
        "column": 15
      },
      {
        "id": "number",
        "value": "1",
        "line": 197,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 198,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obs",
        "line": 198,
        "column": 5
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 198,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 199,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 199,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 199,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 200,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 200,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`inyr'",
        "line": 200,
        "column": 16
      },
      {
        "id": "+",
        "value": "+",
        "line": 200,
        "column": 23
      },
      {
        "id": "number",
        "value": "0.5",
        "line": 200,
        "column": 25
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 200,
        "column": 32
      },
      {
        "id": "==",
        "value": "==",
        "line": 200,
        "column": 37
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 200,
        "column": 40
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 201,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 201,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m`inyr'",
        "line": 201,
        "column": 30
      },
      {
        "id": "'",
        "value": "'",
        "line": 201,
        "column": 38
      },
      {
        "id": "+",
        "value": "+",
        "line": 201,
        "column": 40
      },
      {
        "id": "`'",
        "value": "`m`outyr'",
        "line": 201,
        "column": 42
      },
      {
        "id": "'",
        "value": "'",
        "line": 201,
        "column": 51
      },
      {
        "id": "/",
        "value": "/",
        "line": 201,
        "column": 53
      },
      {
        "id": "number",
        "value": "2",
        "line": 201,
        "column": 54
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 201,
        "column": 59
      },
      {
        "id": "==",
        "value": "==",
        "line": 201,
        "column": 64
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 201,
        "column": 67
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 202,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 202,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`m`inyr'",
        "line": 202,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "i",
        "line": 202,
        "column": 36
      },
      {
        "id": "'",
        "value": "'",
        "line": 202,
        "column": 37
      },
      {
        "id": "+",
        "value": "+",
        "line": 202,
        "column": 39
      },
      {
        "id": "`'",
        "value": "`m`outyr'",
        "line": 202,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "i",
        "line": 202,
        "column": 50
      },
      {
        "id": "'",
        "value": "'",
        "line": 202,
        "column": 51
      },
      {
        "id": "/",
        "value": "/",
        "line": 202,
        "column": 53
      },
      {
        "id": "number",
        "value": "2",
        "line": 202,
        "column": 54
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 202,
        "column": 59
      },
      {
        "id": "==",
        "value": "==",
        "line": 202,
        "column": 64
      },
      {
        "id": "`'",
        "value": "`new'",
        "line": 202,
        "column": 67
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 203,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "obso",
        "line": 203,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "end",
      "line": 205,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "* call the program *;",
    "line": 207,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "halfyr",
      "line": 208,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "inyr",
        "line": 208,
        "column": 9
      },
      {
        "id": "number",
        "value": "1912",
        "line": 208,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "halfyr",
      "line": 209,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "inyr",
        "line": 209,
        "column": 9
      },
      {
        "id": "number",
        "value": "1913",
        "line": 209,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "halfyr",
      "line": 210,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "inyr",
        "line": 210,
        "column": 9
      },
      {
        "id": "number",
        "value": "1914",
        "line": 210,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "halfyr",
      "line": 211,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "inyr",
        "line": 211,
        "column": 9
      },
      {
        "id": "number",
        "value": "1915",
        "line": 211,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "halfyr",
      "line": 212,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "inyr",
        "line": 212,
        "column": 9
      },
      {
        "id": "number",
        "value": "1916",
        "line": 212,
        "column": 14
      }
    ]
  },
  {
    "id": "comment",
    "value": "* rename *;",
    "line": 214,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 215,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "county_losangeles",
        "line": 215,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "population",
        "line": 215,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 216,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 216,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "population",
        "line": 216,
        "column": 16
      },
      {
        "id": "string",
        "value": "\"los angeles county population from census\"",
        "line": 216,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 217,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "city_losangeles",
        "line": 217,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "lacity_pop",
        "line": 217,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 218,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 218,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "lacity_pop",
        "line": 218,
        "column": 16
      },
      {
        "id": "string",
        "value": "\"city of los angeles population from census\"",
        "line": 218,
        "column": 27
      }
    ]
  },
  {
    "id": "comment",
    "value": "* save for later merging (so we dont transpose it in the next step) *;",
    "line": 220,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "sort",
      "line": 221,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 221,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 222,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "$",
        "line": 222,
        "column": 6
      },
      {
        "id": "{",
        "value": "{",
        "line": 222,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "temp",
        "line": 222,
        "column": 8
      },
      {
        "id": "}",
        "value": "}",
        "line": 222,
        "column": 12
      },
      {
        "id": "/",
        "value": "/",
        "line": 222,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "pops",
        "line": 222,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 222,
        "column": 20
      }
    ]
  },
  {
    "id": "comment",
    "value": "* merge with passengers *;",
    "line": 224,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "sort",
      "line": 225,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 225,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 226,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 226,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 226,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 226,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 226,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 226,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 226,
        "column": 22
      },
      {
        "id": "{",
        "value": "{",
        "line": 226,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "temp",
        "line": 226,
        "column": 24
      },
      {
        "id": "}",
        "value": "}",
        "line": 226,
        "column": 28
      },
      {
        "id": "/",
        "value": "/",
        "line": 226,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "stfirms",
        "line": 226,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 227,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 227,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 227,
        "column": 16
      },
      {
        "id": "number",
        "value": "1",
        "line": 227,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 228,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 228,
        "column": 6
      }
    ]
  },
  {
    "id": "comment",
    "value": "*** B.4. make consistent variables of interest ****;",
    "line": 230,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* make consistent-ish passengers variable *;",
    "line": 232,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 233,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "passengers",
        "line": 233,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total_passengers",
        "line": 233,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 234,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "passengers",
        "line": 234,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "rev_passengers",
        "line": 234,
        "column": 22
      },
      {
        "id": "+",
        "value": "+",
        "line": 234,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "transfer_passengers",
        "line": 234,
        "column": 39
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "total_passengers",
        "line": 234,
        "column": 62
      },
      {
        "id": "==",
        "value": "==",
        "line": 234,
        "column": 79
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 234,
        "column": 82
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 236,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "junk1",
        "line": 236,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "junk2",
        "line": 236,
        "column": 12
      }
    ]
  },
  {
    "id": "comment",
    "value": "* get rid of characters for average fare *;",
    "line": 238,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "destring",
      "line": 239,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "average_fare",
        "line": 239,
        "column": 10
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "generate",
        "line": 239,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "average_fare_num",
        "line": 239,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "force",
        "line": 239,
        "column": 51
      }
    ]
  },
  {
    "id": "comment",
    "value": "* make some per capita things *;",
    "line": 241,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 242,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pass_pc",
        "line": 242,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "passengers",
        "line": 242,
        "column": 15
      },
      {
        "id": "/",
        "value": "/",
        "line": 242,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "population",
        "line": 242,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 243,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pass_rev_pc",
        "line": 243,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "pass_rev",
        "line": 243,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 243,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "population",
        "line": 243,
        "column": 30
      }
    ]
  },
  {
    "id": "comment",
    "value": "*** B.5. transpose for graphing ***;",
    "line": 245,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 247,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firm",
        "line": 247,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 247,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "passengers",
        "line": 247,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "average_fare_num",
        "line": 247,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "pass_rev",
        "line": 247,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "pass_pc",
        "line": 247,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "pass_rev_pc",
        "line": 247,
        "column": 61
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 248,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "passengers",
        "line": 248,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "passengers",
        "line": 248,
        "column": 22
      },
      {
        "id": "/",
        "value": "/",
        "line": 248,
        "column": 33
      },
      {
        "id": "number",
        "value": "1000000",
        "line": 248,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 249,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 249,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "passengers",
        "line": 249,
        "column": 16
      },
      {
        "id": "string",
        "value": "\"passengers in millions\"",
        "line": 249,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 250,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "average_fare_num",
        "line": 250,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "average_fare_num",
        "line": 250,
        "column": 28
      },
      {
        "id": "*",
        "value": "*",
        "line": 250,
        "column": 45
      },
      {
        "id": "number",
        "value": "100",
        "line": 250,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 251,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pass_rev",
        "line": 251,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "pass_rev",
        "line": 251,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 251,
        "column": 29
      },
      {
        "id": "number",
        "value": "1000000",
        "line": 251,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "format",
      "line": 252,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "passengers",
        "line": 252,
        "column": 8
      },
      {
        "id": "%",
        "value": "%",
        "line": 252,
        "column": 19
      },
      {
        "id": "number",
        "value": "18.0gc",
        "line": 252,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 253,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "wide",
        "line": 253,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "passengers",
        "line": 253,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "average_fare_num",
        "line": 253,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "pass_rev",
        "line": 253,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "pass_pc",
        "line": 253,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "pass_rev_pc",
        "line": 253,
        "column": 59
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 253,
        "column": 72
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 253,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 253,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "firm",
        "line": 253,
        "column": 82
      }
    ]
  },
  {
    "id": "comment",
    "value": "* ado to label variables *;",
    "line": 255,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "program",
      "line": 256,
      "column": 9
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "capture",
          "line": 256,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 256,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "labo",
        "line": 256,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "program",
      "line": 257,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "define",
        "line": 257,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "labo",
        "line": 257,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "syntax",
      "line": 259,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "varin",
        "line": 259,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 259,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "varind",
        "line": 259,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 259,
        "column": 30
      }
    ]
  },
  {
    "id": "comment",
    "value": "* note that we dropped #5 above b/c it was a duplicate *;",
    "line": 261,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* #9 was state total that we dont have any more *;",
    "line": 262,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 263,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 263,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`varin'",
        "line": 263,
        "column": 16
      },
      {
        "id": "number",
        "value": "1",
        "line": 263,
        "column": 23
      },
      {
        "id": "string",
        "value": "\"Angels Flight\"",
        "line": 263,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 264,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 264,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`varin'",
        "line": 264,
        "column": 16
      },
      {
        "id": "number",
        "value": "2",
        "line": 264,
        "column": 23
      },
      {
        "id": "string",
        "value": "\"Glendale & Montrose\"",
        "line": 264,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 265,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 265,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`varin'",
        "line": 265,
        "column": 16
      },
      {
        "id": "number",
        "value": "3",
        "line": 265,
        "column": 23
      },
      {
        "id": "string",
        "value": "\"LA Inter-urban RR\"",
        "line": 265,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 266,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 266,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`varin'",
        "line": 266,
        "column": 16
      },
      {
        "id": "number",
        "value": "4",
        "line": 266,
        "column": 23
      },
      {
        "id": "string",
        "value": "\"LA Pacific Co\"",
        "line": 266,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 267,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 267,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`varin'",
        "line": 267,
        "column": 16
      },
      {
        "id": "number",
        "value": "6",
        "line": 267,
        "column": 23
      },
      {
        "id": "string",
        "value": "\"LA & Mt. Washington RR\"",
        "line": 267,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 268,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 268,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`varin'",
        "line": 268,
        "column": 16
      },
      {
        "id": "number",
        "value": "7",
        "line": 268,
        "column": 23
      },
      {
        "id": "string",
        "value": "\"LA & Redondo RR Co\"",
        "line": 268,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 269,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 269,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`varin'",
        "line": 269,
        "column": 16
      },
      {
        "id": "number",
        "value": "8",
        "line": 269,
        "column": 23
      },
      {
        "id": "string",
        "value": "\"Pacific Electric\"",
        "line": 269,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 270,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 270,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`varin'",
        "line": 270,
        "column": 16
      },
      {
        "id": "number",
        "value": "10",
        "line": 270,
        "column": 23
      },
      {
        "id": "string",
        "value": "\"LA Railway\"",
        "line": 270,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 271,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 271,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`varin'",
        "line": 271,
        "column": 16
      },
      {
        "id": "number",
        "value": "11",
        "line": 271,
        "column": 23
      },
      {
        "id": "string",
        "value": "\"Pacific Electric - 1940 source\"",
        "line": 271,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "end",
      "line": 273,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "labo",
      "line": 275,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "varin",
        "line": 275,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "passengers",
        "line": 275,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varind",
        "line": 275,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "passengers",
        "line": 275,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "labo",
      "line": 276,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "varin",
        "line": 276,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "average_fare_num",
        "line": 276,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varind",
        "line": 276,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "av.",
        "line": 276,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "fare",
        "line": 276,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "labo",
      "line": 277,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "varin",
        "line": 277,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "pass_rev",
        "line": 277,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varind",
        "line": 277,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "passenger",
        "line": 277,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "rev.",
        "line": 277,
        "column": 48
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "labo",
      "line": 278,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "varin",
        "line": 278,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "pass_pc",
        "line": 278,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varind",
        "line": 278,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "passengers",
        "line": 278,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "per",
        "line": 278,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "capita",
        "line": 278,
        "column": 53
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "labo",
      "line": 279,
      "column": 1
    },
    "options": [
      {
        "id": "identifier",
        "value": "varin",
        "line": 279,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "pass_rev_pc",
        "line": 279,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varind",
        "line": 279,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "passenger",
        "line": 279,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "rev.",
        "line": 279,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "per",
        "line": 279,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "capita",
        "line": 279,
        "column": 57
      }
    ]
  },
  {
    "id": "comment",
    "value": "* drop a few that have no data *;",
    "line": 281,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* la inter-urban rr (3) angels flight (1) and la & mt wash (6) never have passenger #s *;",
    "line": 282,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 283,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "passengers3",
        "line": 283,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "passengers1",
        "line": 283,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "passengers6",
        "line": 283,
        "column": 30
      }
    ]
  },
  {
    "id": "comment",
    "value": "* never info for fares: *;",
    "line": 284,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 285,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "average_fare_num4",
        "line": 285,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "average_fare_num6",
        "line": 285,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "average_fare_num3",
        "line": 285,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "average_fare_num7",
        "line": 285,
        "column": 60
      }
    ]
  },
  {
    "id": "comment",
    "value": "* never info for passenger revenue *;",
    "line": 286,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 287,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pass_rev6",
        "line": 287,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "pass_rev3",
        "line": 287,
        "column": 16
      }
    ]
  },
  {
    "id": "comment",
    "value": "*** B.6. merge back in the population by year now ****;",
    "line": 289,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 291,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 291,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 291,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 291,
        "column": 18
      },
      {
        "id": "{",
        "value": "{",
        "line": 291,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "temp",
        "line": 291,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 291,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 291,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "pops",
        "line": 291,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 292,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 292,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 293,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 293,
        "column": 6
      }
    ]
  },
  {
    "id": "comment",
    "value": "*** B.7 fix too-low PE numbers ***;",
    "line": 295,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* there is a problem that the PE numbers from 1920 to 1940 are a lot lower",
    "line": 297,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "than",
      "line": 298,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "the",
        "line": 298,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "PE",
        "line": 298,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "numbers",
        "line": 298,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "from",
        "line": 298,
        "column": 21
      },
      {
        "id": "number",
        "value": "1910",
        "line": 298,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "to",
        "line": 298,
        "column": 31
      },
      {
        "id": "number",
        "value": "1915.",
        "line": 298,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "it",
        "line": 298,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "seems",
        "line": 298,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "that",
        "line": 298,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "this",
        "line": 298,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "is",
        "line": 298,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "due",
        "line": 298,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "to",
        "line": 298,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "the",
        "line": 299,
        "column": 1
      },
      {
        "id": "identifier",
        "value": "fact",
        "line": 299,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "that",
        "line": 299,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "our",
        "line": 299,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "source",
        "line": 299,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "for",
        "line": 299,
        "column": 26
      },
      {
        "id": "number",
        "value": "1920",
        "line": 299,
        "column": 30
      },
      {
        "id": "-",
        "value": "-",
        "line": 299,
        "column": 34
      },
      {
        "id": "number",
        "value": "1939",
        "line": 299,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "has",
        "line": 299,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "only",
        "line": 299,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "Pacific",
        "line": 299,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "Electric",
        "line": 299,
        "column": 57
      },
      {
        "id": "-",
        "value": "-",
        "line": 299,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "local",
        "line": 299,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "lines",
        "line": 299,
        "column": 73
      },
      {
        "id": "-",
        "value": "-",
        "line": 299,
        "column": 78
      },
      {
        "id": "identifier",
        "value": "and",
        "line": 300,
        "column": 1
      },
      {
        "id": "identifier",
        "value": "the",
        "line": 300,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "source",
        "line": 300,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "before",
        "line": 300,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "has",
        "line": 300,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "all",
        "line": 300,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "lines.",
        "line": 300,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "This",
        "line": 300,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "was",
        "line": 300,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "the",
        "line": 300,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "only",
        "line": 300,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "source",
        "line": 300,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "we",
        "line": 300,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "found",
        "line": 300,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "when",
        "line": 300,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "we",
        "line": 300,
        "column": 78
      },
      {
        "id": "identifier",
        "value": "looked",
        "line": 301,
        "column": 1
      },
      {
        "id": "identifier",
        "value": "into",
        "line": 301,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "this",
        "line": 301,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "before",
        "line": 301,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "for",
        "line": 301,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "ridership",
        "line": 301,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "on",
        "line": 301,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "the",
        "line": 301,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "Pacific",
        "line": 301,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "Electric.",
        "line": 301,
        "column": 55
      },
      {
        "id": "*",
        "value": "*",
        "line": 301,
        "column": 65
      }
    ]
  },
  {
    "id": "comment",
    "value": "* we decide (see email to Byron dated 5/8/2014) to rescale-the later numbers to match",
    "line": 302,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "the",
      "line": 303,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "earlier",
        "line": 303,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "numbers",
        "line": 303,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 303,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "the",
        "line": 303,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "years",
        "line": 303,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 303,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "overlap",
        "line": 303,
        "column": 40
      },
      {
        "id": "*",
        "value": "*",
        "line": 303,
        "column": 48
      }
    ]
  },
  {
    "id": "comment",
    "value": "* looking at the data, the sources overlap in 1922, 1923 and 1924 *;",
    "line": 304,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* calculate later numbers share of earlier number for those three years *;",
    "line": 306,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 307,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "latershr",
        "line": 307,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "pass_pc11",
        "line": 307,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 307,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "pass_pc8",
        "line": 307,
        "column": 28
      }
    ]
  },
  {
    "id": "comment",
    "value": "* find average share for three years of overlapping data *;",
    "line": 308,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "summ",
      "line": 309,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "latershr",
        "line": 309,
        "column": 6
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 309,
        "column": 18
      },
      {
        "id": "==",
        "value": "==",
        "line": 309,
        "column": 23
      },
      {
        "id": "number",
        "value": "1922",
        "line": 309,
        "column": 26
      },
      {
        "id": "|",
        "value": "|",
        "line": 309,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 309,
        "column": 33
      },
      {
        "id": "==",
        "value": "==",
        "line": 309,
        "column": 38
      },
      {
        "id": "number",
        "value": "1923",
        "line": 309,
        "column": 41
      },
      {
        "id": "|",
        "value": "|",
        "line": 309,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 309,
        "column": 48
      },
      {
        "id": "==",
        "value": "==",
        "line": 309,
        "column": 53
      },
      {
        "id": "number",
        "value": "1924",
        "line": 309,
        "column": 56
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "detail",
        "line": 309,
        "column": 62
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 310,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "shr",
        "line": 310,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 310,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 310,
        "column": 15
      }
    ]
  },
  {
    "id": "comment",
    "value": "* revise later data by this share (39 percent) *;",
    "line": 311,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 312,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pass_pc11rev",
        "line": 312,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "pass_pc11",
        "line": 312,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 312,
        "column": 30
      },
      {
        "id": "`'",
        "value": "`shr'",
        "line": 312,
        "column": 32
      }
    ]
  },
  {
    "id": "comment",
    "value": "* make one series for both data *;",
    "line": 314,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 315,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pass_pc12",
        "line": 315,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "pass_pc8",
        "line": 315,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 315,
        "column": 29
      },
      {
        "id": "<",
        "value": "<",
        "line": 315,
        "column": 34
      },
      {
        "id": "number",
        "value": "1925",
        "line": 315,
        "column": 36
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 316,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pass_pc12",
        "line": 316,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "pass_pc11rev",
        "line": 316,
        "column": 21
      },
      {
        "id": "number",
        "value": "1925",
        "line": 316,
        "column": 45
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 316,
        "column": 37
      },
      {
        "id": ">",
        "value": ">",
        "line": 316,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 317,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "variable",
        "line": 317,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "pass_pc12",
        "line": 317,
        "column": 16
      },
      {
        "id": "string",
        "value": "\"Pacific Electric, two sources, adjusted\"",
        "line": 317,
        "column": 26
      }
    ]
  },
  {
    "id": "comment",
    "value": "* save this for use elsewhere *;",
    "line": 319,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 320,
      "column": 1
    },
    "varlist": [
      {
        "id": "/",
        "value": "/",
        "line": 320,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "groups",
        "line": 320,
        "column": 7
      },
      {
        "id": "/",
        "value": "/",
        "line": 320,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "brooksgrp",
        "line": 320,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 320,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "zoning",
        "line": 320,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 320,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "streetcar_stops",
        "line": 320,
        "column": 31
      },
      {
        "id": "/",
        "value": "/",
        "line": 320,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "stata_output",
        "line": 320,
        "column": 47
      },
      {
        "id": "/",
        "value": "/",
        "line": 320,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "restat_paper_tables",
        "line": 320,
        "column": 60
      },
      {
        "id": "/",
        "value": "/",
        "line": 320,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 320,
        "column": 80
      },
      {
        "id": "/",
        "value": "/",
        "line": 320,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 320,
        "column": 85
      },
      {
        "id": "{",
        "value": "{",
        "line": 320,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "date",
        "line": 320,
        "column": 87
      },
      {
        "id": "}",
        "value": "}",
        "line": 320,
        "column": 91
      },
      {
        "id": "identifier",
        "value": "_ridership_data",
        "line": 320,
        "column": 92
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 320,
        "column": 109
      }
    ]
  },
  {
    "id": "comment",
    "value": "* get rid of temporary data *;",
    "line": 322,
    "column": 1
  },
  {
    "id": "comment",
    "value": "/*;\n\nBREAK;\n\n****** C. make some pictures *******************************************;\n\n*** C.1. basic set up things ***;\n\ngraph set eps orientation landscape;\n\n*** C.2. ado for stuff over time ***;\n\n** this may behave differently now that (10/4) i added population for years that\n   do not have ridership info **;\n\ncapture program drop stuffyr;\nprogram define stuffyr;\n\n  syntax, varin1(string) varin2(string) ytitl(string) grapht(string) subtitl(string);\n\n  * without state totals *;\n  graph twoway\n    connected `varin1' year,\n    ytitle(\"`ytitl'\")\n    subtitle(`subtitl')\n    legend(size(medium))\n    xsize(11) ysize(8.5);\n  graph export \"/href/brooks/home/bleah/zoning/streetcars/statafig/streetcar_ridership_over_time/${date}_`grapht'.eps\",\n    replace;\n\n  * with state totals *;\n  graph twoway\n    connected `varin1' `varin2' year,\n    ytitle(\"`ytitl'\")\n    subtitle(`subtitl')\n    legend(size(medium))\n    xsize(11) ysize(8.5);\n  graph export \"/href/brooks/home/bleah/zoning/streetcars/statafig/streetcar_ridership_over_time/${date}_`grapht'_wstate.eps\",\n    replace;\n\nend;\n\n*** C.3. run the ado ***;\n\n* passengers *;\n*stuffyr, varin1(passengers2 passengers4 passengers5 passengers7 passengers8)\n         varin2(passengers9) ytitl(passengers, millions) grapht(passengers)\n         subtitl(Annual Passengers);\n* fares *;\n*stuffyr, varin1(average_fare_num1 average_fare_num2 average_fare_num5 average_fare_num8)\n         varin2(average_fare_num9) ytitl(average fare, cents) grapht(fare)\n         subtitl(Average Fare);\n* passenger revenue *;\n*stuffyr, varin1(pass_rev1 pass_rev2 pass_rev4 pass_rev5 pass_rev7 pass_rev8)\n         varin2(pass_rev9) ytitl(passenger revenues, millions) grapht(pass_rev)\n         subtitl(Passenger Revenue);\n* passengers per capita *;\n*stuffyr, varin1(pass_pc2 pass_pc4 pass_pc5 pass_pc7 pass_pc8)\n         varin2(pass_pc9) ytitl(passengers per capita) grapht(pass_pc)\n         subtitl(Annual Passengers per capita);\n* passenger revenue per capita *;\n*stuffyr, varin1(pass_rev_pc1 pass_rev_pc2 pass_rev_pc4 pass_rev_pc5 pass_rev_pc7 pass_rev_pc8)\n         varin2(pass_rev_pc9) ytitl(passenger revenues per capita) grapht(pass_rev_pc)\n         subtitl(Passenger Revenue per capita);\n\n*** C.4. passengers per capita ***;\n\n** passengers per capita, pacific electric (two types) left axis, la ry right axis **;\n\n* without state totals *;\ngraph twoway\n  (connected pass_pc11 year if year >= 1910 & year <= 1939, yaxis(1) mcolor(cranberry) lcolor(cranberry))\n  (connected pass_pc10 year if year >= 1910 & year <= 1939, yaxis(2) mcolor(gold) lcolor(gold))\n  (connected pass_pc8 year if year >= 1910 & year <= 1939, yaxis(1) mcolor(maroon) lcolor(maroon)),\n  xscale(range(1910 1940))\n  yscale(range(0 300) axis(2))\n  ylabel(0(100)300, axis(2))\n  ytitle(\"Pacific Electric rides per capita\", axis(1))\n  ytitle(\"LA Railway rides per capita\", axis(2))\n  text(44 1934 \"LA Railway\")\n  text(110 1922 \"Pacific Electric, 1925 source\")\n  text(20  1918 \"Pacific Electric, 1940 source\")\n  xtitle(\"\")\n  legend(off)\n  xsize(11) ysize(8.5);\n\n*graph export \"/groups/brooksgrp/zoning/streetcar_stops/stata_figures/streetcar_ridership_figures/${date}_percapita_ridership_pe_and_lary.eps\",\n    replace;\n\n*** C.5. passengers per capita, fixed data ***;\n\n** passengers per capita, pacific electric left axis, la ry right axis **;\n\n* without state totals *;\ngraph twoway\n  (connected pass_pc12 year if year >= 1910 & year <= 1939, yaxis(1) mcolor(cranberry) lcolor(cranberry))\n  (connected pass_pc10 year if year >= 1910 & year <= 1939, yaxis(2) mcolor(gold) lcolor(gold)),\n  xscale(range(1910 1940))\n  yscale(range(0 300) axis(2))\n  ylabel(0(100)300, axis(2))\n  ytitle(\"Pacific Electric rides per capita\", axis(1))\n  ytitle(\"LA Railway rides per capita\", axis(2))\n  text(60 1936 \"LA Railway\")\n  text(40 1925 \"Pacific Electric\")\n  xtitle(\"\")\n  legend(off)\n  xsize(11) ysize(8.5);\n\ngraph export \"/groups/brooksgrp/zoning/streetcar_stops/stata_figures/streetcar_ridership_figures/${date}_percapita_ridership_pe_adj_and_lary.eps\",\n    replace;\n\n\n\n****** D. make output of population and ridership for paper **************;\n\nsort year;\nkeep if (year == 1880 | year == 1890 | year == 1900 | year == 1910 | year == 1920 | year == 1930) | (passengers10 != . | passengers11 != . | passengers8 != .);\nset linesize 180;\nformat population %10,0fc;\nformat lacity_pop %10,0fc;\nformat passengers10 %5.0f;\nformat passengers8 %5.0f;\nformat passengers11 %5.0f;\nformat pass_pc8 %5.0f;\nformat pass_pc10 %5.0f;\nformat pass_pc11 %5.0f;\ngen apos = \"'\";\ngen str13 population_s = apos + string(population, \"%10.0fc\");\ngen str13 lacity_pop_s = apos + string(lacity_pop, \"%10.0fc\");\nlist year population population_s lacity_pop_s passengers10 pass_pc10 passengers8 pass_pc8 passengers11 pass_pc11;\n\n* output the file *;\n*outsheet year population_s lacity_pop_s passengers5 pass_pc5 passengers8 pass_pc8;\n*outsheet year passengers10 pass_pc10 passengers8 pass_pc8 passengers11 pass_pc11 pass_pc12\n  using \"/href/brooks/home/bleah/zoning/streetcars/stataout/population_ridership_stats/${date}_rider_stats_by_year.txt\", replace;\n",
    "line": 323,
    "column": 17
  },
  {
    "command": {
      "id": "identifier",
      "value": "shell",
      "line": 323,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rm",
        "line": 323,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 323,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 323,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "temp",
        "line": 323,
        "column": 12
      },
      {
        "id": "}",
        "value": "}",
        "line": 323,
        "column": 16
      }
    ]
  }
]