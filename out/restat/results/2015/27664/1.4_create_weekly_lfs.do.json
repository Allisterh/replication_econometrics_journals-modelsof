[
  {
    "id": "comment",
    "value": "**-------------------------------------------------------------------",
    "line": 1,
    "column": 1
  },
  {
    "id": "comment",
    "value": "** NLSY97 SKIN COLOR RECODING - THROUGH 2010 (RD 14)",
    "line": 2,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**-------------------------------------------------------------------",
    "line": 3,
    "column": 1
  },
  {
    "id": "comment",
    "value": "/*\nBE SURE TO DEFINE THE DIRECTORY GLOBAL TO WHERE YOUR DATA ARE.\n*/",
    "line": 5,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 7,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 8,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mata",
        "line": 8,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 9,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 9,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 10,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mem",
        "line": 10,
        "column": 5
      },
      {
        "id": "number",
        "value": "7700m",
        "line": 10,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 11,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "maxvar",
        "line": 11,
        "column": 5
      },
      {
        "id": "number",
        "value": "7000",
        "line": 11,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "number",
      "value": "11",
      "line": 12,
      "column": 9
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "version",
          "line": 12,
          "column": 1
        }
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 13,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "more",
        "line": 13,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 13,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "infile",
      "line": 14,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "qui",
          "line": 14,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 14,
        "column": 12
      },
      {
        "id": "string",
        "value": "\"${extracts}/skincolor/skincolor.dct\nqui do \"",
        "line": 14,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 14,
        "column": 63
      },
      {
        "id": "{",
        "value": "{",
        "line": 14,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "extracts",
        "line": 14,
        "column": 65
      },
      {
        "id": "}",
        "value": "}",
        "line": 14,
        "column": 73
      },
      {
        "id": "/",
        "value": "/",
        "line": 14,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "skincolor",
        "line": 14,
        "column": 75
      },
      {
        "id": "/",
        "value": "/",
        "line": 14,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "skincolor",
        "line": 14,
        "column": 85
      },
      {
        "id": "-",
        "value": "-",
        "line": 14,
        "column": 94
      },
      {
        "id": "identifier",
        "value": "value",
        "line": 14,
        "column": 95
      },
      {
        "id": "-",
        "value": "-",
        "line": 14,
        "column": 100
      },
      {
        "id": "identifier",
        "value": "labels.do",
        "line": 14,
        "column": 101
      },
      {
        "id": "string",
        "value": "\"\n\n/*\nNote that last interview date is june 09, 2011 = week 23, year 2011\nbut last recoded employment variable ends in week 22, 2011\n2673 = EMP\n2678 = INTV\n*/\n\n\n\n* DROP FEMALES AND NON BLACK OR WHITE TO MAKE COMPUTATION FASTER\n*--------------------------------------------------------------------\n\n* DROP FEMALES \ndrop if R0536300==2\n\n* HISPANIC\ncap drop hispanic \nrecode R0538600 (-9/-1=.), gen(hispanic)\n\n* WHITE NON-HISP\ncap drop wnh\ngen wnh=R0538700==1 & R1482600==4 & (hispanic==0 | hispanic==.) \ntab wnh\t \n\n* BLACK NON-HISP\ncap drop bnh\ngen bnh=R0538700==2 & R1482600==1 & (hispanic==0 | hispanic==.)\ntab bnh\t\t \n\n* OTHER NON-HISP\ncap drop onh\ngen onh=R0538700>2 & R1482600!=2 & hispanic==0\nreplace onh= 1 if (R0538700<0 | R0538700==2) & R1482600==3 & (hispanic==0 | hispanic==.)\ntab onh\t\t \n\n* HISPANIC ONLY\ncap drop hh\ngen hh=(R0538700==5 | R0538700<0) & R1482600==2 \ntab hh \t\t \n\n* WHITE-HISPANIC\ncap drop hw\ngen hw=R0538700==1 & hispanic==1\ntab hw\t\t \n\n* BLACK-HISPANIC\ncap drop hb\ngen hb=R0538700==2 & hispanic==1\ntab hb\t\t \n\n* OTHER-HISPANIC\ncap drop ho\ngen ho=(R0538700==3 | R0538700==4) & hispanic==1\ntab ho\t\t \n\n* RACE VARIABLE\ncap drop racefull\ngen racefull=.\nreplace racefull=1 if wnh==1\nreplace racefull=2 if bnh==1\nreplace racefull=3 if onh==1\nreplace racefull=4 if hh==1\nreplace racefull=5 if hw==1\nreplace racefull=6 if hb==1\nreplace racefull=7 if ho==1\ntab racefull\nlab def racefull 1\"",
        "line": 14,
        "column": 110
      },
      {
        "id": "identifier",
        "value": "White",
        "line": 14,
        "column": 1511
      },
      {
        "id": "identifier",
        "value": "non",
        "line": 14,
        "column": 1517
      },
      {
        "id": "-",
        "value": "-",
        "line": 14,
        "column": 1520
      },
      {
        "id": "identifier",
        "value": "Hisp",
        "line": 14,
        "column": 1521
      },
      {
        "id": "string",
        "value": "\" 2\"",
        "line": 14,
        "column": 1525
      },
      {
        "id": "identifier",
        "value": "Black",
        "line": 14,
        "column": 1529
      },
      {
        "id": "identifier",
        "value": "non",
        "line": 14,
        "column": 1535
      },
      {
        "id": "-",
        "value": "-",
        "line": 14,
        "column": 1538
      },
      {
        "id": "identifier",
        "value": "Hisp",
        "line": 14,
        "column": 1539
      },
      {
        "id": "string",
        "value": "\" 3\"",
        "line": 14,
        "column": 1543
      },
      {
        "id": "identifier",
        "value": "Other",
        "line": 14,
        "column": 1547
      },
      {
        "id": "identifier",
        "value": "non",
        "line": 14,
        "column": 1553
      },
      {
        "id": "-",
        "value": "-",
        "line": 14,
        "column": 1556
      },
      {
        "id": "identifier",
        "value": "Hisp",
        "line": 14,
        "column": 1557
      },
      {
        "id": "string",
        "value": "\" 4\"",
        "line": 14,
        "column": 1561
      },
      {
        "id": "identifier",
        "value": "Hispanic",
        "line": 14,
        "column": 1565
      },
      {
        "id": "string",
        "value": "\" 5\"",
        "line": 14,
        "column": 1573
      },
      {
        "id": "identifier",
        "value": "Hisp",
        "line": 14,
        "column": 1577
      },
      {
        "id": "identifier",
        "value": "White",
        "line": 14,
        "column": 1582
      },
      {
        "id": "string",
        "value": "\" 6\"",
        "line": 14,
        "column": 1587
      },
      {
        "id": "identifier",
        "value": "Hisp",
        "line": 14,
        "column": 1591
      },
      {
        "id": "identifier",
        "value": "Black",
        "line": 14,
        "column": 1596
      },
      {
        "id": "string",
        "value": "\" 7\"",
        "line": 14,
        "column": 1601
      },
      {
        "id": "identifier",
        "value": "Hisp",
        "line": 14,
        "column": 1605
      },
      {
        "id": "identifier",
        "value": "Other",
        "line": 14,
        "column": 1610
      },
      {
        "id": "string",
        "value": "\", modify\nlab val racefull racefull\ntab racefull, m\n\n* RACE\nrecode racefull (1=1) (2=2) (4/7=3) (3=4), gen(race)\nlabel define race 1\"",
        "line": 14,
        "column": 1615
      },
      {
        "id": "identifier",
        "value": "White",
        "line": 14,
        "column": 1748
      },
      {
        "id": "string",
        "value": "\" 2\"",
        "line": 14,
        "column": 1753
      },
      {
        "id": "identifier",
        "value": "Black",
        "line": 14,
        "column": 1757
      },
      {
        "id": "string",
        "value": "\" 3\"",
        "line": 14,
        "column": 1762
      },
      {
        "id": "identifier",
        "value": "Hispanic",
        "line": 14,
        "column": 1766
      },
      {
        "id": "string",
        "value": "\" 4\"",
        "line": 14,
        "column": 1774
      },
      {
        "id": "identifier",
        "value": "Other",
        "line": 14,
        "column": 1778
      },
      {
        "id": "string",
        "value": "\", modify\nlabel values race race\n\nlab var race Race\ntab race, gen(x)\nrename x1 white\nrename x2 black\nrename x3 hisp\nrename x4 other\nlab var white White\nlab var black Black \nlab var hisp Hisp \nlab var other Other\n\n* DROP \nforeach x in hispanic wnh bnh onh hh hw hb ho {\n\tcap drop `x'\n}\n\n* SKIN COLOR VARIABLES\n*--------------------------------------------------------------------\n\n* SKIN COLOR (2008-2010)\ncap drop color*\n\nrecode T3173000 (-9/-1=.), gen(color_2008) \nrecode T4584700 (-9/-1=.), gen(color_2009)     \nrecode T6217800 (-9/-1=.), gen(color_2010)  \n\ngen color=(color_2008)\nreplace color=color_2009 if color==. & color_2009!=.  \n\nreplace color=color_2010 if color==. & color_2010!=.  \nlab var color \"",
        "line": 14,
        "column": 1783
      },
      {
        "id": "identifier",
        "value": "Skincolor",
        "line": 14,
        "column": 2492
      },
      {
        "id": "string",
        "value": "\"\ntab color race, m\n\n* DROP\n*--------------------------------------------------------------------\ndrop if race>2\ndrop if (black==1 & color==.)\ndrop race* white black hisp other color*\n\n* MAKE INTERVIEW DATES\n*-------------------------------------------------------------------\ncap drop intdt_*\nrecode R1209401 R1209400 R1209402 (-9/-1=.)\ngen intdt_1997=mdy(R1209401, R1209400, R1209402)\nrecode R2568301 R2568300 R2568302 (-9/-1=.)\ngen intdt_1998=mdy(R2568301, R2568300, R2568302)\nrecode R3890301 R3890300 R3890302 (-9/-1=.)\ngen intdt_1999=mdy(R3890301, R3890300, R3890302)\nrecode R5472301 R5472300 R5472302 (-9/-1=.)\ngen intdt_2000=mdy(R5472301, R5472300, R5472302)\nrecode R7236101 R7236100 R7236102 (-9/-1=.)\ngen intdt_2001=mdy(R7236101, R7236100, R7236102)\nrecode S1550901 S1550900 S1550902 (-9/-1=.)\ngen intdt_2002=mdy(S1550901, S1550900, S1550902)\nrecode S2020801 S2020800 S2020802 (-9/-1=.)\ngen intdt_2003=mdy(S2020801, S2020800, S2020802)\nrecode S3822001 S3822000 S3822002 (-9/-1=.)\ngen intdt_2004=mdy(S3822001, S3822000, S3822002)\nrecode S5422001 S5422000 S5422002 (-9/-1=.)\ngen intdt_2005=mdy(S5422001, S5422000, S5422002)\nrecode S7524101 S7524100 S7524102 (-9/-1=.)\ngen intdt_2006=mdy(S7524101, S7524100, S7524102)\nrecode T0024501 T0024500 T0024502 (-9/-1=.)\ngen intdt_2007=mdy(T0024501, T0024500, T0024502)\nrecode T2019401 T2019400 T2019402 (-9/-1=.)\ngen intdt_2008=mdy(T2019401, T2019400, T2019402)\nrecode T3610001 T3610000 T3610002 (-9/-1=.)\ngen intdt_2009=mdy(T3610001, T3610000, T3610002)\nrecode T5210401 T5210400 T5210402 (-9/-1=.)\ngen intdt_2010=mdy(T5210401, T5210400, T5210402)\nformat intdt_* %td\n\nrename R0000100 id\ncap drop A*\ncap drop Z*\ncap drop R*\ncap drop S*\ncap drop T*\nrename id R0000100\n\nset more off\ncompress\n\n\n\n* CREATE INTERVIEW WEEK FOR EACH YEAR\n* ASSIGN \"",
        "line": 14,
        "column": 2501
      },
      {
        "id": "identifier",
        "value": "DUMMY",
        "line": 14,
        "column": 4289
      },
      {
        "id": "string",
        "value": "\" WEEK FOR NON-INTERVIEWED YEAR.\n******************************************************************\n* SINCE ALL RESPONDENTS HAVE DIFFERENT INTERVALS BETWEEN INTERVIEWS\n* AND SOME MISS YEARS, I TAKE # WEEKS WORKED IN PAST CALENDAR YEAR FROM INTV DATE\n* IF AN INTERVIEW(S) IS SKIPPED. IN THIS CASE, I ASSIGN AN FALSE INTV DATE 52 \n* WEEKS PRIOR TO THE CURRENT.\n* THIS WORKS B/C WE WANT WEEKS WORKED BY CALENDAR YEAR.\n\n\n* BEGIN WITH 1997 SEPARATELY - NO ONE MISSED\ncap drop newdt*\ngen newdt_1997=intdt_1997\n format newdt_1997 %td\ncap drop intvwk_1997\ngen intvwk_1997=wofd(newdt_1997)\n format intvwk_1997 %tw\n\n* 1998-2010\nforvalues yr=1998(1)2010 {\n\tlocal yr1=`yr'-1\n\tcap drop newdt_`yr'\n\tgen newdt_`yr'=intdt_`yr' \n\treplace newdt_`yr'=(newdt_`yr1'+365) if newdt_`yr'==. \n\tformat newdt_`yr' %td\n\tcount if newdt_`yr'==.\n\t\n\tcap drop intvwk_`yr'\n\tgen intvwk_`yr'=wofd(newdt_`yr')\n\tformat intvwk_`yr' %tw\n\tcount if intvwk_`yr'==.\n}\ncap drop newdt*\n\n\n* Intvwk_year in %tw = week/year of interview for each round\n* Now there are all non-missing\n******************************************************************\n\n* Make continuous weekly time dummy indicating week of interview\nforvalues i=1924(1)2678 {\t\t \n\tcap drop intv`i'\n\tqui gen intv`i'=0\n}\n\n* Fill =1 indicating week of interview\nset more off\nforvalues yr=1997(1)2010 {\n\tforvalues i=1924(1)2678 {\t\n\t\tqui replace intv`i'=1 if intvwk_`yr'==`i'\n\t}\t\n}\n\t\n\n* This is for labor force status\n******************************************************************\n/* EMP_STATUS weekly variable\n0: No information reported to account for week; job dates indeterminate\n1: Not associated with an employer, not actively searching for an employer job\n2: Not working (unemployment vs. out of labor force cannot be determined)\n3: Associated with an employer, periods not working for the employer are missing\n4: Unemployed\n5: Out of the labor force\n6: Active military service\n9000-9999999=employed (Roster ID number associated with employer)\nDefine:\n1=Employed \t\t\t(3, 6, 9701/99999999)\n2=Unemployed\t\t(4)\n3=NILF\t\t\t\t(1, 5)\n.=missing or other\t(-9/-1, 0, 2)\n*/\n******************************************************************\n* STUBS ARE THE NLSY97 VARIABLE STUBS, WEEKS ARE THE LAST TWO DIGITS OF THE NLSY VARIABLE NAME\n* THERE IS 1 STUB PER YEAR; EACH 2 DIGIT SUFFIX IDENTIFIES THE WEEK- \n* E.G. E00118{05} IS WEEK 5, 2008.\n*\n* LFS=LABOR FORCE STATUS, (UN)EMP=(UN)EMPLOYED, NILF=NOT IN LABOR FORCE\nlocal stub \"",
        "line": 14,
        "column": 4294
      },
      {
        "id": "identifier",
        "value": "E00117",
        "line": 14,
        "column": 6728
      },
      {
        "id": "identifier",
        "value": "E00118",
        "line": 14,
        "column": 6735
      },
      {
        "id": "identifier",
        "value": "E00119",
        "line": 14,
        "column": 6742
      },
      {
        "id": "identifier",
        "value": "E00120",
        "line": 14,
        "column": 6749
      },
      {
        "id": "identifier",
        "value": "E00121",
        "line": 14,
        "column": 6756
      },
      {
        "id": "identifier",
        "value": "E00122",
        "line": 14,
        "column": 6763
      },
      {
        "id": "identifier",
        "value": "E00123",
        "line": 14,
        "column": 6770
      },
      {
        "id": "identifier",
        "value": "E00124",
        "line": 14,
        "column": 6777
      },
      {
        "id": "identifier",
        "value": "E00125",
        "line": 14,
        "column": 6784
      },
      {
        "id": "identifier",
        "value": "E00126",
        "line": 14,
        "column": 6791
      },
      {
        "id": "identifier",
        "value": "E00127",
        "line": 14,
        "column": 6798
      },
      {
        "id": "identifier",
        "value": "E00128",
        "line": 14,
        "column": 6805
      },
      {
        "id": "identifier",
        "value": "E00129",
        "line": 14,
        "column": 6812
      },
      {
        "id": "identifier",
        "value": "E00130",
        "line": 14,
        "column": 6819
      },
      {
        "id": "string",
        "value": "\"\nlocal week \"",
        "line": 14,
        "column": 6825
      },
      {
        "id": "number",
        "value": "01",
        "line": 14,
        "column": 6839
      },
      {
        "id": "number",
        "value": "02",
        "line": 14,
        "column": 6842
      },
      {
        "id": "number",
        "value": "03",
        "line": 14,
        "column": 6845
      },
      {
        "id": "number",
        "value": "04",
        "line": 14,
        "column": 6848
      },
      {
        "id": "number",
        "value": "05",
        "line": 14,
        "column": 6851
      },
      {
        "id": "number",
        "value": "06",
        "line": 14,
        "column": 6854
      },
      {
        "id": "number",
        "value": "07",
        "line": 14,
        "column": 6857
      },
      {
        "id": "number",
        "value": "08",
        "line": 14,
        "column": 6860
      },
      {
        "id": "number",
        "value": "09",
        "line": 14,
        "column": 6863
      },
      {
        "id": "number",
        "value": "10",
        "line": 14,
        "column": 6866
      },
      {
        "id": "number",
        "value": "11",
        "line": 14,
        "column": 6869
      },
      {
        "id": "number",
        "value": "12",
        "line": 14,
        "column": 6872
      },
      {
        "id": "number",
        "value": "13",
        "line": 14,
        "column": 6875
      },
      {
        "id": "number",
        "value": "14",
        "line": 14,
        "column": 6878
      },
      {
        "id": "number",
        "value": "15",
        "line": 14,
        "column": 6881
      },
      {
        "id": "number",
        "value": "16",
        "line": 14,
        "column": 6884
      },
      {
        "id": "number",
        "value": "17",
        "line": 14,
        "column": 6887
      },
      {
        "id": "number",
        "value": "18",
        "line": 14,
        "column": 6890
      },
      {
        "id": "number",
        "value": "19",
        "line": 14,
        "column": 6893
      },
      {
        "id": "number",
        "value": "20",
        "line": 14,
        "column": 6896
      },
      {
        "id": "number",
        "value": "21",
        "line": 14,
        "column": 6899
      },
      {
        "id": "number",
        "value": "22",
        "line": 14,
        "column": 6902
      },
      {
        "id": "number",
        "value": "23",
        "line": 14,
        "column": 6905
      },
      {
        "id": "number",
        "value": "24",
        "line": 14,
        "column": 6908
      },
      {
        "id": "number",
        "value": "25",
        "line": 14,
        "column": 6911
      },
      {
        "id": "number",
        "value": "26",
        "line": 14,
        "column": 6914
      },
      {
        "id": "number",
        "value": "27",
        "line": 14,
        "column": 6917
      },
      {
        "id": "number",
        "value": "28",
        "line": 14,
        "column": 6920
      },
      {
        "id": "number",
        "value": "29",
        "line": 14,
        "column": 6923
      },
      {
        "id": "number",
        "value": "30",
        "line": 14,
        "column": 6926
      },
      {
        "id": "number",
        "value": "31",
        "line": 14,
        "column": 6929
      },
      {
        "id": "number",
        "value": "32",
        "line": 14,
        "column": 6932
      },
      {
        "id": "number",
        "value": "33",
        "line": 14,
        "column": 6935
      },
      {
        "id": "number",
        "value": "34",
        "line": 14,
        "column": 6938
      },
      {
        "id": "number",
        "value": "35",
        "line": 14,
        "column": 6941
      },
      {
        "id": "number",
        "value": "36",
        "line": 14,
        "column": 6944
      },
      {
        "id": "number",
        "value": "37",
        "line": 14,
        "column": 6947
      },
      {
        "id": "number",
        "value": "38",
        "line": 14,
        "column": 6950
      },
      {
        "id": "number",
        "value": "39",
        "line": 14,
        "column": 6953
      },
      {
        "id": "number",
        "value": "40",
        "line": 14,
        "column": 6956
      },
      {
        "id": "number",
        "value": "41",
        "line": 14,
        "column": 6959
      },
      {
        "id": "number",
        "value": "42",
        "line": 14,
        "column": 6962
      },
      {
        "id": "number",
        "value": "43",
        "line": 14,
        "column": 6965
      },
      {
        "id": "number",
        "value": "44",
        "line": 14,
        "column": 6968
      },
      {
        "id": "number",
        "value": "45",
        "line": 14,
        "column": 6971
      },
      {
        "id": "number",
        "value": "46",
        "line": 14,
        "column": 6974
      },
      {
        "id": "number",
        "value": "47",
        "line": 14,
        "column": 6977
      },
      {
        "id": "number",
        "value": "48",
        "line": 14,
        "column": 6980
      },
      {
        "id": "number",
        "value": "49",
        "line": 14,
        "column": 6983
      },
      {
        "id": "number",
        "value": "50",
        "line": 14,
        "column": 6986
      },
      {
        "id": "number",
        "value": "51",
        "line": 14,
        "column": 6989
      },
      {
        "id": "number",
        "value": "52",
        "line": 14,
        "column": 6992
      },
      {
        "id": "string",
        "value": "\"\nset more off\nlocal w=1924 \nforeach x in `stub'  {\n\tforeach i in `week' {\n\t\t* VERIFY WEEK STUB IS CORRECT\n\t\t*cap drop tmp\n\t\t*qui gen tmp=`w'\n\t\t*qui format tmp %tw\n\t\t*tab tmp\n\t\t*d `x'`i' \n\t\t* CREATE VARIABLES\n\t\tcap drop lfs`w'\t\n\t\tqui recode `x'`i' (-9/-1 0 2 =.) (3 6 999/999999=.1) (4=.2) (1 5=.3) , gen(lfs`w') \n\t\tqui recode lfs`w' (.1=1) (.2=2) (.3=3)\n \t\tdrop `x'`i' \n \t\tlocal w=(`w'+1)\n\t}\n}\n* 2011\nlocal week \"",
        "line": 14,
        "column": 6994
      },
      {
        "id": "number",
        "value": "01",
        "line": 14,
        "column": 7408
      },
      {
        "id": "number",
        "value": "02",
        "line": 14,
        "column": 7411
      },
      {
        "id": "number",
        "value": "03",
        "line": 14,
        "column": 7414
      },
      {
        "id": "number",
        "value": "04",
        "line": 14,
        "column": 7417
      },
      {
        "id": "number",
        "value": "05",
        "line": 14,
        "column": 7420
      },
      {
        "id": "number",
        "value": "06",
        "line": 14,
        "column": 7423
      },
      {
        "id": "number",
        "value": "07",
        "line": 14,
        "column": 7426
      },
      {
        "id": "number",
        "value": "08",
        "line": 14,
        "column": 7429
      },
      {
        "id": "number",
        "value": "09",
        "line": 14,
        "column": 7432
      },
      {
        "id": "number",
        "value": "10",
        "line": 14,
        "column": 7435
      },
      {
        "id": "number",
        "value": "11",
        "line": 14,
        "column": 7438
      },
      {
        "id": "number",
        "value": "12",
        "line": 14,
        "column": 7441
      },
      {
        "id": "number",
        "value": "13",
        "line": 14,
        "column": 7444
      },
      {
        "id": "number",
        "value": "14",
        "line": 14,
        "column": 7447
      },
      {
        "id": "number",
        "value": "15",
        "line": 14,
        "column": 7450
      },
      {
        "id": "number",
        "value": "16",
        "line": 14,
        "column": 7453
      },
      {
        "id": "number",
        "value": "17",
        "line": 14,
        "column": 7456
      },
      {
        "id": "number",
        "value": "18",
        "line": 14,
        "column": 7459
      },
      {
        "id": "number",
        "value": "19",
        "line": 14,
        "column": 7462
      },
      {
        "id": "number",
        "value": "20",
        "line": 14,
        "column": 7465
      },
      {
        "id": "number",
        "value": "21",
        "line": 14,
        "column": 7468
      },
      {
        "id": "number",
        "value": "22",
        "line": 14,
        "column": 7471
      },
      {
        "id": "string",
        "value": "\"\nset more off\nlocal w=2652 \n\tforeach i in `week' {\n\tcap drop work`w'\n\tqui recode E00231`i' (-9/-1=.) (0 81/9999=0), gen(work`w') \n\tlocal w=`w'+1\n}\n\t\n\n* Intwk`i'_`yr' = 1 if that week was the interview week, 0 otherwise\n* work`i'_`yr'=\n* Else, incl missing, 0\n* -----------------------------------------------------------------------*\nlocal stub \"",
        "line": 14,
        "column": 7473
      },
      {
        "id": "identifier",
        "value": "E00217",
        "line": 14,
        "column": 7820
      },
      {
        "id": "identifier",
        "value": "E00218",
        "line": 14,
        "column": 7827
      },
      {
        "id": "identifier",
        "value": "E00219",
        "line": 14,
        "column": 7834
      },
      {
        "id": "identifier",
        "value": "E00220",
        "line": 14,
        "column": 7841
      },
      {
        "id": "identifier",
        "value": "E00221",
        "line": 14,
        "column": 7848
      },
      {
        "id": "identifier",
        "value": "E00222",
        "line": 14,
        "column": 7855
      },
      {
        "id": "identifier",
        "value": "E00223",
        "line": 14,
        "column": 7862
      },
      {
        "id": "identifier",
        "value": "E00224",
        "line": 14,
        "column": 7869
      },
      {
        "id": "identifier",
        "value": "E00225",
        "line": 14,
        "column": 7876
      },
      {
        "id": "identifier",
        "value": "E00226",
        "line": 14,
        "column": 7883
      },
      {
        "id": "identifier",
        "value": "E00227",
        "line": 14,
        "column": 7890
      },
      {
        "id": "identifier",
        "value": "E00228",
        "line": 14,
        "column": 7897
      },
      {
        "id": "identifier",
        "value": "E00229",
        "line": 14,
        "column": 7904
      },
      {
        "id": "identifier",
        "value": "E00230",
        "line": 14,
        "column": 7911
      },
      {
        "id": "string",
        "value": "\"\nlocal week \"",
        "line": 14,
        "column": 7917
      },
      {
        "id": "number",
        "value": "01",
        "line": 14,
        "column": 7931
      },
      {
        "id": "number",
        "value": "02",
        "line": 14,
        "column": 7934
      },
      {
        "id": "number",
        "value": "03",
        "line": 14,
        "column": 7937
      },
      {
        "id": "number",
        "value": "04",
        "line": 14,
        "column": 7940
      },
      {
        "id": "number",
        "value": "05",
        "line": 14,
        "column": 7943
      },
      {
        "id": "number",
        "value": "06",
        "line": 14,
        "column": 7946
      },
      {
        "id": "number",
        "value": "07",
        "line": 14,
        "column": 7949
      },
      {
        "id": "number",
        "value": "08",
        "line": 14,
        "column": 7952
      },
      {
        "id": "number",
        "value": "09",
        "line": 14,
        "column": 7955
      },
      {
        "id": "number",
        "value": "10",
        "line": 14,
        "column": 7958
      },
      {
        "id": "number",
        "value": "11",
        "line": 14,
        "column": 7961
      },
      {
        "id": "number",
        "value": "12",
        "line": 14,
        "column": 7964
      },
      {
        "id": "number",
        "value": "13",
        "line": 14,
        "column": 7967
      },
      {
        "id": "number",
        "value": "14",
        "line": 14,
        "column": 7970
      },
      {
        "id": "number",
        "value": "15",
        "line": 14,
        "column": 7973
      },
      {
        "id": "number",
        "value": "16",
        "line": 14,
        "column": 7976
      },
      {
        "id": "number",
        "value": "17",
        "line": 14,
        "column": 7979
      },
      {
        "id": "number",
        "value": "18",
        "line": 14,
        "column": 7982
      },
      {
        "id": "number",
        "value": "19",
        "line": 14,
        "column": 7985
      },
      {
        "id": "number",
        "value": "20",
        "line": 14,
        "column": 7988
      },
      {
        "id": "number",
        "value": "21",
        "line": 14,
        "column": 7991
      },
      {
        "id": "number",
        "value": "22",
        "line": 14,
        "column": 7994
      },
      {
        "id": "number",
        "value": "23",
        "line": 14,
        "column": 7997
      },
      {
        "id": "number",
        "value": "24",
        "line": 14,
        "column": 8000
      },
      {
        "id": "number",
        "value": "25",
        "line": 14,
        "column": 8003
      },
      {
        "id": "number",
        "value": "26",
        "line": 14,
        "column": 8006
      },
      {
        "id": "number",
        "value": "27",
        "line": 14,
        "column": 8009
      },
      {
        "id": "number",
        "value": "28",
        "line": 14,
        "column": 8012
      },
      {
        "id": "number",
        "value": "29",
        "line": 14,
        "column": 8015
      },
      {
        "id": "number",
        "value": "30",
        "line": 14,
        "column": 8018
      },
      {
        "id": "number",
        "value": "31",
        "line": 14,
        "column": 8021
      },
      {
        "id": "number",
        "value": "32",
        "line": 14,
        "column": 8024
      },
      {
        "id": "number",
        "value": "33",
        "line": 14,
        "column": 8027
      },
      {
        "id": "number",
        "value": "34",
        "line": 14,
        "column": 8030
      },
      {
        "id": "number",
        "value": "35",
        "line": 14,
        "column": 8033
      },
      {
        "id": "number",
        "value": "36",
        "line": 14,
        "column": 8036
      },
      {
        "id": "number",
        "value": "37",
        "line": 14,
        "column": 8039
      },
      {
        "id": "number",
        "value": "38",
        "line": 14,
        "column": 8042
      },
      {
        "id": "number",
        "value": "39",
        "line": 14,
        "column": 8045
      },
      {
        "id": "number",
        "value": "40",
        "line": 14,
        "column": 8048
      },
      {
        "id": "number",
        "value": "41",
        "line": 14,
        "column": 8051
      },
      {
        "id": "number",
        "value": "42",
        "line": 14,
        "column": 8054
      },
      {
        "id": "number",
        "value": "43",
        "line": 14,
        "column": 8057
      },
      {
        "id": "number",
        "value": "44",
        "line": 14,
        "column": 8060
      },
      {
        "id": "number",
        "value": "45",
        "line": 14,
        "column": 8063
      },
      {
        "id": "number",
        "value": "46",
        "line": 14,
        "column": 8066
      },
      {
        "id": "number",
        "value": "47",
        "line": 14,
        "column": 8069
      },
      {
        "id": "number",
        "value": "48",
        "line": 14,
        "column": 8072
      },
      {
        "id": "number",
        "value": "49",
        "line": 14,
        "column": 8075
      },
      {
        "id": "number",
        "value": "50",
        "line": 14,
        "column": 8078
      },
      {
        "id": "number",
        "value": "51",
        "line": 14,
        "column": 8081
      },
      {
        "id": "number",
        "value": "52",
        "line": 14,
        "column": 8084
      },
      {
        "id": "string",
        "value": "\"\nset more off\nlocal w=1924 \nforeach x in `stub'  {\n\tforeach i in `week' {\n\tcap drop work`w'\n\tqui recode `x'`i' (-9/-1=.) (81/9999=.), gen(work`w') \n\tlocal w=`w'+1\n\t}\n}\ndisp `w'\t\n\t\n* 2011\nlocal week \"",
        "line": 14,
        "column": 8086
      },
      {
        "id": "number",
        "value": "01",
        "line": 14,
        "column": 8286
      },
      {
        "id": "number",
        "value": "02",
        "line": 14,
        "column": 8289
      },
      {
        "id": "number",
        "value": "03",
        "line": 14,
        "column": 8292
      },
      {
        "id": "number",
        "value": "04",
        "line": 14,
        "column": 8295
      },
      {
        "id": "number",
        "value": "05",
        "line": 14,
        "column": 8298
      },
      {
        "id": "number",
        "value": "06",
        "line": 14,
        "column": 8301
      },
      {
        "id": "number",
        "value": "07",
        "line": 14,
        "column": 8304
      },
      {
        "id": "number",
        "value": "08",
        "line": 14,
        "column": 8307
      },
      {
        "id": "number",
        "value": "09",
        "line": 14,
        "column": 8310
      },
      {
        "id": "number",
        "value": "10",
        "line": 14,
        "column": 8313
      },
      {
        "id": "number",
        "value": "11",
        "line": 14,
        "column": 8316
      },
      {
        "id": "number",
        "value": "12",
        "line": 14,
        "column": 8319
      },
      {
        "id": "number",
        "value": "13",
        "line": 14,
        "column": 8322
      },
      {
        "id": "number",
        "value": "14",
        "line": 14,
        "column": 8325
      },
      {
        "id": "number",
        "value": "15",
        "line": 14,
        "column": 8328
      },
      {
        "id": "number",
        "value": "16",
        "line": 14,
        "column": 8331
      },
      {
        "id": "number",
        "value": "17",
        "line": 14,
        "column": 8334
      },
      {
        "id": "number",
        "value": "18",
        "line": 14,
        "column": 8337
      },
      {
        "id": "number",
        "value": "19",
        "line": 14,
        "column": 8340
      },
      {
        "id": "number",
        "value": "20",
        "line": 14,
        "column": 8343
      },
      {
        "id": "number",
        "value": "21",
        "line": 14,
        "column": 8346
      },
      {
        "id": "number",
        "value": "22",
        "line": 14,
        "column": 8349
      },
      {
        "id": "string",
        "value": "\"\nset more off\nlocal w=2652 \n\tforeach i in `week' {\n\tcap drop work`w'\n\tqui recode E00231`i' (-9/-1=.) (81/9999=.), gen(work`w') \n\tlocal w=`w'+1\n}\n\n\n* Extend last week of employment questions to match interview date question timing\n* -----------------------------------------------------------------------*\nforvalues i= 2674(1)2678 {\n\tcap drop lfs`i'\n\tgen lfs`i'=0\n\tcap drop work`i'\n\tgen work`i'=0\n}\n\n* DROP VARIABLES\n* -----------------------------------------------------------------------*\ncap drop E*\n\n\n* RESHAPE TO LONG\n* -----------------------------------------------------------------------*\nset more off\nreshape long intv lfs work, i(R0000100) j(week) \nsort R0000100 week\n\n* SAVE AS TMP_LFS\n* -----------------------------------------------------------------------*\nsave \"",
        "line": 14,
        "column": 8351
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 14,
        "column": 9131
      },
      {
        "id": "{",
        "value": "{",
        "line": 14,
        "column": 9132
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 14,
        "column": 9133
      },
      {
        "id": "}",
        "value": "}",
        "line": 14,
        "column": 9137
      },
      {
        "id": "/",
        "value": "/",
        "line": 14,
        "column": 9138
      },
      {
        "id": "identifier",
        "value": "weekly_lfs.dta",
        "line": 14,
        "column": 9139
      },
      {
        "id": "string",
        "value": "\", replace\n\n\n* DEFINE AND CLEAN EMPLOYED, UNEMPLOYED AND NILF  \n* -----------------------------------------------------------------------*\n\n* RECODE LFS\nreplace lfs=1 if work>0 & work<.\n\n* EMP\ncap drop emp\nrecode lfs (2/3=0), gen(emp)\n\n* UNEMP\ncap drop unemp\nrecode lfs (1 3=0) (2=1), gen(unemp)\n\n* NILF\ncap drop nilf\nrecode lfs (1/2=0) (3=1), gen(nilf)\n\n* WORK (RECODE)\n* NOTE ABOUT 10% OF WEEKS EMPLOYED HAVE NO HOURS!\nreplace work=0 if (unemp==1 | nilf==1 | emp==0)\ncount if work==. &  emp==1\ncount if emp==1 &  work>0 & work!=.\n\n\n* WEEKS EMPLOYED, UNEMPLOYED AND NILF  \n* -----------------------------------------------------------------------*\n\n* COUNT OF WEEKS WITH VALID LFS RESPONSE\ncap drop lfswks\ngen lfswks=(lfs!=.)\nbys R0000100: replace lfswks\t=cond(intv[_n-1]==0, lfswks+lfswks[_n-1], lfswks) if week>1942\n\n* WEEKS LFS=EMPLOYED\ncap drop empwks\ngen empwks=emp\nrecode empwks (.=0)\nbys R0000100: replace empwks    =cond(intv[_n-1]==0, empwks+empwks[_n-1], empwks) if week>1942\n\n* WEEKS LFS=UNEMPLOYED\ncap drop unempwks\ngen unempwks=unemp\nrecode unempwks (.=0)\nbys R0000100: replace unempwks  =cond(intv[_n-1]==0, unempwks+unempwks[_n-1], unempwks) if week>1942\n\n* WEEKS LFS=NILF\ncap drop nilfwks\ngen nilfwks=nilf\nrecode nilfwks (.=0)\nbys R0000100: replace nilfwks   =cond(intv[_n-1]==0, nilfwks+nilfwks[_n-1], nilfwks) if week>1942\n\n\n* WEEKS EMPLOYED 30 HOURS\n* -----------------------------------------------------------------------*\n\n* WEEKS WITH VALID HOURS WORKED\ncap drop workwks\ngen workwks=(work!=.)\nbys R0000100: replace workwks\t=cond(intv[_n-1]==0, workwks+workwks[_n-1], workwks) if week>1942\n\n* WEEKS EMPLOYED 30+ HOURS\ncap drop empwks30\ngen empwks30=(work>=30 & work<.)\nbys R0000100: replace empwks30=cond(intv[_n-1]==0, empwks30+empwks30[_n-1], empwks30) if week>1942\n \n\n* Now keep only if intv==1 = interview data (should be 14 a person)\n* And make year variable (1=1997, ...) - missing 24 people in 2008\n* -----------------------------------------------------------------------*\nkeep if intv==1\ncap drop year\nbys R0000100: gen year=_n\nreplace year=year+1996\n\n* COUNT WEEKS SINCE LAST INTERVIEW\ncap drop totwks\ngen totwks=.\nforvalues i=1998(1)2010 {\n    local j=`i'-1\n    replace totwks=(intvwk_`i'-intvwk_`j') if year==`i' & totwks==.\n}\n        \n\n* DEFINE SHARE OF WEEKS EMPLOYED SINCE LAST INTERVIEW \n* -----------------------------------------------------------------------*\ncap drop shremp_v1\ngen shremp_v1=(empwks/lfswks)\nlab var shremp_v1 \"",
        "line": 14,
        "column": 9153
      },
      {
        "id": "identifier",
        "value": "Share",
        "line": 14,
        "column": 11623
      },
      {
        "id": "identifier",
        "value": "weeks",
        "line": 14,
        "column": 11629
      },
      {
        "id": "identifier",
        "value": "employed",
        "line": 14,
        "column": 11635
      },
      {
        "id": "string",
        "value": "\"\nnote shremp_v1: Weeks employed / weeks w/ LFS!=.\n\ncap drop shrwks30_v1\ngen shrwks30_v1=(empwks30/workwks)\nlab var shrwks30_v1 \"",
        "line": 14,
        "column": 11643
      },
      {
        "id": "identifier",
        "value": "Share",
        "line": 14,
        "column": 11772
      },
      {
        "id": "identifier",
        "value": "weeks",
        "line": 14,
        "column": 11778
      },
      {
        "id": "identifier",
        "value": "employed",
        "line": 14,
        "column": 11784
      },
      {
        "id": "number",
        "value": "30",
        "line": 14,
        "column": 11793
      },
      {
        "id": "identifier",
        "value": "hrs",
        "line": 14,
        "column": 11796
      },
      {
        "id": "string",
        "value": "\"\nnote shrwks30_v1: Weeks employed / weeks w/ hrs!=.\n\n\n* SAVE\n* -----------------------------------------------------------------------*\nkeep  R0000100 year shremp_v1 shrwks30_v1  \nkeep  R0000100 year shremp_v1 shrwks30_v1 \nsort  R0000100 year \ncompress\nsave \"",
        "line": 14,
        "column": 11799
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 14,
        "column": 12059
      },
      {
        "id": "{",
        "value": "{",
        "line": 14,
        "column": 12060
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 14,
        "column": 12061
      },
      {
        "id": "}",
        "value": "}",
        "line": 14,
        "column": 12065
      },
      {
        "id": "/",
        "value": "/",
        "line": 14,
        "column": 12066
      },
      {
        "id": "identifier",
        "value": "tmp_1.4_weekly_lfs.dta",
        "line": 14,
        "column": 12067
      },
      {
        "id": "string",
        "value": "\", replace\n\n\n\n\n",
        "line": 14,
        "column": 12089
      }
    ]
  }
]