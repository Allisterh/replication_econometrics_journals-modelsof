[
  {
    "id": "comment",
    "value": "*-----------------------------------------------------------------",
    "line": 1,
    "column": 1
  },
  {
    "command": {
      "id": "number",
      "value": "10.0",
      "line": 2,
      "column": 9
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "version",
          "line": 2,
          "column": 1
        }
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 3,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 3,
          "column": 1
        }
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 4,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 4,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 4,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 5,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "more",
        "line": 5,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 5,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 6,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mem",
        "line": 6,
        "column": 5
      },
      {
        "id": "number",
        "value": "700m",
        "line": 6,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cd",
      "line": 7,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"E:\\REStat_MS14767_Vol96(2)\\Data preparation Compustat\"",
        "line": 7,
        "column": 4
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 8,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 8,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patentvars.log",
        "line": 8,
        "column": 11
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 8,
        "column": 27
      }
    ]
  },
  {
    "id": "comment",
    "value": "*-----------------------------------------------------------------",
    "line": 9,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*****************************************************************",
    "line": 11,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*** from compustat_master_all_countries.dta to\t\t\t*",
    "line": 12,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*** clean_compustat_master.dta \t\t\t\t\t*",
    "line": 13,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*** This file creates the variable S by taking patent infos and *",
    "line": 14,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*** r&d-expenditure together.\t\t\t\t\t*",
    "line": 15,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*** 2,500,000 entries remain in the patent data.\t\t*",
    "line": 16,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*****************************************************************",
    "line": 17,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**********************",
    "line": 19,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*In this part, patent data and compustat data are merged",
    "line": 20,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 21,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 23,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"raw data\\apat63_99.dta\"",
        "line": 23,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "so",
      "line": 24,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assignee",
        "line": 24,
        "column": 4
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 25,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "gyear",
        "line": 25,
        "column": 9
      },
      {
        "id": "<",
        "value": "<",
        "line": 25,
        "column": 14
      },
      {
        "id": "number",
        "value": "1969",
        "line": 25,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 27,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assignee",
        "line": 27,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 27,
        "column": 16
      },
      {
        "id": "string",
        "value": "\"patent files\\cusipnamemerged_red.dta\"",
        "line": 27,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 29,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 29,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "**********************************************************",
    "line": 31,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*",
    "line": 32,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*      _merge |      Freq.     Percent        Cum.",
    "line": 33,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* ------------+-----------------------------------",
    "line": 34,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*           1 |  1,925,439       74.78       74.78",
    "line": 35,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*           3 |    649,411       25.22      100.00",
    "line": 36,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* ------------+-----------------------------------",
    "line": 37,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*       Total |  2,574,850      100.00",
    "line": 38,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*************************************************************",
    "line": 39,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 41,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 41,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 41,
        "column": 15
      },
      {
        "id": "number",
        "value": "3",
        "line": 41,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 42,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 42,
        "column": 6
      }
    ]
  },
  {
    "id": "comment",
    "value": "*************************",
    "line": 44,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Check observations",
    "line": 45,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "count",
      "line": 46,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "assignee",
        "line": 46,
        "column": 10
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 46,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "assignee",
        "line": 46,
        "column": 20
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 46,
        "column": 29
      },
      {
        "id": "-",
        "value": "-",
        "line": 46,
        "column": 31
      },
      {
        "id": "number",
        "value": "1",
        "line": 46,
        "column": 32
      },
      {
        "id": "]",
        "value": "]",
        "line": 46,
        "column": 33
      }
    ]
  },
  {
    "id": "comment",
    "value": "* must give number around 3590",
    "line": 47,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***************************",
    "line": 48,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*********************************",
    "line": 50,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Here some vars are generated",
    "line": 51,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* If some further patent informationshall be kept, ",
    "line": 52,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* the egen-line can easily be copied for each variable.",
    "line": 53,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***************************",
    "line": 54,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 56,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gyear",
        "line": 56,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 56,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "so",
      "line": 57,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ticker",
        "line": 57,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 57,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 58,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "ticker",
        "line": 58,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 58,
        "column": 15
      },
      {
        "id": "string",
        "value": "\"\"",
        "line": 58,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 59,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "t",
        "line": 59,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 59,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 60,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 60,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "t",
        "line": 60,
        "column": 11
      },
      {
        "id": "string",
        "value": "\"counting variable\"",
        "line": 60,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 61,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "numpatentsy",
        "line": 61,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 61,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "t",
        "line": 61,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 61,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "ticker",
        "line": 61,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 61,
        "column": 36
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 62,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 62,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "numpatentsy",
        "line": 62,
        "column": 11
      },
      {
        "id": "string",
        "value": "\"number of patents in a certain year\"",
        "line": 62,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 63,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "claimsy",
        "line": 63,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 63,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "claims",
        "line": 63,
        "column": 18
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 63,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "ticker",
        "line": 63,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 63,
        "column": 37
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 64,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 64,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "claimsy",
        "line": 64,
        "column": 11
      },
      {
        "id": "string",
        "value": "\"sum of claims in a certain year\"",
        "line": 64,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 65,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "avclaims",
        "line": 65,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "claimsy",
        "line": 65,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 65,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "numpatentsy",
        "line": 65,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 66,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 66,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "avclaims",
        "line": 66,
        "column": 11
      },
      {
        "id": "string",
        "value": "\"claimsy divided by numpatentsy\"",
        "line": 66,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 67,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "t",
        "line": 67,
        "column": 6
      }
    ]
  },
  {
    "id": "comment",
    "value": "/*\n\n********************************************************\n* we generate the patent stock, lagged vars\n********************************************************\n\nby ticker: gen yearweight=year[_n+1]-year if year!=year[_n+1]\ngen xxx=numpatentsy\nreplace xxx=0 if xxx==.\nso ticker year\nby ticker: gen patents=xxx+xxx[_n-1]*(1-0.15)^yearweight if year!=year[_n-1]\nlabel var patents \"patentstock, depreciated\"\ndrop xxx\nreplace patents=patents[_n-1] if year==year & ticker==ticker[_n-1] & patents==.\nreplace patents=0 if patents==.\nso ticker year\nby ticker: gen patents_t_1=patents[_n-1]\nlabel var patents_t_1 \"lagged patentstock, lag 1\"\nby ticker: gen patents_t_2=patents[_n-2]\nlabel var patents_t_1 \"lagged patentstock, lag 2\"\nby ticker: gen patents_t_3=patents[_n-3]\nlabel var patents_t_1 \"lagged patentstock, lag 3\"\nby ticker: gen patents_t_4=patents[_n-4]\nlabel var patents_t_1 \"lagged patentstock, lag 4\"\n\n*/",
    "line": 69,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*********************************************************",
    "line": 71,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* creating a panel",
    "line": 72,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*********************************************************",
    "line": 73,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 75,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_99_cusip.dta\"",
        "line": 75,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 75,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 76,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 76,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 76,
        "column": 13
      },
      {
        "id": "number",
        "value": "1998",
        "line": 76,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 77,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_98_cusip.dta\"",
        "line": 77,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 77,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 78,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 78,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 78,
        "column": 13
      },
      {
        "id": "number",
        "value": "1997",
        "line": 78,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 79,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_97_cusip.dta\"",
        "line": 79,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 79,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 80,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 80,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 80,
        "column": 13
      },
      {
        "id": "number",
        "value": "1996",
        "line": 80,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 81,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_96_cusip.dta\"",
        "line": 81,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 81,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 82,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 82,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 82,
        "column": 13
      },
      {
        "id": "number",
        "value": "1995",
        "line": 82,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 83,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_95_cusip.dta\"",
        "line": 83,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 83,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 84,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 84,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 84,
        "column": 13
      },
      {
        "id": "number",
        "value": "1994",
        "line": 84,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 85,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_94_cusip.dta\"",
        "line": 85,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 85,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 86,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 86,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 86,
        "column": 13
      },
      {
        "id": "number",
        "value": "1993",
        "line": 86,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 87,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_93_cusip.dta\"",
        "line": 87,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 87,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 88,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 88,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 88,
        "column": 13
      },
      {
        "id": "number",
        "value": "1992",
        "line": 88,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 89,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_92_cusip.dta\"",
        "line": 89,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 89,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 90,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 90,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 90,
        "column": 13
      },
      {
        "id": "number",
        "value": "1991",
        "line": 90,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 91,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_91_cusip.dta\"",
        "line": 91,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 91,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 92,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 92,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 92,
        "column": 13
      },
      {
        "id": "number",
        "value": "1990",
        "line": 92,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 93,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_90_cusip.dta\"",
        "line": 93,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 93,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 94,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 94,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 94,
        "column": 13
      },
      {
        "id": "number",
        "value": "1989",
        "line": 94,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 95,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_89_cusip.dta\"",
        "line": 95,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 95,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 96,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 96,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 96,
        "column": 13
      },
      {
        "id": "number",
        "value": "1988",
        "line": 96,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 97,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_88_cusip.dta\"",
        "line": 97,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 97,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 98,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 98,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 98,
        "column": 13
      },
      {
        "id": "number",
        "value": "1987",
        "line": 98,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 99,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_87_cusip.dta\"",
        "line": 99,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 99,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 100,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 100,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 100,
        "column": 13
      },
      {
        "id": "number",
        "value": "1986",
        "line": 100,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 101,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_86_cusip.dta\"",
        "line": 101,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 101,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 103,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "z",
        "line": 103,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "86",
        "line": 103,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 103,
        "column": 15
      },
      {
        "id": "number",
        "value": "99",
        "line": 103,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 103,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 104,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\apat69_`z'_cusip.dta\"",
        "line": 104,
        "column": 5
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 104,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 105,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "t",
        "line": 105,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "group",
        "line": 105,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 105,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 106,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "T",
        "line": 106,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 106,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "t",
        "line": 106,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 107,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "T",
        "line": 107,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "T",
        "line": 107,
        "column": 11
      },
      {
        "id": "+",
        "value": "+",
        "line": 107,
        "column": 12
      },
      {
        "id": "number",
        "value": "1",
        "line": 107,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 108,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "t",
        "line": 108,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "order",
      "line": 110,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 110,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "so",
      "line": 111,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 111,
        "column": 4
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 113,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 113,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 113,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 114,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 114,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 114,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 114,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 114,
        "column": 23
      },
      {
        "id": "number",
        "value": "11",
        "line": 114,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 115,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 115,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "2",
        "line": 115,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 115,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 115,
        "column": 23
      },
      {
        "id": "number",
        "value": "12",
        "line": 115,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 116,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 116,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "3",
        "line": 116,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 116,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 116,
        "column": 23
      },
      {
        "id": "number",
        "value": "13",
        "line": 116,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 117,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 117,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "4",
        "line": 117,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 117,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 117,
        "column": 23
      },
      {
        "id": "number",
        "value": "14",
        "line": 117,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 118,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 118,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "5",
        "line": 118,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 118,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 118,
        "column": 23
      },
      {
        "id": "number",
        "value": "15",
        "line": 118,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 119,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 119,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "6",
        "line": 119,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 119,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 119,
        "column": 23
      },
      {
        "id": "number",
        "value": "19",
        "line": 119,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 120,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 120,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "7",
        "line": 120,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 120,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 120,
        "column": 23
      },
      {
        "id": "number",
        "value": "21",
        "line": 120,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 121,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 121,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "8",
        "line": 121,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 121,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 121,
        "column": 23
      },
      {
        "id": "number",
        "value": "22",
        "line": 121,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 122,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 122,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "9",
        "line": 122,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 122,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 122,
        "column": 23
      },
      {
        "id": "number",
        "value": "23",
        "line": 122,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 123,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 123,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "10",
        "line": 123,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 123,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 123,
        "column": 23
      },
      {
        "id": "number",
        "value": "24",
        "line": 123,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 124,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 124,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "11",
        "line": 124,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 124,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 124,
        "column": 23
      },
      {
        "id": "number",
        "value": "31",
        "line": 124,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 125,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 125,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "12",
        "line": 125,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 125,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 125,
        "column": 23
      },
      {
        "id": "number",
        "value": "32",
        "line": 125,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 126,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 126,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "13",
        "line": 126,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 126,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 126,
        "column": 23
      },
      {
        "id": "number",
        "value": "33",
        "line": 126,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 127,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 127,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "14",
        "line": 127,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 127,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 127,
        "column": 23
      },
      {
        "id": "number",
        "value": "39",
        "line": 127,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 128,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 128,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "15",
        "line": 128,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 128,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 128,
        "column": 23
      },
      {
        "id": "number",
        "value": "41",
        "line": 128,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 129,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 129,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "16",
        "line": 129,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 129,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 129,
        "column": 23
      },
      {
        "id": "number",
        "value": "42",
        "line": 129,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 130,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 130,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "17",
        "line": 130,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 130,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 130,
        "column": 23
      },
      {
        "id": "number",
        "value": "43",
        "line": 130,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 131,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 131,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "18",
        "line": 131,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 131,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 131,
        "column": 23
      },
      {
        "id": "number",
        "value": "44",
        "line": 131,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 132,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 132,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "19",
        "line": 132,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 132,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 132,
        "column": 23
      },
      {
        "id": "number",
        "value": "45",
        "line": 132,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 133,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 133,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "20",
        "line": 133,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 133,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 133,
        "column": 23
      },
      {
        "id": "number",
        "value": "46",
        "line": 133,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 134,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 134,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "21",
        "line": 134,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 134,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 134,
        "column": 23
      },
      {
        "id": "number",
        "value": "49",
        "line": 134,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 135,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 135,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "22",
        "line": 135,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 135,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 135,
        "column": 23
      },
      {
        "id": "number",
        "value": "51",
        "line": 135,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 136,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 136,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "23",
        "line": 136,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 136,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 136,
        "column": 23
      },
      {
        "id": "number",
        "value": "52",
        "line": 136,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 137,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 137,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "24",
        "line": 137,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 137,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 137,
        "column": 23
      },
      {
        "id": "number",
        "value": "53",
        "line": 137,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 138,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 138,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "25",
        "line": 138,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 138,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 138,
        "column": 23
      },
      {
        "id": "number",
        "value": "54",
        "line": 138,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 139,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 139,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "26",
        "line": 139,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 139,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 139,
        "column": 23
      },
      {
        "id": "number",
        "value": "55",
        "line": 139,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 140,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 140,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "27",
        "line": 140,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 140,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 140,
        "column": 23
      },
      {
        "id": "number",
        "value": "59",
        "line": 140,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 141,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 141,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "28",
        "line": 141,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 141,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 141,
        "column": 23
      },
      {
        "id": "number",
        "value": "61",
        "line": 141,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 142,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 142,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "29",
        "line": 142,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 142,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 142,
        "column": 23
      },
      {
        "id": "number",
        "value": "62",
        "line": 142,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 143,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 143,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "30",
        "line": 143,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 143,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 143,
        "column": 23
      },
      {
        "id": "number",
        "value": "63",
        "line": 143,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 144,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 144,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "31",
        "line": 144,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 144,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 144,
        "column": 23
      },
      {
        "id": "number",
        "value": "64",
        "line": 144,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 145,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 145,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "32",
        "line": 145,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 145,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 145,
        "column": 23
      },
      {
        "id": "number",
        "value": "65",
        "line": 145,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 146,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 146,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "33",
        "line": 146,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 146,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 146,
        "column": 23
      },
      {
        "id": "number",
        "value": "66",
        "line": 146,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 147,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 147,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "34",
        "line": 147,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 147,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 147,
        "column": 23
      },
      {
        "id": "number",
        "value": "67",
        "line": 147,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 148,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 148,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "35",
        "line": 148,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 148,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 148,
        "column": 23
      },
      {
        "id": "number",
        "value": "68",
        "line": 148,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 149,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 149,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "36",
        "line": 149,
        "column": 11
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "subcat",
        "line": 149,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 149,
        "column": 23
      },
      {
        "id": "number",
        "value": "69",
        "line": 149,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 151,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "t",
        "line": 151,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 151,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 152,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 152,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 152,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "t",
        "line": 152,
        "column": 13
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 152,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 152,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "k",
        "line": 152,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 153,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "t",
        "line": 153,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 153,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "appyear",
        "line": 153,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "nclass",
        "line": 153,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 153,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "subcat",
        "line": 153,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "patent",
        "line": 153,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "so",
      "line": 154,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 154,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "k",
        "line": 154,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 155,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 155,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 155,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 155,
        "column": 16
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 155,
        "column": 22
      },
      {
        "id": "+",
        "value": "+",
        "line": 155,
        "column": 24
      },
      {
        "id": "number",
        "value": "1",
        "line": 155,
        "column": 25
      },
      {
        "id": "]",
        "value": "]",
        "line": 155,
        "column": 26
      },
      {
        "id": "&",
        "value": "&",
        "line": 155,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "k",
        "line": 155,
        "column": 30
      },
      {
        "id": "==",
        "value": "==",
        "line": 155,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "k",
        "line": 155,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "_n",
        "line": 155,
        "column": 35
      },
      {
        "id": "+",
        "value": "+",
        "line": 155,
        "column": 37
      },
      {
        "id": "number",
        "value": "1",
        "line": 155,
        "column": 38
      },
      {
        "id": "]",
        "value": "]",
        "line": 155,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 157,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk1",
        "line": 157,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 157,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 158,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk2",
        "line": 158,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 158,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 159,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk3",
        "line": 159,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 159,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 160,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk4",
        "line": 160,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 160,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 161,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk5",
        "line": 161,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 161,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 162,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk6",
        "line": 162,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 162,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 163,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk7",
        "line": 163,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 163,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 164,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk8",
        "line": 164,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 164,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 165,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk9",
        "line": 165,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 165,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 166,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk10",
        "line": 166,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 166,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 167,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk11",
        "line": 167,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 167,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 168,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk12",
        "line": 168,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 168,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 169,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk13",
        "line": 169,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 169,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 170,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk14",
        "line": 170,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 170,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 171,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk15",
        "line": 171,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 171,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 172,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk16",
        "line": 172,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 172,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 173,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk17",
        "line": 173,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 173,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 174,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk18",
        "line": 174,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 174,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 175,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk19",
        "line": 175,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 175,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 176,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk20",
        "line": 176,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 176,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 177,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk21",
        "line": 177,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 177,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 178,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk22",
        "line": 178,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 178,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 179,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk23",
        "line": 179,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 179,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 180,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk24",
        "line": 180,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 180,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 181,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk25",
        "line": 181,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 181,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 182,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk26",
        "line": 182,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 182,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 183,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk27",
        "line": 183,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 183,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 184,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk28",
        "line": 184,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 184,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 185,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk29",
        "line": 185,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 185,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 186,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk30",
        "line": 186,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 186,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 187,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk31",
        "line": 187,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 187,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 188,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk32",
        "line": 188,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 188,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 189,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk33",
        "line": 189,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 189,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 190,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk34",
        "line": 190,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 190,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 191,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk35",
        "line": 191,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 191,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 192,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk36",
        "line": 192,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ct",
        "line": 192,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 194,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 194,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 194,
        "column": 14
      },
      {
        "id": "string",
        "value": "\".\"",
        "line": 194,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 196,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "id",
        "line": 196,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "group",
        "line": 196,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 196,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "k",
        "line": 196,
        "column": 21
      }
    ]
  },
  {
    "id": "comment",
    "value": "************************",
    "line": 198,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Dataset is reshaped here",
    "line": 199,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************************",
    "line": 200,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 202,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "long",
        "line": 202,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kk",
        "line": 202,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 202,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "id",
        "line": 202,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 202,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 202,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 203,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "id",
        "line": 203,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 205,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk",
        "line": 205,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 205,
        "column": 12
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "j",
        "line": 205,
        "column": 17
      },
      {
        "id": "~=",
        "value": "~=",
        "line": 205,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "k",
        "line": 205,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "so",
      "line": 207,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 207,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 207,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "kk",
        "line": 207,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 208,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 208,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 208,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 208,
        "column": 16
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 208,
        "column": 22
      },
      {
        "id": "+",
        "value": "+",
        "line": 208,
        "column": 24
      },
      {
        "id": "number",
        "value": "1",
        "line": 208,
        "column": 25
      },
      {
        "id": "]",
        "value": "]",
        "line": 208,
        "column": 26
      },
      {
        "id": "&",
        "value": "&",
        "line": 208,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 208,
        "column": 30
      },
      {
        "id": "==",
        "value": "==",
        "line": 208,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 208,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "_n",
        "line": 208,
        "column": 35
      },
      {
        "id": "+",
        "value": "+",
        "line": 208,
        "column": 37
      },
      {
        "id": "number",
        "value": "1",
        "line": 208,
        "column": 38
      },
      {
        "id": "]",
        "value": "]",
        "line": 208,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 209,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 209,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "ct",
        "line": 209,
        "column": 8
      }
    ]
  },
  {
    "id": "comment",
    "value": "****************************",
    "line": 211,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Dataset is reshaped again",
    "line": 212,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*************************",
    "line": 213,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 215,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "id",
        "line": 215,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "group",
        "line": 215,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 215,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 215,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 216,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "wide",
        "line": 216,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kk",
        "line": 216,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 216,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "id",
        "line": 216,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 216,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 216,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 217,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "id",
        "line": 217,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 219,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "i",
        "line": 219,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 219,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 219,
        "column": 14
      },
      {
        "id": "number",
        "value": "36",
        "line": 219,
        "column": 15
      },
      {
        "id": "{",
        "value": "{",
        "line": 219,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 220,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 220,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 220,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 220,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "kk",
        "line": 220,
        "column": 15
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 220,
        "column": 17
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 220,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 220,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 221,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kk",
        "line": 221,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 221,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "count",
      "line": 224,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 224,
        "column": 10
      },
      {
        "id": "==",
        "value": "==",
        "line": 224,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 224,
        "column": 17
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 224,
        "column": 23
      },
      {
        "id": "-",
        "value": "-",
        "line": 224,
        "column": 25
      },
      {
        "id": "number",
        "value": "1",
        "line": 224,
        "column": 26
      },
      {
        "id": "]",
        "value": "]",
        "line": 224,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 225,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 225,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 225,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 225,
        "column": 16
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 225,
        "column": 22
      },
      {
        "id": "-",
        "value": "-",
        "line": 225,
        "column": 24
      },
      {
        "id": "number",
        "value": "1",
        "line": 225,
        "column": 25
      },
      {
        "id": "]",
        "value": "]",
        "line": 225,
        "column": 26
      }
    ]
  },
  {
    "id": "comment",
    "value": "************************************",
    "line": 227,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Here we start bulding the variable",
    "line": 228,
    "column": 1
  },
  {
    "id": "comment",
    "value": "********************************",
    "line": 229,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 231,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "matsize",
        "line": 231,
        "column": 5
      },
      {
        "id": "number",
        "value": "5000",
        "line": 231,
        "column": 13
      }
    ]
  },
  {
    "id": "comment",
    "value": "******************************",
    "line": 233,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The patent distribution information for all firms is stored in one matrix M, where each",
    "line": 234,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* row of the matrix gives the patent distribution of one firm. The dimensions of the matrix",
    "line": 235,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* is N*36, where N is the number of firms in the dataset",
    "line": 236,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*****************************",
    "line": 237,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkmat",
      "line": 239,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k1",
        "line": 239,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "k2",
        "line": 239,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "k3",
        "line": 239,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "k4",
        "line": 239,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "k5",
        "line": 239,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "k6",
        "line": 239,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "k7",
        "line": 239,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "k8",
        "line": 239,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "k9",
        "line": 239,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "k10",
        "line": 239,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "k11",
        "line": 239,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "k12",
        "line": 239,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "k13",
        "line": 239,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "k14",
        "line": 239,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "k15",
        "line": 239,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "k16",
        "line": 239,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "k17",
        "line": 239,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "k18",
        "line": 239,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "k19",
        "line": 239,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "k20",
        "line": 239,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "k21",
        "line": 239,
        "column": 78
      },
      {
        "id": "identifier",
        "value": "k22",
        "line": 239,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "k23",
        "line": 239,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "k24",
        "line": 239,
        "column": 90
      },
      {
        "id": "identifier",
        "value": "k25",
        "line": 239,
        "column": 94
      },
      {
        "id": "identifier",
        "value": "k26",
        "line": 239,
        "column": 98
      },
      {
        "id": "identifier",
        "value": "k27",
        "line": 239,
        "column": 102
      },
      {
        "id": "identifier",
        "value": "k28",
        "line": 239,
        "column": 106
      },
      {
        "id": "identifier",
        "value": "k29",
        "line": 239,
        "column": 110
      },
      {
        "id": "identifier",
        "value": "k30",
        "line": 239,
        "column": 114
      },
      {
        "id": "identifier",
        "value": "k31",
        "line": 239,
        "column": 118
      },
      {
        "id": "identifier",
        "value": "k32",
        "line": 239,
        "column": 122
      },
      {
        "id": "identifier",
        "value": "k33",
        "line": 239,
        "column": 126
      },
      {
        "id": "identifier",
        "value": "k34",
        "line": 239,
        "column": 130
      },
      {
        "id": "identifier",
        "value": "k35",
        "line": 239,
        "column": 134
      },
      {
        "id": "identifier",
        "value": "k36",
        "line": 239,
        "column": 138
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 239,
        "column": 143
      },
      {
        "id": "identifier",
        "value": "M",
        "line": 239,
        "column": 150
      }
    ]
  },
  {
    "id": "comment",
    "value": "******************************",
    "line": 241,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The matrix MS is calculated. it is the product of M with its transpose. The resulting matrix",
    "line": 242,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* will be a square matrix of dimension N*N. Each element of the matrix will be equal to ",
    "line": 243,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* the inner product of a pair of firms' patent-distribution-vectors, where the diagonal",
    "line": 244,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* elements are the inner product of one firm's patent distribution with itself, and they",
    "line": 245,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* are thus sums of squares. The latter elements are stored in the row vector d.",
    "line": 246,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*****************************",
    "line": 247,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "matrix",
      "line": 249,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "MS",
        "line": 249,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "M",
        "line": 249,
        "column": 11
      },
      {
        "id": "*",
        "value": "*",
        "line": 249,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "M",
        "line": 249,
        "column": 13
      },
      {
        "id": "'",
        "value": "'",
        "line": 249,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "matrix",
      "line": 250,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "d",
        "line": 250,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "vecdiag",
        "line": 250,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "MS",
        "line": 250,
        "column": 18
      }
    ]
  },
  {
    "id": "comment",
    "value": "*****************************",
    "line": 252,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The outer product of the vector of sums of squares (d) is stored as the N*N matrix D.",
    "line": 253,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Each element of the matrix will thus be equal to the product of two sums of squares.",
    "line": 254,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*******************************",
    "line": 255,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "matrix",
      "line": 257,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "D",
        "line": 257,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "d",
        "line": 257,
        "column": 10
      },
      {
        "id": "'",
        "value": "'",
        "line": 257,
        "column": 11
      },
      {
        "id": "*",
        "value": "*",
        "line": 257,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "d",
        "line": 257,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 259,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "id",
        "line": 259,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "group",
        "line": 259,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 259,
        "column": 15
      }
    ]
  },
  {
    "id": "comment",
    "value": "****************************",
    "line": 261,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The colums of the matrices MS and D are stored as variables, so that functions can",
    "line": 262,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* be applied to the single elements of the matrices.",
    "line": 263,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************************",
    "line": 264,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "svmat",
      "line": 266,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "D",
        "line": 266,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "svmat",
      "line": 267,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "MS",
        "line": 267,
        "column": 7
      }
    ]
  },
  {
    "id": "comment",
    "value": "**************************",
    "line": 269,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The following loop first takes the square root of each observation in each D-variable",
    "line": 270,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* (i.e. of each element in matrix D). Now all elemnts of MS and D that have the same",
    "line": 271,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* position (row i, column j) constitute, respectively, the numerator and the denominator",
    "line": 272,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* for an uncentered correlation coeffecient between the patent distributions of firms",
    "line": 273,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* i and j. Thus, a fraction of each of these pairs is calculated and stored in MS",
    "line": 274,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* which now constitutes a correlation matrix for ALL firms, only that the diagonal ",
    "line": 275,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* elements (which are 1) are set to zero, as, later on, a firms own r&d expenditures",
    "line": 276,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* are not supposed to enter its potential spillover pool.",
    "line": 277,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************************************",
    "line": 278,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 280,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "i",
        "line": 280,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 280,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "while",
      "line": 281,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 281,
        "column": 7
      },
      {
        "id": "<",
        "value": "<",
        "line": 281,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "T",
        "line": 281,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 281,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 282,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "D",
        "line": 282,
        "column": 9
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 282,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "sqrt",
        "line": 282,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "D",
        "line": 282,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 282,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 283,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "MS",
        "line": 283,
        "column": 9
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 283,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "MS",
        "line": 283,
        "column": 15
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 283,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 283,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "D",
        "line": 283,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 283,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 284,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "D",
        "line": 284,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 284,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 285,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "MS",
        "line": 285,
        "column": 9
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 285,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 285,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "id",
        "line": 285,
        "column": 20
      },
      {
        "id": "==",
        "value": "==",
        "line": 285,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 285,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 286,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "i",
        "line": 286,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 286,
        "column": 9
      },
      {
        "id": "+",
        "value": "+",
        "line": 286,
        "column": 12
      },
      {
        "id": "number",
        "value": "1",
        "line": 286,
        "column": 13
      }
    ]
  },
  {
    "id": "comment",
    "value": "************************************",
    "line": 289,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* In the following loop, for each row of the technological correlation matrix MS",
    "line": 290,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* (which refers to one firm), all elements are set to zero which measure the technology",
    "line": 291,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* correletion between the firm and another firm that does NOT belong to the same",
    "line": 292,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* SIC4 industry. This procedure could be applied to any groups of firms, i.e. ",
    "line": 293,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* firms belonging to the same SIC2/SIC3 industry, or the group of insiders and ",
    "line": 294,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* outsiders of one rjv as we defined them.",
    "line": 295,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**************************************",
    "line": 296,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 298,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "id_sic",
        "line": 298,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "group",
        "line": 298,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "sic4",
        "line": 298,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 299,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "i",
        "line": 299,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 299,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "while",
      "line": 300,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 300,
        "column": 7
      },
      {
        "id": "<",
        "value": "<",
        "line": 300,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "T",
        "line": 300,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 300,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 301,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "n",
        "line": 301,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "id_sic",
        "line": 301,
        "column": 7
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "id",
        "line": 301,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 301,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 301,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 302,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "nn",
        "line": 302,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 302,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 302,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 303,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "MS",
        "line": 303,
        "column": 9
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 303,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 303,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "id_sic",
        "line": 303,
        "column": 20
      },
      {
        "id": "~=",
        "value": "~=",
        "line": 303,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "nn",
        "line": 303,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 304,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "n",
        "line": 304,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "nn",
        "line": 304,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 305,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "i",
        "line": 305,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 305,
        "column": 9
      },
      {
        "id": "+",
        "value": "+",
        "line": 305,
        "column": 12
      },
      {
        "id": "number",
        "value": "1",
        "line": 305,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 308,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\proximity86_`z'.dta\"",
        "line": 308,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 308,
        "column": 42
      }
    ]
  },
  {
    "id": "comment",
    "value": "**************************",
    "line": 311,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The information on r&d-expenditures from the compustat data is isolated.",
    "line": 312,
    "column": 1
  },
  {
    "id": "comment",
    "value": "****************************",
    "line": 313,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 315,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"clean_compustat_master.dta\"",
        "line": 315,
        "column": 5
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 315,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 316,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ticker",
        "line": 316,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "name",
        "line": 316,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "countryinc",
        "line": 316,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 316,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "rdexpense",
        "line": 316,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "CUSIP",
        "line": 316,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 317,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "CUSIP",
        "line": 317,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 317,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "so",
      "line": 318,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 318,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 318,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 319,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "rdexpense",
        "line": 319,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 319,
        "column": 18
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 319,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 321,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\clean_compustat_master_rd.dta\"",
        "line": 321,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 321,
        "column": 52
      }
    ]
  },
  {
    "id": "comment",
    "value": "*******************************",
    "line": 323,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The r&d information is seperated into year specific datasets. Observations",
    "line": 324,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* where are r&d-expenditures are not observed are DROPPED. I.e., whenever the r&d-expenditure",
    "line": 325,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* variable takes on the value zero, this means that zero expenditures are actually",
    "line": 326,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* OBSERVED.",
    "line": 327,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*******************************",
    "line": 328,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 330,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "z",
        "line": 330,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "86",
        "line": 330,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 330,
        "column": 15
      },
      {
        "id": "number",
        "value": "99",
        "line": 330,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 330,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 331,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\clean_compustat_master_rd.dta\"",
        "line": 331,
        "column": 5
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 331,
        "column": 51
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 332,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "year",
        "line": 332,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 332,
        "column": 13
      },
      {
        "id": "number",
        "value": "19",
        "line": 332,
        "column": 15
      },
      {
        "id": "`'",
        "value": "`z'",
        "line": 332,
        "column": 17
      },
      {
        "id": "&",
        "value": "&",
        "line": 332,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "rdexpense",
        "line": 332,
        "column": 23
      },
      {
        "id": "~=",
        "value": "~=",
        "line": 332,
        "column": 32
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 332,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 333,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\clean_compustat_master_rd`z'.dta\"",
        "line": 333,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 333,
        "column": 54
      }
    ]
  },
  {
    "id": "comment",
    "value": "**********************************",
    "line": 336,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Now, for each year, the dataset containing the correlation matrices are merged",
    "line": 337,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* with the r&d-expenditure information. What makes the issue tricky is that ",
    "line": 338,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* firms are potentially observed in the correlation-matrix data set stemming from ",
    "line": 339,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* the patent data that are not observed in the r&d-expenditure dataset because the ",
    "line": 340,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* variable was not observed in compustat for these firms. In such cases, not only",
    "line": 341,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* the corresponding row for the firm must be dropped, but also the corresponding",
    "line": 342,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* column. New id's must be assigned in order not to mess up the order",
    "line": 343,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* of rows and columns.",
    "line": 344,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************************************",
    "line": 345,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 349,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "more",
        "line": 349,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 349,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 350,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "z",
        "line": 350,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "86",
        "line": 350,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 350,
        "column": 15
      },
      {
        "id": "number",
        "value": "99",
        "line": 350,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 350,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 351,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\proximity86_`z'.dta\"",
        "line": 351,
        "column": 5
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 351,
        "column": 41
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "so",
      "line": 352,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 352,
        "column": 4
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 353,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 353,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 353,
        "column": 13
      },
      {
        "id": "string",
        "value": "\"patent files\\clean_compustat_master_rd`z'.dta\"",
        "line": 353,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 354,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 354,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 354,
        "column": 15
      },
      {
        "id": "number",
        "value": "2",
        "line": 354,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 355,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "id_new",
        "line": 355,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "group",
        "line": 355,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 355,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 355,
        "column": 29
      },
      {
        "id": "==",
        "value": "==",
        "line": 355,
        "column": 35
      },
      {
        "id": "number",
        "value": "3",
        "line": 355,
        "column": 37
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 356,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "u",
        "line": 356,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "group",
        "line": 356,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 356,
        "column": 14
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 356,
        "column": 24
      },
      {
        "id": "==",
        "value": "==",
        "line": 356,
        "column": 30
      },
      {
        "id": "number",
        "value": "1",
        "line": 356,
        "column": 32
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 357,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tt",
        "line": 357,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 357,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "u",
        "line": 357,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 358,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tt",
        "line": 358,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tt",
        "line": 358,
        "column": 12
      },
      {
        "id": "+",
        "value": "+",
        "line": 358,
        "column": 14
      },
      {
        "id": "number",
        "value": "1",
        "line": 358,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 359,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f",
        "line": 359,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 359,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "while",
      "line": 360,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`f'",
        "line": 360,
        "column": 7
      },
      {
        "id": "<",
        "value": "<",
        "line": 360,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "tt",
        "line": 360,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 360,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 361,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "dro",
        "line": 361,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "id",
        "line": 361,
        "column": 9
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "u",
        "line": 361,
        "column": 15
      },
      {
        "id": "==",
        "value": "==",
        "line": 361,
        "column": 16
      },
      {
        "id": "`'",
        "value": "`f'",
        "line": 361,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 362,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "dropp",
        "line": 362,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 362,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "dro",
        "line": 362,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 363,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "dr",
        "line": 363,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "dropp",
        "line": 363,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 364,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "MS",
        "line": 364,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`dr'",
        "line": 364,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 365,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "dro",
        "line": 365,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "dropp",
        "line": 365,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 366,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f",
        "line": 366,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`f'",
        "line": 366,
        "column": 9
      },
      {
        "id": "+",
        "value": "+",
        "line": 366,
        "column": 12
      },
      {
        "id": "number",
        "value": "1",
        "line": 366,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 368,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f",
        "line": 368,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 368,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 369,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tt",
        "line": 369,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "u",
        "line": 369,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 370,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tt",
        "line": 370,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 370,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "id_new",
        "line": 370,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 371,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tt",
        "line": 371,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tt",
        "line": 371,
        "column": 12
      },
      {
        "id": "+",
        "value": "+",
        "line": 371,
        "column": 14
      },
      {
        "id": "number",
        "value": "1",
        "line": 371,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "while",
      "line": 372,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`f'",
        "line": 372,
        "column": 7
      },
      {
        "id": "<",
        "value": "<",
        "line": 372,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "tt",
        "line": 372,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 372,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 373,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p",
        "line": 373,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "id_new",
        "line": 373,
        "column": 7
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "id_new",
        "line": 373,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 373,
        "column": 23
      },
      {
        "id": "`'",
        "value": "`f'",
        "line": 373,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 374,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "s",
        "line": 374,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 374,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "p",
        "line": 374,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 375,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p",
        "line": 375,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 376,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p",
        "line": 376,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "s",
        "line": 376,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 377,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "s",
        "line": 377,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 378,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "q",
        "line": 378,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "id",
        "line": 378,
        "column": 7
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "id_new",
        "line": 378,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 378,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`f'",
        "line": 378,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 379,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "r",
        "line": 379,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 379,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "q",
        "line": 379,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 380,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "q",
        "line": 380,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 381,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "q",
        "line": 381,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "r",
        "line": 381,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 382,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "r",
        "line": 382,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 383,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "MS",
        "line": 383,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`q'",
        "line": 383,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "MS",
        "line": 383,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`p'",
        "line": 383,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "a",
        "line": 383,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 384,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "MS",
        "line": 384,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`p'",
        "line": 384,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "a",
        "line": 384,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "MS",
        "line": 384,
        "column": 15
      },
      {
        "id": "`'",
        "value": "`p'",
        "line": 384,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 386,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f",
        "line": 386,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`f'",
        "line": 386,
        "column": 9
      },
      {
        "id": "+",
        "value": "+",
        "line": 386,
        "column": 12
      },
      {
        "id": "number",
        "value": "1",
        "line": 386,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 388,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 388,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 388,
        "column": 15
      },
      {
        "id": "number",
        "value": "1",
        "line": 388,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 389,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 389,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 390,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 390,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tt",
        "line": 390,
        "column": 9
      },
      {
        "id": "-",
        "value": "-",
        "line": 390,
        "column": 11
      },
      {
        "id": "number",
        "value": "1",
        "line": 390,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkmat",
      "line": 391,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "MS1",
        "line": 391,
        "column": 7
      },
      {
        "id": "-",
        "value": "-",
        "line": 391,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "MS",
        "line": 391,
        "column": 11
      },
      {
        "id": "`'",
        "value": "`m'",
        "line": 391,
        "column": 13
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 391,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "MM",
        "line": 391,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkmat",
      "line": 392,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rdexpense",
        "line": 392,
        "column": 7
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 392,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "rd",
        "line": 392,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "matrix",
      "line": 393,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "S",
        "line": 393,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`z'",
        "line": 393,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "MM",
        "line": 393,
        "column": 13
      },
      {
        "id": "*",
        "value": "*",
        "line": 393,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "rd",
        "line": 393,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "svmat",
      "line": 394,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "S",
        "line": 394,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`z'",
        "line": 394,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 395,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "S",
        "line": 395,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`z'",
        "line": 395,
        "column": 9
      },
      {
        "id": "number",
        "value": "1",
        "line": 395,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "S",
        "line": 395,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`z'",
        "line": 395,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 396,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\spillover_pool_`z'.dta\"",
        "line": 396,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 396,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 399,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "z",
        "line": 399,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "86",
        "line": 399,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 399,
        "column": 15
      },
      {
        "id": "number",
        "value": "99",
        "line": 399,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 399,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 400,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\spillover_pool_`z'.dta\"",
        "line": 400,
        "column": 5
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 400,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 401,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "S",
        "line": 401,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`z'",
        "line": 401,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 401,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "T",
        "line": 401,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 401,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "ticker",
        "line": 401,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "numpatentsy",
        "line": 401,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "claimsy",
        "line": 401,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "avclaims",
        "line": 401,
        "column": 51
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 402,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\spillover_pool_`z'_red.dta\"",
        "line": 402,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 402,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 405,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\spillover_pool_86_red.dta\"",
        "line": 405,
        "column": 5
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 405,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 406,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "z",
        "line": 406,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "87",
        "line": 406,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 406,
        "column": 15
      },
      {
        "id": "number",
        "value": "99",
        "line": 406,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 406,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "append",
      "line": 407,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 407,
        "column": 8
      },
      {
        "id": "string",
        "value": "\"patent files\\spillover_pool_`z'_red.dta\"",
        "line": 407,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 410,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "S",
        "line": 410,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 410,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 411,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "z",
        "line": 411,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "86",
        "line": 411,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 411,
        "column": 15
      },
      {
        "id": "number",
        "value": "99",
        "line": 411,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 411,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 412,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "S",
        "line": 412,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "S",
        "line": 412,
        "column": 11
      },
      {
        "id": "`'",
        "value": "`z'",
        "line": 412,
        "column": 12
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "S",
        "line": 412,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`z'",
        "line": 412,
        "column": 20
      },
      {
        "id": "~=",
        "value": "~=",
        "line": 412,
        "column": 23
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 412,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 413,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "S",
        "line": 413,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`z'",
        "line": 413,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 416,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 416,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "S",
        "line": 416,
        "column": 11
      },
      {
        "id": "string",
        "value": "\"spillover variable, patents\"",
        "line": 416,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "so",
      "line": 418,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ticker",
        "line": 418,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 418,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 419,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patent files\\spillover_pool_panel.dta\"",
        "line": 419,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 419,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 421,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ticker",
        "line": 421,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 421,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "cusip",
        "line": 421,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "S",
        "line": 421,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "numpatentsy",
        "line": 421,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "claimsy",
        "line": 421,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "avclaims",
        "line": 421,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "so",
      "line": 422,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 422,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 422,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "order",
      "line": 423,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cusip",
        "line": 423,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "ticker",
        "line": 423,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 423,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "desc",
      "line": 425,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 427,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"patentvars.dta\"",
        "line": 427,
        "column": 6
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 427,
        "column": 24
      }
    ]
  },
  {
    "id": "comment",
    "value": "********************************",
    "line": 430,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* This resulting data set contains various data on patents and the new variable S.",
    "line": 431,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* It may now be merged with the whole compustat database.",
    "line": 432,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*******************************",
    "line": 433,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 435,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 435,
        "column": 5
      }
    ]
  }
]