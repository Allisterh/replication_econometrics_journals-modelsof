version 10set more off// Open data fileuse "vcmsa.dta", clear// Generate temporary variables needed latergen temp1 = vcstgprvcntfst_loggen temp2 = vcstgprvcntall_loggen temp3 = vcstgprvtot_log// Declare local parameter valueslocal filename "tables_regressions"local notes1 "Standard errors robust to heteroskedasticity and clustered on MSAs."local notes2 ""local controls "pats_log pop_log"local controlsd "D.pats_log D.pop_log"local ivs "lpreturn10_1_3_1"// Summary Statsreplace vcstgprvtot = vcstgprvtot/1000000replace emplmnt = emplmnt / 1000replace payroll = payroll / 1000replace population = population / 1000quietly xtreg births_20_log dyear* `controls' vcstgprvcntfst_log, fe cluster(msacode)sutex patent population births_20 emplmnt payroll vcstgprvcntfst vcstgprvcntall vcstgprvtot if e(sample),  ///  digits(1) labels file("tables_summary_stats_panel.tex") replace ///  title(Summary Statistics for Panels\label{tableSummaryStats})by msacode: gen mark = (births_20[14] != .)quietly reg estab_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vccntf_grp5_log if marksutex estab_grp5 estab_tot emplmnt_grp5 emplmnt payroll_grp5 payroll pats55 vccntf_grp5 vccnta_grp5 vcamt_grp5 if e(sample),  ///  digits(1) labels file("tables_summary_stats_cross.tex") replace ///  title(Summary Statistics for Cross Section\label{tableSummaryStats})// Long-term impacteststo clearquietly eststo: reg estab_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vccntf_grp5_log if markquietly eststo: reg estab_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vccnta_grp5_log if markquietly eststo: reg estab_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vcamt_grp5_log if markquietly eststo: reg emplmnt_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vccntf_grp5_log if markquietly eststo: reg emplmnt_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vccnta_grp5_log if markquietly eststo: reg emplmnt_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vcamt_grp5_log if markquietly eststo: reg payroll_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vccntf_grp5_log if markquietly eststo: reg payroll_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vccnta_grp5_log if markquietly eststo: reg payroll_grp5_log estab_tot_log emplmnt_log payroll_log pats55_log vcamt_grp5_log if markesttab using "`filename'", replace fixed star(* 0.10 ** 0.05 *** 0.01) ///  obslast drop(_cons) mtitles("Estblmnts" "Estblmnts" "Estblmnts" "Emplmnt" "Emplmnt" "Emplmnt" "Payroll" "Payroll" "Payroll") ///  r2(2) se(%7.0g) ///  label title("Long-term Impact of Venture Capital Investments.") ///  addnotes("Dependent variables are the values from 2000 and independent variables the values from 1995." " " " ")// OLS Fixed-Effects Tables// Standard FEeststo clearquietly eststo: xtreg births_20_log dyear* `controls' vcstgprvcntfst_log, fe cluster(msacode)quietly eststo: xtreg births_20_log dyear* `controls' vcstgprvcntall_log, fe cluster(msacode)quietly eststo: xtreg births_20_log dyear* `controls' vcstgprvtot_log, fe cluster(msacode)quietly eststo: xtreg f.emplmnt_log dyear* `controls' vcstgprvcntfst_log, fe cluster(msacode)quietly eststo: xtreg f.emplmnt_log dyear* `controls' vcstgprvcntall_log, fe cluster(msacode)quietly eststo: xtreg f.emplmnt_log dyear* `controls' vcstgprvtot_log, fe cluster(msacode)replace vcstgprvcntfst_log = cvcstgprvcntfst_logreplace vcstgprvcntall_log = cvcstgprvcntall_logreplace vcstgprvtot_log    = cvcstgprvtot_logquietly eststo: xtreg payroll_log dyear* `controls' vcstgprvcntfst_log, fe cluster(msacode)quietly eststo: xtreg payroll_log dyear* `controls' vcstgprvcntall_log, fe cluster(msacode)quietly eststo: xtreg payroll_log dyear* `controls' vcstgprvtot_log, fe cluster(msacode)replace vcstgprvcntfst_log = temp1replace vcstgprvcntall_log = temp2replace vcstgprvtot_log    = temp3esttab using "`filename'", append fixed star(* 0.10 ** 0.05 *** 0.01) ///  obslast drop(dyear* _cons) mtitles("Births" "Births" "Births" "Emplmnt" "Emplmnt" "Emplmnt" "Payroll" "Payroll" "Payroll" ) ///  r2(2) se(%7.0g) sfmt(%5.0g) scalars("N_clust Clusters") ///  label title("Impact of VC on Regional Economy (OLS Fixed Effects)") ///  addnotes("`notes1'" "MSA and year fixed effects in all models." " " " ")// FE with trendeststo clearquietly eststo: xtreg births_20_log _ImsaXt* dyear* `controls' vcstgprvcntfst_log, fe cluster(msacode)quietly eststo: xtreg births_20_log _ImsaXt* dyear* `controls' vcstgprvcntall_log, fe cluster(msacode)quietly eststo: xtreg births_20_log _ImsaXt* dyear* `controls' vcstgprvtot_log, fe cluster(msacode)quietly eststo: xtreg f.emplmnt_log _ImsaXt* dyear* `controls' vcstgprvcntfst_log, fe cluster(msacode)quietly eststo: xtreg f.emplmnt_log _ImsaXt* dyear* `controls' vcstgprvcntall_log, fe cluster(msacode)quietly eststo: xtreg f.emplmnt_log _ImsaXt* dyear* `controls' vcstgprvtot_log, fe cluster(msacode)replace vcstgprvcntfst_log = cvcstgprvcntfst_logreplace vcstgprvcntall_log = cvcstgprvcntall_logreplace vcstgprvtot_log    = cvcstgprvtot_logquietly eststo: xtreg payroll_log _ImsaXt* dyear* `controls' vcstgprvcntfst_log, fe cluster(msacode)quietly eststo: xtreg payroll_log _ImsaXt* dyear* `controls' vcstgprvcntall_log, fe cluster(msacode)quietly eststo: xtreg payroll_log _ImsaXt* dyear* `controls' vcstgprvtot_log, fe cluster(msacode)replace vcstgprvcntfst_log = temp1replace vcstgprvcntall_log = temp2replace vcstgprvtot_log    = temp3esttab using "`filename'", append fixed star(* 0.10 ** 0.05 *** 0.01) ///  obslast drop(dyear* _ImsaXt* _cons) mtitles("Births" "Births" "Births" "Emplmnt" "Emplmnt" "Emplmnt" "Payroll" "Payroll" "Payroll" ) ///  r2(2) se(%7.0g) sfmt(%5.0g) scalars("N_clust Clusters") ///  label title("Impact of VC on Regional Economy (OLS Fixed Effects with Trend)") ///  addnotes("`notes1'" "MSA and year fixed effects in all models." "Models 1-9 include an MSA-specific growth trend." " " " ")// Exceptional regionseststo clearquietly eststo: xtreg births_20_log _ImsaXt* dyear* `controls' vcstgprvcntfst_log, fe cluster(msacode)quietly eststo: xtreg births_20_log _ImsaXt* dyear* `controls' vcstgprvcntfst_log if CA == 0, fe cluster(msacode)quietly eststo: xtreg births_20_log _ImsaXt* dyear* `controls' vcstgprvcntfst_log if MA == 0, fe cluster(msacode)quietly eststo: xtreg births_20_log _ImsaXt* dyear* `controls' vcstgprvcntfst_log if TX == 0, fe cluster(msacode)quietly eststo: xtreg births_20_log _ImsaXt* dyear* `controls' vcstgprvcntfst_log if CA == 0 & MA == 0 & TX == 0, fe cluster(msacode)esttab using "`filename'", append fixed star(* 0.10 ** 0.05 *** 0.01) ///  obslast drop(dyear* _ImsaXt* _cons) mtitles("All" "No CA" "No MA" "No TX" "No CA,MA,TX") ///  r2(2) se(%7.0g) sfmt(%5.0g) scalars("N_clust Clusters") ///  label title("High-VC-Activity States and Small Establishment Births.") ///  addnotes("`notes1'" "MSA and year fixed effects in all models." "All models include an MSA-specific growth trend." " " " ")// Temporal Structureeststo clearquietly eststo: xtreg births_20_log _ImsaXt* dyear* `controls' l(-1/3).vcstgprvcntfst_log, fe cluster(msacode)quietly eststo: xtreg f.emplmnt_log _ImsaXt* dyear* `controls' l(-1/3).vcstgprvcntfst_log, fe cluster(msacode)replace vcstgprvcntfst_log = cvcstgprvcntfst_logquietly eststo: xtreg payroll_log _ImsaXt* dyear* `controls' l(-1/3).vcstgprvcntfst_log, fe cluster(msacode)replace vcstgprvcntfst_log = temp1esttab using "`filename'", append fixed star(* 0.10 ** 0.05 *** 0.01) ///  obslast drop(dyear* _ImsaXt* _cons) mtitles("Births" "Emplmnt" "Payroll" ) ///  r2(2) se(%7.0g) sfmt(%5.0g) scalars("N_clust Clusters") ///  label title("Temporal Structure of Impact of VC on Regional Economy") ///  addnotes("`notes1'" "MSA and year fixed effects in all models." "Models 2, 4, and 6 include an MSA-specific growth trend." " " " ")// OLS FDeststo clearquietly eststo: reg d.births_20_log dyear* `controlsd' d.vcstgprvcntfst_log, cluster(msacode)quietly eststo: xtreg d.births_20_log dyear* `controlsd' d.vcstgprvcntfst_log, fe cluster(msacode)quietly eststo: reg fd.emplmnt_log dyear* `controlsd' d.vcstgprvcntfst_log, cluster(msacode)quietly eststo: xtreg fd.emplmnt_log dyear* `controlsd' d.vcstgprvcntfst_log, fe cluster(msacode)replace vcstgprvcntfst_log = cvcstgprvcntfst_logquietly eststo: reg d.payroll_log dyear* `controlsd' d.vcstgprvcntfst_log, cluster(msacode)quietly eststo: xtreg d.payroll_log dyear* `controlsd' d.vcstgprvcntfst_log, fe cluster(msacode)replace vcstgprvcntfst_log = temp1esttab using "`filename'", append fixed star(* 0.10 ** 0.05 *** 0.01) ///  obslast drop(dyear* _cons) mtitles("Births" "Births" "Emplmnt" "Emplmnt" "Payroll" "Payroll" ) ///  r2(2) se(%7.0g) sfmt(%5.0g) scalars("N_clust Clusters") ///  label title("Impact of VC on Regional Economy (OLS First Differences)") ///  addnotes("`notes1'" "MSA and year fixed effects in all models." "Models 2, 4, and 6 include an MSA-specific growth trend." " " " ")// Arellano-Bond for Birthseststo clear                                   quietly eststo: xtreg l(0/2).births_20_log dyear16-dyear22 l(0/0).(pop_log pats_log) l(0/0).vcstgprvcntfst_log, fe cl(msacode)quietly eststo: xtabond2 l(0/2).births_20_log dyear16-dyear22 l(0/0).(pop_log pats_log) l(0/0).vcstgprvcntfst_log, robust small iv(dyear16-dyear22) gmm(births_20_log, lag(2 .)) gmm(vcstgprvcntfst_log, lag(2 .)) iv(pop_log pats_log) nolevel nodiffsarganquietly eststo: xtreg l(0/1).f.emplmnt_log dyear15-dyear22 l(0/0).(pop_log pats_log) l(0/0).vcstgprvcntfst_log, fe cl(msacode)quietly eststo: xtabond2 l(0/1).f.emplmnt_log dyear15-dyear22 l(0/0).(pop_log pats_log) l(0/0).vcstgprvcntfst_log, robust small iv(dyear15-dyear22) gmm(f.emplmnt_log, lag(2 .)) gmm(vcstgprvcntfst_log, lag(2 .)) iv(pop_log pats_log) nolevel nodiffsargan replace vcstgprvcntfst_log = cvcstgprvcntfst_logquietly eststo: xtreg l(0/1).payroll_log dyear16-dyear23 l(0/0).(pop_log pats_log) l(0/1).vcstgprvcntfst_log, fe cl(msacode)quietly eststo: xtabond2 l(0/1).payroll_log dyear16-dyear23 l(0/0).(pop_log pats_log) l(0/1).vcstgprvcntfst_log, robust small iv(dyear16-dyear23) gmm(payroll_log, lag(2 .)) gmm(vcstgprvcntfst_log, lag(2 .)) iv(pop_log pats_log) nolevel nodiffsarganreplace vcstgprvcntfst_log = temp1             esttab using "`filename'", append fixed star(* 0.10 ** 0.05 *** 0.01) ///  obslast drop(dyear* _cons) mtitles("OLS-FE" "Arellano-Bond" "OLS-FE" "Arellano-Bond" "OLS-FE" "Arellano-Bond" ) ///  se(%7.0g) scalars("hansenp Hansen" "ar2p AR(2)" "N_clust Clusters" ) ///  label title("Dynamic Panel Estimates.") ///  addnotes("`notes1'" " " " ")// IV Estimates with trendeststo clearquietly eststo: xtreg vcstgprvcntfst_log dyear* _ImsaXt* `controls' `ivs' if births_20_log != ., fe cluster(msacode)quietly eststo: xtivreg2 births_20_log _ImsaXt* dyear* `controls' (vcstgprvcntfst_log = `ivs'), fe liml cluster(msacode) partial( _ImsaXt* dyear*)quietly eststo: xtreg vcstgprvcntfst_log dyear* _ImsaXt* `controls' `ivs' if f.emplmnt != ., fe cluster(msacode)quietly eststo: xtivreg2 f.emplmnt_log _ImsaXt* dyear* `controls' (vcstgprvcntfst_log = `ivs'), fe liml cluster(msacode) partial( _ImsaXt* dyear*)replace vcstgprvcntfst_log = cvcstgprvcntfst_logquietly eststo: xtreg vcstgprvcntfst_log dyear* _ImsaXt* `controls' `ivs' if payroll != ., fe cluster(msacode)quietly eststo: xtivreg2 payroll_log _ImsaXt* dyear* `controls' (vcstgprvcntfst_log = `ivs'), fe liml cluster(msacode) partial( _ImsaXt* dyear*)replace vcstgprvcntfst_log = temp1             esttab using "`filename'", append fixed star(* 0.10 ** 0.05 *** 0.01) ///  obslast drop(dyear* _ImsaXt* _cons) mtitles("1st Stage" "Births" "1st Stage" "Emplmnt" "1st Stage" "Payroll") ///  r2(2) se(%7.0g) order(`controls') sfmt(%5.0g) scalars("widstat KP Wald F" "N_clust Clusters" ) ///  label title("Level of Employment with LP Returns as Instrument.") ///  addnotes("`notes1'" "MSA and year fixed effects in all models." "All models include an MSA-specific growth trend." " " " ")