[
  {
    "id": "comment",
    "value": "**********************************************************************************************",
    "line": 1,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**********************************************************************************************",
    "line": 2,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**********************************************************************************************",
    "line": 3,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**********************************************************************************************",
    "line": 4,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*",
    "line": 5,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* IRS analysis code for \"Who Becomes an Inventor in America? The Importance of Exposure in Innovation\"",
    "line": 6,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Authors: Alex Bell, Raj Chetty, Xavier Jaravel, Neviana Petkova, & John van Reenen",
    "line": 7,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Questions on this code may be directed to Alex Bell.",
    "line": 8,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* ",
    "line": 9,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The order of the code is as follows:",
    "line": 10,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*\t- Dataset Building",
    "line": 11,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* \t- Tables (Followed by Appendix Figures)",
    "line": 12,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*\t- Figures (Followed by Appendix Figures)",
    "line": 13,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*",
    "line": 14,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Note: The code for Online Tables (which have been released publicly) is in a separate folder.",
    "line": 15,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* This code only creates data that is not released in dataset format.",
    "line": 16,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* ",
    "line": 17,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Most of the calculations of \"miscellaneous statisitics\" have been omitted from this code in the",
    "line": 18,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* interest of clarity in replicating figures and tables.",
    "line": 19,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*",
    "line": 20,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The primary purpose of this code is analysis. ",
    "line": 21,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* The SAS code used to link patent data with tax data is not provided, but pseudocode for this",
    "line": 22,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* procedure can be found in the PDF of the Online Appendix. ",
    "line": 23,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*",
    "line": 24,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**********************************************************************************************  ",
    "line": 25,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**********************************************************************************************",
    "line": 26,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**********************************************************************************************",
    "line": 27,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**********************************************************************************************",
    "line": 28,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 30,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "more",
        "line": 30,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 30,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 32,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 32,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 32,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 33,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "prog",
        "line": 33,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "draft2016",
        "line": 33,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 34,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "v",
        "line": 34,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "v1",
        "line": 34,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 35,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "date",
        "line": 35,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "subinstr",
        "line": 35,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 35,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "date",
        "line": 35,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "c",
        "line": 35,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "current_date",
        "line": 35,
        "column": 35
      },
      {
        "id": ",",
        "value": ",",
        "line": 35,
        "column": 48
      },
      {
        "id": "string",
        "value": "\"DMY\"",
        "line": 35,
        "column": 49
      },
      {
        "id": ",",
        "value": ",",
        "line": 35,
        "column": 55
      },
      {
        "id": "string",
        "value": "\"%td_CCYY_NN_DD\"",
        "line": 35,
        "column": 56
      },
      {
        "id": ",",
        "value": ",",
        "line": 35,
        "column": 73
      },
      {
        "id": "string",
        "value": "\" \"",
        "line": 35,
        "column": 74
      },
      {
        "id": ",",
        "value": ",",
        "line": 35,
        "column": 77
      },
      {
        "id": "string",
        "value": "\"_\"",
        "line": 35,
        "column": 78
      },
      {
        "id": ",",
        "value": ",",
        "line": 35,
        "column": 81
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 35,
        "column": 82
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 36,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patpath",
        "line": 36,
        "column": 8
      },
      {
        "id": "/",
        "value": "/",
        "line": 36,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "home",
        "line": 36,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 36,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "stataharvard",
        "line": 36,
        "column": 22
      },
      {
        "id": "/",
        "value": "/",
        "line": 36,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 36,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 37,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "section2sample",
        "line": 37,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 37,
        "column": 24
      },
      {
        "id": "<",
        "value": "<",
        "line": 37,
        "column": 30
      },
      {
        "id": "=",
        "value": "=",
        "line": 37,
        "column": 31
      },
      {
        "id": "number",
        "value": "1984",
        "line": 37,
        "column": 32
      },
      {
        "id": "&",
        "value": "&",
        "line": 37,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 37,
        "column": 39
      },
      {
        "id": "==",
        "value": "==",
        "line": 37,
        "column": 47
      },
      {
        "id": "number",
        "value": "0",
        "line": 37,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cd",
      "line": 39,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "$",
        "line": 39,
        "column": 4
      },
      {
        "id": "{",
        "value": "{",
        "line": 39,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 39,
        "column": 6
      },
      {
        "id": "}",
        "value": "}",
        "line": 39,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 39,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "draft2016",
        "line": 39,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 41,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 41,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 41,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 41,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 41,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 41,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 42,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 42,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 42,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 43,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 43,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "logs",
        "line": 43,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 44,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 44,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 44,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 44,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 44,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 44,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 44,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "scalar_out",
        "line": 44,
        "column": 23
      }
    ]
  },
  {
    "id": "comment",
    "value": "***********************************************",
    "line": 48,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************",
    "line": 49,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Dataset Building",
    "line": 50,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* \t1) Core kids file",
    "line": 51,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*\t2) NYC file",
    "line": 52,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* \t3) Event study",
    "line": 53,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************  ",
    "line": 54,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************",
    "line": 55,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********",
    "line": 57,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Cleaning Up Raw SAS Data",
    "line": 58,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********",
    "line": 59,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 60,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 60,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 60,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 61,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 61,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "logs",
        "line": 61,
        "column": 11
      },
      {
        "id": "/",
        "value": "/",
        "line": 61,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 61,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 61,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 61,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 61,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 61,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 61,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 61,
        "column": 26
      },
      {
        "id": "}",
        "value": "}",
        "line": 61,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "_cleaningsasdata.txt",
        "line": 61,
        "column": 28
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "text",
        "line": 61,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 61,
        "column": 55
      }
    ]
  },
  {
    "id": "comment",
    "value": "***",
    "line": 63,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Create primary categories from individual-level data",
    "line": 64,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***",
    "line": 65,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 66,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "raw",
        "line": 66,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 66,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_110.dta",
        "line": 66,
        "column": 9
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 66,
        "column": 29
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Confirm that appyear is not missing and assumes logical values, then determine the earliest for each TIN.",
    "line": 68,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "assert",
      "line": 69,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 69,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "appyear",
        "line": 69,
        "column": 16
      },
      {
        "id": ",",
        "value": ",",
        "line": 69,
        "column": 23
      },
      {
        "id": "number",
        "value": "1850",
        "line": 69,
        "column": 24
      },
      {
        "id": ",",
        "value": ",",
        "line": 69,
        "column": 28
      },
      {
        "id": "number",
        "value": "2015",
        "line": 69,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 70,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 70,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 70,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 70,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 70,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "min",
        "line": 70,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "appyear",
        "line": 70,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 71,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 71,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 71,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 71,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "firstpatyear",
        "line": 71,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "min",
        "line": 71,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "patyear",
        "line": 71,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 72,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 72,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 72,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 72,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "app2001orlater",
        "line": 72,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 72,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "appyear",
        "line": 72,
        "column": 36
      },
      {
        "id": ">",
        "value": ">",
        "line": 72,
        "column": 43
      },
      {
        "id": "=",
        "value": "=",
        "line": 72,
        "column": 44
      },
      {
        "id": "number",
        "value": "2001",
        "line": 72,
        "column": 45
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Confirm that no observation is missing both patent id and application id.",
    "line": 74,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "assert",
      "line": 75,
      "column": 1
    },
    "varlist": [
      {
        "id": "!",
        "value": "!",
        "line": 75,
        "column": 8
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 75,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "pat_inv_id",
        "line": 75,
        "column": 18
      },
      {
        "id": "&",
        "value": "&",
        "line": 75,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 75,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "app_inv_id",
        "line": 75,
        "column": 40
      },
      {
        "id": "]",
        "value": "]",
        "line": 75,
        "column": 51
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Confirm that no observation has both patent id and application id.",
    "line": 76,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "assert",
      "line": 77,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 77,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "pat_inv_id",
        "line": 77,
        "column": 16
      },
      {
        "id": "|",
        "value": "|",
        "line": 77,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 77,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "app_inv_id",
        "line": 77,
        "column": 38
      }
    ]
  },
  {
    "id": "comment",
    "value": "*If a TIN is ever associated with a patent id and/or an applicant id, label it as a grantee and/or applicant.",
    "line": 79,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 80,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 80,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 80,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 80,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "grantee",
        "line": 80,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 80,
        "column": 25
      },
      {
        "id": "!",
        "value": "!",
        "line": 80,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 80,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "pat_inv_id",
        "line": 80,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 81,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 81,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "grantee",
        "line": 81,
        "column": 11
      },
      {
        "id": "string",
        "value": "\"indicator that TIN received one or more patents\"",
        "line": 81,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 82,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 82,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 82,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 82,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "applicant",
        "line": 82,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 82,
        "column": 27
      },
      {
        "id": "!",
        "value": "!",
        "line": 82,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 82,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "app_inv_id",
        "line": 82,
        "column": 40
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 83,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 83,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "applicant",
        "line": 83,
        "column": 11
      },
      {
        "id": "string",
        "value": "\"indicator that TIN applied for one or more patents\"",
        "line": 83,
        "column": 21
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Prepare series variable for merging by encoding it to match with curr_class15.dta",
    "line": 85,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 86,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "series",
        "line": 86,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "series_str",
        "line": 86,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 87,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "define",
        "line": 87,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "seriesl",
        "line": 87,
        "column": 14
      },
      {
        "id": "number",
        "value": "0",
        "line": 87,
        "column": 22
      },
      {
        "id": "string",
        "value": "\"\"",
        "line": 87,
        "column": 24
      },
      {
        "id": "number",
        "value": "1",
        "line": 87,
        "column": 27
      },
      {
        "id": "string",
        "value": "\"D\"",
        "line": 87,
        "column": 29
      },
      {
        "id": "number",
        "value": "2",
        "line": 87,
        "column": 33
      },
      {
        "id": "string",
        "value": "\"RE\"",
        "line": 87,
        "column": 35
      },
      {
        "id": "number",
        "value": "3",
        "line": 87,
        "column": 40
      },
      {
        "id": "string",
        "value": "\"PP\"",
        "line": 87,
        "column": 42
      },
      {
        "id": "number",
        "value": "4",
        "line": 87,
        "column": 47
      },
      {
        "id": "string",
        "value": "\"H\"",
        "line": 87,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "encode",
      "line": 88,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "series_str",
        "line": 88,
        "column": 8
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 88,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "series",
        "line": 88,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "label",
        "line": 88,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "seriesl",
        "line": 88,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "noextend",
        "line": 88,
        "column": 47
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Note that Stata interprets the empty string in label define as removing a label, so the desired 0 is not assigned by encode.",
    "line": 89,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Assign this below, only giving a series of 0 to patents, not to applications.",
    "line": 90,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 91,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "series",
        "line": 91,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 91,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "series",
        "line": 91,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 91,
        "column": 27
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 91,
        "column": 29
      },
      {
        "id": "&",
        "value": "&",
        "line": 91,
        "column": 31
      },
      {
        "id": "!",
        "value": "!",
        "line": 91,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 91,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "patno",
        "line": 91,
        "column": 42
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Preseve the original class in a separate variable to add in later for applications and any patents not in the using data.",
    "line": 93,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 94,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "class",
        "line": 94,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "orig_class",
        "line": 94,
        "column": 14
      }
    ]
  },
  {
    "id": "comment",
    "value": "*For patents, we will replace class with the more complete data merged in and regenerate scat and cat thereafter.",
    "line": 95,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 96,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "scat",
        "line": 96,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 96,
        "column": 11
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Merge in updated data, discarding unmerged data from the using file.",
    "line": 98,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 99,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 99,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 99,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 99,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "series",
        "line": 99,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "patno",
        "line": 99,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 99,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 99,
        "column": 30
      },
      {
        "id": "{",
        "value": "{",
        "line": 99,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 99,
        "column": 32
      },
      {
        "id": "}",
        "value": "}",
        "line": 99,
        "column": 39
      },
      {
        "id": "/",
        "value": "/",
        "line": 99,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "idb",
        "line": 99,
        "column": 41
      },
      {
        "id": "/",
        "value": "/",
        "line": 99,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "v5",
        "line": 99,
        "column": 45
      },
      {
        "id": "/",
        "value": "/",
        "line": 99,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "curr_class15.dta",
        "line": 99,
        "column": 48
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 99,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 99,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 99,
        "column": 78
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "count",
      "line": 100,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 100,
        "column": 10
      },
      {
        "id": "==",
        "value": "==",
        "line": 100,
        "column": 16
      },
      {
        "id": "number",
        "value": "1",
        "line": 100,
        "column": 18
      },
      {
        "id": "&",
        "value": "&",
        "line": 100,
        "column": 20
      },
      {
        "id": "!",
        "value": "!",
        "line": 100,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 100,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "pat_inv_id",
        "line": 100,
        "column": 31
      }
    ]
  },
  {
    "id": "comment",
    "value": "*There are 4017 patents in the master data that are not found in the using data.",
    "line": 101,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Looking up a half-dozen of these online, Alex thinks they may have been withdrawn, not be current, etc.",
    "line": 102,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Add back in the original class for applications and any patents not in the using data.",
    "line": 104,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 105,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "class3",
        "line": 105,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "orig_class",
        "line": 105,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 105,
        "column": 30
      },
      {
        "id": "==",
        "value": "==",
        "line": 105,
        "column": 36
      },
      {
        "id": "number",
        "value": "1",
        "line": 105,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 106,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "orig_class",
        "line": 106,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "_merge",
        "line": 106,
        "column": 17
      }
    ]
  },
  {
    "id": "comment",
    "value": "*To keep terminology standard, the 9-digit \"class\" is referred to as \"class_long\" and the 3-digit \"class3\" is referred to as \"class\".",
    "line": 108,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 109,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "class",
        "line": 109,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "class_long",
        "line": 109,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 110,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "class3",
        "line": 110,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 110,
        "column": 15
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Merge in category and subcategory based on class.",
    "line": 112,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 113,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 113,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 113,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 113,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 113,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 113,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 113,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 113,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 113,
        "column": 25
      },
      {
        "id": "}",
        "value": "}",
        "line": 113,
        "column": 32
      },
      {
        "id": "/",
        "value": "/",
        "line": 113,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "idb",
        "line": 113,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 113,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "classlookup.dta",
        "line": 113,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 113,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 113,
        "column": 65
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 113,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 113,
        "column": 75
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 113,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 113,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 113,
        "column": 94
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 114,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "class",
        "line": 114,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 114,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 114,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "mi",
        "line": 114,
        "column": 29
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Apart from 4 obs with class 999, the merge succeeded.",
    "line": 115,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "compress",
      "line": 116,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "**Determine the areas in which a person most frequently patents.",
    "line": 118,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Generate counts of each TIN's cats, scats, and classes. Make this zero for any missing categories, as we do not want to choose these.",
    "line": 119,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*At each level of classification, determine the most frequent value for each TIN.",
    "line": 120,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*There will be ties among the most frequent categories, so we use unique random numbers at each level to break these ties.",
    "line": 121,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 122,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "seed",
        "line": 122,
        "column": 5
      },
      {
        "id": "number",
        "value": "1991",
        "line": 122,
        "column": 10
      }
    ]
  },
  {
    "id": "comment",
    "value": "// Feb 10 2017 I put the set seed in after i ran this code so it won't have been set in this data",
    "line": 123,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 124,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "level",
        "line": 124,
        "column": 9
      }
    ],
    "in": [
      {
        "id": "identifier",
        "value": "cat",
        "line": 124,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 124,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 124,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "class_long",
        "line": 124,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 124,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 125,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 125,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "`'",
        "value": "`level'",
        "line": 125,
        "column": 9
      },
      {
        "id": ":",
        "value": ":",
        "line": 125,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 125,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "num_in_",
        "line": 125,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`level'",
        "line": 125,
        "column": 29
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_N",
        "line": 125,
        "column": 37
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 126,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "num_in_",
        "line": 126,
        "column": 9
      },
      {
        "id": "`'",
        "value": "`level'",
        "line": 126,
        "column": 16
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 126,
        "column": 24
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 126,
        "column": 29
      },
      {
        "id": "`'",
        "value": "`level'",
        "line": 126,
        "column": 37
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 127,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rand_",
        "line": 127,
        "column": 5
      },
      {
        "id": "`'",
        "value": "`level'",
        "line": 127,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "runiform",
        "line": 127,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gsort",
      "line": 128,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 128,
        "column": 7
      },
      {
        "id": "-",
        "value": "-",
        "line": 128,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "num_in_",
        "line": 128,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`level'",
        "line": 128,
        "column": 19
      },
      {
        "id": "-",
        "value": "-",
        "line": 128,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "rand_",
        "line": 128,
        "column": 28
      },
      {
        "id": "`'",
        "value": "`level'",
        "line": 128,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 129,
      "column": 4
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "by",
          "line": 129,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 129,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 129,
        "column": 9
      },
      {
        "id": "`'",
        "value": "`level'",
        "line": 129,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "_prim",
        "line": 129,
        "column": 20
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`level'",
        "line": 129,
        "column": 26
      }
    ],
    "weight": [
      {
        "id": "number",
        "value": "1",
        "line": 129,
        "column": 34
      },
      {
        "id": "]",
        "value": "]",
        "line": 129,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 131,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 131,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 131,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 131,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 131,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 131,
        "column": 34
      },
      {
        "id": "~",
        "value": "~",
        "line": 131,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 131,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "pat_inv_id",
        "line": 131,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 132,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 132,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 132,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 132,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 132,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 132,
        "column": 31
      },
      {
        "id": "~",
        "value": "~",
        "line": 132,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 132,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "app_inv_id",
        "line": 132,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 133,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 133,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 133,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 133,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "lifetime_apps_granted",
        "line": 133,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 133,
        "column": 39
      },
      {
        "id": "~",
        "value": "~",
        "line": 133,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 133,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "app_inv_id",
        "line": 133,
        "column": 54
      },
      {
        "id": "&",
        "value": "&",
        "line": 133,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "granted",
        "line": 133,
        "column": 68
      },
      {
        "id": "==",
        "value": "==",
        "line": 133,
        "column": 75
      },
      {
        "id": "number",
        "value": "1",
        "line": 133,
        "column": 77
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 134,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 134,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 134,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 134,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "patno",
        "line": 134,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 134,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 134,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 134,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 134,
        "column": 25
      },
      {
        "id": "}",
        "value": "}",
        "line": 134,
        "column": 32
      },
      {
        "id": "/",
        "value": "/",
        "line": 134,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "idb",
        "line": 134,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 134,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 134,
        "column": 38
      },
      {
        "id": "/",
        "value": "/",
        "line": 134,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 134,
        "column": 42
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 134,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 134,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 134,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 134,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 134,
        "column": 77
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 135,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit",
        "line": 135,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 135,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 135,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 135,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 136,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 136,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 136,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 136,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 136,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 136,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 136,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 138,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 138,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 138,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 138,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 138,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 138,
        "column": 13
      },
      {
        "id": "}",
        "value": "}",
        "line": 138,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 138,
        "column": 18
      },
      {
        "id": "{",
        "value": "{",
        "line": 138,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 138,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 138,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "_inv_precollapse",
        "line": 138,
        "column": 23
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 138,
        "column": 41
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Reduce to TIN-level variables of interest, drop complete duplicates, and verify that each TIN appears only once.",
    "line": 140,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 141,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 141,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "unmasked_tin",
        "line": 141,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 141,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "scat_prim",
        "line": 141,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "class_prim",
        "line": 141,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "class_long_prim",
        "line": 141,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "grantee",
        "line": 141,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "applicant",
        "line": 141,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 141,
        "column": 87
      },
      {
        "id": "identifier",
        "value": "firstpatyear",
        "line": 141,
        "column": 100
      },
      {
        "id": "identifier",
        "value": "app2001orlater",
        "line": 141,
        "column": 113
      },
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 141,
        "column": 128
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 141,
        "column": 145
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 141,
        "column": 159
      },
      {
        "id": "identifier",
        "value": "lifetime_apps_granted",
        "line": 141,
        "column": 174
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "duplicates",
      "line": 142,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 142,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 143,
      "column": 4
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "by",
          "line": 143,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 143,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "assert",
        "line": 143,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "_N",
        "line": 143,
        "column": 16
      },
      {
        "id": "==",
        "value": "==",
        "line": 143,
        "column": 18
      },
      {
        "id": "number",
        "value": "1",
        "line": 143,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 145,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 145,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 145,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 145,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 145,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 145,
        "column": 13
      },
      {
        "id": "}",
        "value": "}",
        "line": 145,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 145,
        "column": 18
      },
      {
        "id": "{",
        "value": "{",
        "line": 145,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 145,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 145,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "_inv",
        "line": 145,
        "column": 23
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 145,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 147,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 147,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "***********",
    "line": 152,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Dataset 1: Patent Rates vs Parent Income Dataset Building",
    "line": 153,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********",
    "line": 154,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 156,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 156,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 156,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 157,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 157,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "logs",
        "line": 157,
        "column": 11
      },
      {
        "id": "/",
        "value": "/",
        "line": 157,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 157,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 157,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 157,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 157,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 157,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 157,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 157,
        "column": 26
      },
      {
        "id": "}",
        "value": "}",
        "line": 157,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "_dataset1building.txt",
        "line": 157,
        "column": 28
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "text",
        "line": 157,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 157,
        "column": 56
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Merge child patent data to Movers commuting zone base data on the child's TIN.",
    "line": 161,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Start with basically just a print of the IGE basefile",
    "line": 162,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 163,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "$",
        "line": 163,
        "column": 5
      },
      {
        "id": "{",
        "value": "{",
        "line": 163,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 163,
        "column": 7
      },
      {
        "id": "}",
        "value": "}",
        "line": 163,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 163,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "draft_june",
        "line": 163,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 163,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "patmv_v4_10.dta",
        "line": 163,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 163,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 164,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 164,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 164,
        "column": 16
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Note that we expect only a small share of records from either file to match since most children in Movers are not inventors, and most inventors are not children in Movers.",
    "line": 166,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 167,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 167,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 167,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 167,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 167,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 167,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 167,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 167,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 167,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 167,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 167,
        "column": 28
      },
      {
        "id": "}",
        "value": "}",
        "line": 167,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 167,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 167,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 167,
        "column": 36
      },
      {
        "id": "}",
        "value": "}",
        "line": 167,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "_inv",
        "line": 167,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 167,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 167,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "scat_prim",
        "line": 167,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "class_prim",
        "line": 167,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "grantee",
        "line": 167,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "applicant",
        "line": 167,
        "column": 92
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 167,
        "column": 102
      },
      {
        "id": "identifier",
        "value": "firstpatyear",
        "line": 167,
        "column": 115
      },
      {
        "id": "identifier",
        "value": "app2001orlater",
        "line": 167,
        "column": 128
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 167,
        "column": 144
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 167,
        "column": 149
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 167,
        "column": 155
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 167,
        "column": 163
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 168,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 168,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 168,
        "column": 12
      }
    ]
  },
  {
    "id": "comment",
    "value": "*TJB: Fill in missing values of newly-merged fields, allowing us to create an inclusive \"inventor\" indicator.",
    "line": 169,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 171,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "grantee",
        "line": 171,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 171,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "grantee",
        "line": 171,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 171,
        "column": 29
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 171,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 172,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "applicant",
        "line": 172,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 172,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "applicant",
        "line": 172,
        "column": 24
      },
      {
        "id": "==",
        "value": "==",
        "line": 172,
        "column": 33
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 172,
        "column": 35
      }
    ]
  },
  {
    "id": "comment",
    "value": "//gen inventor=applicant|grantee",
    "line": 173,
    "column": 1
  },
  {
    "id": "comment",
    "value": "// june 19 recoding inventor as having a patent or application applied for between 2001 and 2005",
    "line": 174,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 175,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ageatapp",
        "line": 175,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 175,
        "column": 14
      },
      {
        "id": "-",
        "value": "-",
        "line": 175,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 175,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 176,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ageatpat",
        "line": 176,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "firstpatyear",
        "line": 176,
        "column": 14
      },
      {
        "id": "-",
        "value": "-",
        "line": 176,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 176,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 177,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 177,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "app2001orlater",
        "line": 177,
        "column": 16
      },
      {
        "id": "==",
        "value": "==",
        "line": 177,
        "column": 30
      },
      {
        "id": "number",
        "value": "1",
        "line": 177,
        "column": 32
      },
      {
        "id": "&",
        "value": "&",
        "line": 177,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "ageatapp",
        "line": 177,
        "column": 36
      },
      {
        "id": ">",
        "value": ">",
        "line": 177,
        "column": 44
      },
      {
        "id": "number",
        "value": "23",
        "line": 177,
        "column": 46
      },
      {
        "id": "&",
        "value": "&",
        "line": 177,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "ageatapp",
        "line": 177,
        "column": 52
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 177,
        "column": 60
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 177,
        "column": 62
      }
    ]
  },
  {
    "id": "comment",
    "value": "// therefore, we also need to drop 1990 cohort b/c turn 23 in 2012 so can never patent",
    "line": 178,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 179,
      "column": 1
    },
    "=": [
      {
        "id": "number",
        "value": "1989",
        "line": 179,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 179,
        "column": 9
      },
      {
        "id": "<",
        "value": "<",
        "line": 179,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 181,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 181,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 181,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 181,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "applicant",
        "line": 181,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "grantee",
        "line": 181,
        "column": 34
      },
      {
        "id": "{",
        "value": "{",
        "line": 181,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 182,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 182,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 182,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 182,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 182,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 184,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 184,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 184,
        "column": 18
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 184,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 184,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 185,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "scat_prim",
        "line": 185,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 185,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 185,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 185,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 186,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "class_prim",
        "line": 186,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"\"",
        "line": 186,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 186,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 186,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 187,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 187,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 187,
        "column": 24
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 187,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 187,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 188,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ageatapp",
        "line": 188,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 188,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 188,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 188,
        "column": 26
      }
    ]
  },
  {
    "id": "comment",
    "value": "*TJB: Check the number of inventors without a primary class is small. We've greatly reduced this (to 4). ",
    "line": 191,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "count",
      "line": 192,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 192,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "class_prim",
        "line": 192,
        "column": 18
      },
      {
        "id": "&",
        "value": "&",
        "line": 192,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 192,
        "column": 32
      },
      {
        "id": "==",
        "value": "==",
        "line": 192,
        "column": 40
      },
      {
        "id": "number",
        "value": "1",
        "line": 192,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "assert",
      "line": 193,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "r",
        "line": 193,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "N",
        "line": 193,
        "column": 10
      },
      {
        "id": "<",
        "value": "<",
        "line": 193,
        "column": 12
      },
      {
        "id": "number",
        "value": "100",
        "line": 193,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 195,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 195,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 195,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 195,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 195,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "scat_prim",
        "line": 195,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "class_prim",
        "line": 195,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 195,
        "column": 54
      },
      {
        "id": "{",
        "value": "{",
        "line": 195,
        "column": 67
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 196,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 196,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 196,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "_kid",
        "line": 196,
        "column": 19
      }
    ]
  },
  {
    "id": "comment",
    "value": "*TJB: Merge child patent data to Movers commuting zone base data on the dad's TIN, indicating which dads are inventors.",
    "line": 200,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 202,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_dad_tin",
        "line": 202,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 202,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 203,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 203,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 203,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 203,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 203,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 203,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 203,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 203,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 203,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 203,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 203,
        "column": 28
      },
      {
        "id": "}",
        "value": "}",
        "line": 203,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 203,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 203,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 203,
        "column": 36
      },
      {
        "id": "}",
        "value": "}",
        "line": 203,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "_inv",
        "line": 203,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 203,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 203,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "scat_prim",
        "line": 203,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "class_prim",
        "line": 203,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 203,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 203,
        "column": 98
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 203,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 203,
        "column": 109
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 204,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 204,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "par_dad_tin",
        "line": 204,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 205,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "byte",
        "line": 205,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 205,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 205,
        "column": 19
      },
      {
        "id": "==",
        "value": "==",
        "line": 205,
        "column": 21
      },
      {
        "id": "number",
        "value": "3",
        "line": 205,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 206,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 206,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 207,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 207,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 207,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 207,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 207,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "scat_prim",
        "line": 207,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "class_prim",
        "line": 207,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 207,
        "column": 54
      },
      {
        "id": "{",
        "value": "{",
        "line": 207,
        "column": 67
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 208,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 208,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 208,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "_dad",
        "line": 208,
        "column": 19
      }
    ]
  },
  {
    "id": "comment",
    "value": "*TJB: Merge child patent data to Movers commuting zone base data on the mom's TIN, indicating which moms are inventors.",
    "line": 211,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 213,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_mom_tin",
        "line": 213,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 213,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 214,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 214,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 214,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 214,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 214,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 214,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 214,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 214,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 214,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 214,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 214,
        "column": 28
      },
      {
        "id": "}",
        "value": "}",
        "line": 214,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 214,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 214,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 214,
        "column": 36
      },
      {
        "id": "}",
        "value": "}",
        "line": 214,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "_inv",
        "line": 214,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 214,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 214,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "scat_prim",
        "line": 214,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "class_prim",
        "line": 214,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 214,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 214,
        "column": 98
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 214,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 214,
        "column": 109
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 215,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 215,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "par_mom_tin",
        "line": 215,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 216,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "byte",
        "line": 216,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 216,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 216,
        "column": 19
      },
      {
        "id": "==",
        "value": "==",
        "line": 216,
        "column": 21
      },
      {
        "id": "number",
        "value": "3",
        "line": 216,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 217,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 217,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 218,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 218,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 218,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 218,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 218,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "scat_prim",
        "line": 218,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "class_prim",
        "line": 218,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 218,
        "column": 54
      },
      {
        "id": "{",
        "value": "{",
        "line": 218,
        "column": 67
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "rename",
      "line": 219,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 219,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 219,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "_mom",
        "line": 219,
        "column": 19
      }
    ]
  },
  {
    "id": "comment",
    "value": "*TJB: Merge in NAICS codes and payer TINs for parents of each child.",
    "line": 221,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 222,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 222,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 222,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 222,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 222,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 222,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 222,
        "column": 25
      },
      {
        "id": "{",
        "value": "{",
        "line": 222,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 222,
        "column": 27
      },
      {
        "id": "}",
        "value": "}",
        "line": 222,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 222,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "naics",
        "line": 222,
        "column": 36
      },
      {
        "id": "/",
        "value": "/",
        "line": 222,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "pat_dm2_v2_100",
        "line": 222,
        "column": 42
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 222,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "par_dad_payer_tin",
        "line": 222,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "par_dad_naics",
        "line": 222,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "par_mom_payer_tin",
        "line": 222,
        "column": 100
      },
      {
        "id": "identifier",
        "value": "par_mom_naics",
        "line": 222,
        "column": 118
      }
    ]
  },
  {
    "id": "comment",
    "value": "*note it's not a perfect merge b/c this data is from fulldata ",
    "line": 223,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 225,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 225,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 226,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 226,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 226,
        "column": 11
      },
      {
        "id": "number",
        "value": "2",
        "line": 226,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 227,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 227,
        "column": 6
      }
    ]
  },
  {
    "id": "comment",
    "value": "* generate parent state variable",
    "line": 229,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 230,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_st",
        "line": 230,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_mom_state_1999",
        "line": 230,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 231,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_st",
        "line": 231,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_dad_state_1999",
        "line": 231,
        "column": 18
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 231,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "par_st",
        "line": 231,
        "column": 48
      }
    ]
  },
  {
    "id": "comment",
    "value": "// only defined for 80-82",
    "line": 233,
    "column": 68
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 233,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "byte",
        "line": 233,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "inventor30",
        "line": 233,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 233,
        "column": 23
      },
      {
        "id": "*",
        "value": "*",
        "line": 233,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "ageatapp",
        "line": 233,
        "column": 35
      },
      {
        "id": "<",
        "value": "<",
        "line": 233,
        "column": 43
      },
      {
        "id": "=",
        "value": "=",
        "line": 233,
        "column": 44
      },
      {
        "id": "number",
        "value": "30",
        "line": 233,
        "column": 45
      },
      {
        "id": "number",
        "value": "2012",
        "line": 233,
        "column": 63
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 233,
        "column": 52
      },
      {
        "id": "+",
        "value": "+",
        "line": 233,
        "column": 58
      },
      {
        "id": "number",
        "value": "30",
        "line": 233,
        "column": 59
      },
      {
        "id": "<",
        "value": "<",
        "line": 233,
        "column": 61
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 235,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 235,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 235,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 235,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 235,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 235,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 235,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 235,
        "column": 25
      }
    ]
  },
  {
    "id": "comment",
    "value": "**",
    "line": 237,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* now find if they were ever on same patent or application",
    "line": 238,
    "column": 1
  },
  {
    "id": "comment",
    "value": "**",
    "line": 239,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 240,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 240,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 240,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 240,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 240,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 240,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 240,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 240,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 241,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 241,
        "column": 9
      },
      {
        "id": "|",
        "value": "|",
        "line": 241,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 241,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 242,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 242,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 243,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 243,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "par_mom_tin",
        "line": 243,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "par_dad_tin",
        "line": 243,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 244,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 244,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 244,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 245,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 245,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 245,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 245,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 245,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 245,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 245,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 245,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_110.dta",
        "line": 245,
        "column": 25
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 245,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 245,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 245,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 245,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "patno",
        "line": 245,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "series",
        "line": 245,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "serial_number",
        "line": 245,
        "column": 87
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 245,
        "column": 102
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 246,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 246,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 246,
        "column": 9
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Find the coauthors of the kid's patents by joining, keeping kid patents without any coauthors, as well.",
    "line": 248,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "preserve",
      "line": 250,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 251,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 251,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "patno",
        "line": 251,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "joinby",
      "line": 252,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patno",
        "line": 252,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 252,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 252,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 252,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_110.dta",
        "line": 252,
        "column": 24
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "unmatched",
        "line": 252,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 252,
        "column": 54
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 253,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "copatent",
        "line": 253,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_mom_tin",
        "line": 253,
        "column": 16
      },
      {
        "id": "==",
        "value": "==",
        "line": 253,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 253,
        "column": 31
      },
      {
        "id": "|",
        "value": "|",
        "line": 253,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "par_dad_tin",
        "line": 253,
        "column": 37
      },
      {
        "id": "==",
        "value": "==",
        "line": 253,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 253,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tempfile",
      "line": 254,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patents",
        "line": 254,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 255,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`patents'",
        "line": 255,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "restore",
      "line": 256,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "*Find the coauthors of the kid's applications by joining, keeping kid patents without any coauthors, as well.",
    "line": 258,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 259,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 259,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "serial_number",
        "line": 259,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "joinby",
      "line": 260,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "serial_number",
        "line": 260,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 260,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 260,
        "column": 28
      },
      {
        "id": "/",
        "value": "/",
        "line": 260,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_110.dta",
        "line": 260,
        "column": 32
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "unmatched",
        "line": 260,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 260,
        "column": 62
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 261,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "coapp",
        "line": 261,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_mom_tin",
        "line": 261,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 261,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 261,
        "column": 25
      },
      {
        "id": "|",
        "value": "|",
        "line": 261,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "par_dad_tin",
        "line": 261,
        "column": 30
      },
      {
        "id": "==",
        "value": "==",
        "line": 261,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 261,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "append",
      "line": 262,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 262,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`patents'",
        "line": 262,
        "column": 14
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Set copatent (coapp) indicators to zero for those who do not patent (apply), then collapse to individual level.",
    "line": 264,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 265,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "copatent",
        "line": 265,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 265,
        "column": 18
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 265,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "copatent",
        "line": 265,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 266,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "coapp",
        "line": 266,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 266,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 266,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "coapp",
        "line": 266,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 267,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "max",
        "line": 267,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "coapp",
        "line": 267,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "copat",
        "line": 267,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 267,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 267,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 267,
        "column": 41
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 268,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "coapp",
        "line": 268,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "copatent",
        "line": 268,
        "column": 11
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "m",
        "line": 268,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 269,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 269,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "coapp",
        "line": 269,
        "column": 15
      },
      {
        "id": "==",
        "value": "==",
        "line": 269,
        "column": 20
      },
      {
        "id": "number",
        "value": "1",
        "line": 269,
        "column": 22
      },
      {
        "id": "|",
        "value": "|",
        "line": 269,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "copatent",
        "line": 269,
        "column": 24
      },
      {
        "id": "==",
        "value": "==",
        "line": 269,
        "column": 32
      },
      {
        "id": "number",
        "value": "1",
        "line": 269,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 271,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 271,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 271,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tempfile",
      "line": 272,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_10_coinvwpar",
        "line": 272,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 273,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`kid_10_coinvwpar'",
        "line": 273,
        "column": 6
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Merge on the copatent/coapp indicators to main data.",
    "line": 276,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 277,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 277,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 277,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 277,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 277,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 277,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 277,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 277,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 278,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 278,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 278,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 278,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 278,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 278,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`kid_10_coinvwpar'",
        "line": 278,
        "column": 25
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 278,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 278,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 278,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 278,
        "column": 64
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 279,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 279,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 279,
        "column": 18
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 279,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 279,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 280,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 280,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 280,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 280,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 280,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 280,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 280,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 280,
        "column": 25
      }
    ]
  },
  {
    "id": "comment",
    "value": "* AB patch july 6: merge on college at age 20 [in case 18-23 is picking up grad school]",
    "line": 283,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 284,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 284,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 284,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 284,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 284,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 284,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 284,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 284,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 285,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 285,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 285,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 285,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 285,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 285,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 285,
        "column": 25
      },
      {
        "id": "{",
        "value": "{",
        "line": 285,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 285,
        "column": 27
      },
      {
        "id": "}",
        "value": "}",
        "line": 285,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 285,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "draft_june",
        "line": 285,
        "column": 36
      },
      {
        "id": "/",
        "value": "/",
        "line": 285,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "patmv_v4_10_collprint.dta",
        "line": 285,
        "column": 47
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 285,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 285,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 285,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 285,
        "column": 91
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 285,
        "column": 99
      },
      {
        "id": "identifier",
        "value": "coll_tin_20",
        "line": 285,
        "column": 109
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 286,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 286,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 286,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 286,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 286,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 286,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 286,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 286,
        "column": 25
      }
    ]
  },
  {
    "id": "comment",
    "value": "* merge on citations",
    "line": 288,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 290,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "raw",
        "line": 290,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 290,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_110.dta",
        "line": 290,
        "column": 9
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 290,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 291,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 291,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 291,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 291,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "patno",
        "line": 291,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 291,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 291,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 291,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 291,
        "column": 25
      },
      {
        "id": "}",
        "value": "}",
        "line": 291,
        "column": 32
      },
      {
        "id": "/",
        "value": "/",
        "line": 291,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "idb",
        "line": 291,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 291,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 291,
        "column": 38
      },
      {
        "id": "/",
        "value": "/",
        "line": 291,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 291,
        "column": 42
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 291,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 291,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 291,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 291,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 291,
        "column": 77
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 292,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit",
        "line": 292,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 292,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 292,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 292,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "patno",
      "line": 293,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 293,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 293,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 293,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 293,
        "column": 16
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit",
        "line": 293,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 293,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "_N",
        "line": 293,
        "column": 32
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 294,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 294,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 294,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 294,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 294,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 294,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 294,
        "column": 40
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 295,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 295,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 295,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 296,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 296,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 296,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "cites_by_tin",
        "line": 296,
        "column": 11
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 296,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 297,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 297,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 297,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 297,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 297,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 297,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 297,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 297,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 298,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 298,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 298,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 298,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 298,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 298,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 298,
        "column": 25
      },
      {
        "id": "/",
        "value": "/",
        "line": 298,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "cites_by_tin",
        "line": 298,
        "column": 30
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 298,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 298,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 298,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 298,
        "column": 61
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 299,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 299,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 299,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 299,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 299,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 299,
        "column": 29
      },
      {
        "id": "{",
        "value": "{",
        "line": 299,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 300,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 300,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 300,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 300,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 300,
        "column": 30
      },
      {
        "id": "|",
        "value": "|",
        "line": 300,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 300,
        "column": 39
      },
      {
        "id": "==",
        "value": "==",
        "line": 300,
        "column": 47
      },
      {
        "id": "number",
        "value": "0",
        "line": 300,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 305,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 305,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 305,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 305,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 305,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 305,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 305,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 305,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 307,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 307,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Number of collaborators in dataset -- Adding separate file July 6 2018",
    "line": 309,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 310,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "raw",
        "line": 310,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 310,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_110.dta",
        "line": 310,
        "column": 9
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 310,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 311,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patnos",
        "line": 311,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "series",
        "line": 311,
        "column": 14
      },
      {
        "id": "+",
        "value": "+",
        "line": 311,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 311,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "patno",
        "line": 311,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sort",
      "line": 312,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patnos",
        "line": 312,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "serial_number",
        "line": 312,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 313,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "double",
        "line": 313,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "flag",
        "line": 313,
        "column": 12
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "patnos",
        "line": 313,
        "column": 20
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 313,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "patnos",
        "line": 313,
        "column": 28
      },
      {
        "id": "[",
        "value": "[",
        "line": 313,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "_n",
        "line": 313,
        "column": 35
      },
      {
        "id": "-",
        "value": "-",
        "line": 313,
        "column": 37
      },
      {
        "id": "number",
        "value": "1",
        "line": 313,
        "column": 38
      },
      {
        "id": "]",
        "value": "]",
        "line": 313,
        "column": 39
      },
      {
        "id": "|",
        "value": "|",
        "line": 313,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "serial_number",
        "line": 313,
        "column": 45
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 313,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "serial_number",
        "line": 313,
        "column": 60
      },
      {
        "id": "[",
        "value": "[",
        "line": 313,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "_n",
        "line": 313,
        "column": 74
      },
      {
        "id": "-",
        "value": "-",
        "line": 313,
        "column": 76
      },
      {
        "id": "number",
        "value": "1",
        "line": 313,
        "column": 77
      },
      {
        "id": "]",
        "value": "]",
        "line": 313,
        "column": 78
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 314,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "doc_id",
        "line": 314,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 314,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "flag",
        "line": 314,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 315,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "doc_id",
        "line": 315,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 315,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "format",
      "line": 316,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "doc_id",
        "line": 316,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 316,
        "column": 15
      },
      {
        "id": "%",
        "value": "%",
        "line": 316,
        "column": 19
      },
      {
        "id": "number",
        "value": "18.0g",
        "line": 316,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "outsheet",
      "line": 317,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 317,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 317,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 317,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "collaborators_input.csv",
        "line": 317,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "comma",
        "line": 317,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 317,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "nonames",
        "line": 317,
        "column": 60
      }
    ]
  },
  {
    "id": "comment",
    "value": "// python script takes about 30 hours to run..",
    "line": 319,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "shell",
      "line": 320,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "python",
        "line": 320,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "collaborators.py",
        "line": 320,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "insheet",
      "line": 321,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 321,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 321,
        "column": 15
      },
      {
        "id": "/",
        "value": "/",
        "line": 321,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "collaborators_output.csv",
        "line": 321,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "comma",
        "line": 321,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "clear",
        "line": 321,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 322,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 322,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 322,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "codebook",
      "line": 323,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 323,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 324,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 324,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 324,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 324,
        "column": 11
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 324,
        "column": 26
      }
    ]
  },
  {
    "id": "comment",
    "value": "***********",
    "line": 328,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Dataset 2: Build core NYC dataset",
    "line": 329,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********",
    "line": 330,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 332,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 332,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 332,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 333,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 333,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "logs",
        "line": 333,
        "column": 11
      },
      {
        "id": "/",
        "value": "/",
        "line": 333,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 333,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 333,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 333,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 333,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 333,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 333,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 333,
        "column": 26
      },
      {
        "id": "}",
        "value": "}",
        "line": 333,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "_dataset2building.txt",
        "line": 333,
        "column": 28
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "text",
        "line": 333,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 333,
        "column": 56
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 335,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "$",
        "line": 335,
        "column": 5
      },
      {
        "id": "{",
        "value": "{",
        "line": 335,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 335,
        "column": 7
      },
      {
        "id": "}",
        "value": "}",
        "line": 335,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 335,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "draft_june",
        "line": 335,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 335,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "pat_misalloc_v1_50",
        "line": 335,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 335,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 336,
      "column": 1
    },
    "=": [
      {
        "id": "number",
        "value": "1985",
        "line": 336,
        "column": 17
      },
      {
        "id": "&",
        "value": "&",
        "line": 336,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 336,
        "column": 24
      },
      {
        "id": ">",
        "value": ">",
        "line": 336,
        "column": 30
      },
      {
        "id": "number",
        "value": "1979",
        "line": 336,
        "column": 32
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 336,
        "column": 9
      },
      {
        "id": "<",
        "value": "<",
        "line": 336,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 338,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 338,
        "column": 9
      }
    ],
    "in": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 338,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "par_vin",
        "line": 338,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "above_median",
        "line": 338,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 338,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 338,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 338,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "cittop10",
        "line": 338,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "cittop5",
        "line": 338,
        "column": 78
      },
      {
        "id": "{",
        "value": "{",
        "line": 338,
        "column": 86
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 339,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 339,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 339,
        "column": 10
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Sept 20, 2016 merging citations in to NYC file because many people were missing",
    "line": 342,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 343,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tinx",
        "line": 343,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 343,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 344,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 344,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 344,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 344,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 344,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 344,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 344,
        "column": 25
      },
      {
        "id": "/",
        "value": "/",
        "line": 344,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "cites_by_tin",
        "line": 344,
        "column": 30
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 344,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 344,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 344,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 344,
        "column": 61
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 346,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 346,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 346,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 347,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 347,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 347,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 347,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 347,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 347,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 347,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 347,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 347,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 347,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 347,
        "column": 28
      },
      {
        "id": "}",
        "value": "}",
        "line": 347,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 347,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 347,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 347,
        "column": 36
      },
      {
        "id": "}",
        "value": "}",
        "line": 347,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "_inv.dta",
        "line": 347,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 347,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 347,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "grantee",
        "line": 347,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "applicant",
        "line": 347,
        "column": 75
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 347,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "app2001orlater",
        "line": 347,
        "column": 98
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 347,
        "column": 114
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 347,
        "column": 119
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 347,
        "column": 125
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 347,
        "column": 133
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 348,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "grantee",
        "line": 348,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 348,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "grantee",
        "line": 348,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 348,
        "column": 29
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 348,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 349,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "applicant",
        "line": 349,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 349,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "applicant",
        "line": 349,
        "column": 24
      },
      {
        "id": "==",
        "value": "==",
        "line": 349,
        "column": 33
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 349,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 350,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ageatfirstapp",
        "line": 350,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 350,
        "column": 21
      },
      {
        "id": "-",
        "value": "-",
        "line": 350,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 350,
        "column": 36
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 352,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 352,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "app2001orlater",
        "line": 352,
        "column": 16
      },
      {
        "id": "&",
        "value": "&",
        "line": 352,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "ageatfirstapp",
        "line": 352,
        "column": 33
      },
      {
        "id": ">",
        "value": ">",
        "line": 352,
        "column": 46
      },
      {
        "id": "number",
        "value": "23",
        "line": 352,
        "column": 48
      },
      {
        "id": "&",
        "value": "&",
        "line": 352,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "grantee",
        "line": 352,
        "column": 55
      },
      {
        "id": "|",
        "value": "|",
        "line": 352,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "applicant",
        "line": 352,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 354,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 354,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 354,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 354,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "firstappyear",
        "line": 354,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 354,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "ageatfirstapp",
        "line": 354,
        "column": 46
      },
      {
        "id": "{",
        "value": "{",
        "line": 354,
        "column": 60
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 355,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 355,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 355,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 355,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 355,
        "column": 21
      }
    ]
  },
  {
    "id": "comment",
    "value": "* merge on IGE-style family income",
    "line": 357,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 358,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 358,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 358,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 359,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 359,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 359,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 359,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 359,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 359,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 359,
        "column": 25
      },
      {
        "id": "{",
        "value": "{",
        "line": 359,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 359,
        "column": 27
      },
      {
        "id": "}",
        "value": "}",
        "line": 359,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 359,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "nyc",
        "line": 359,
        "column": 36
      },
      {
        "id": "/",
        "value": "/",
        "line": 359,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "pat_misalloc_v1_150.dta",
        "line": 359,
        "column": 40
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 359,
        "column": 65
      },
      {
        "id": "identifier",
        "value": "par_fam_inc",
        "line": 359,
        "column": 75
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 359,
        "column": 88
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 359,
        "column": 93
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 359,
        "column": 99
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 359,
        "column": 107
      }
    ]
  },
  {
    "id": "comment",
    "value": "// drop nyc income variables and replace with ige income vars",
    "line": 360,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 361,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 361,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 361,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 361,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 361,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 361,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "par_fam_inc",
        "line": 361,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 362,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 362,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 362,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 362,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "max",
        "line": 362,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 362,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 362,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 363,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 363,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 363,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 363,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "max",
        "line": 363,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 364,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "max",
        "line": 364,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 366,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 366,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 366,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 367,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "define",
        "line": 367,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 367,
        "column": 14
      },
      {
        "id": "number",
        "value": "1",
        "line": 367,
        "column": 20
      },
      {
        "id": "string",
        "value": "\"Native American\"",
        "line": 367,
        "column": 22
      },
      {
        "id": "number",
        "value": "2",
        "line": 367,
        "column": 40
      },
      {
        "id": "string",
        "value": "\"Asian\"",
        "line": 367,
        "column": 42
      },
      {
        "id": "number",
        "value": "3",
        "line": 367,
        "column": 50
      },
      {
        "id": "string",
        "value": "\"Hispanic\"",
        "line": 367,
        "column": 52
      },
      {
        "id": "number",
        "value": "4",
        "line": 367,
        "column": 63
      },
      {
        "id": "string",
        "value": "\"Black\"",
        "line": 367,
        "column": 65
      },
      {
        "id": "number",
        "value": "5",
        "line": 367,
        "column": 73
      },
      {
        "id": "string",
        "value": "\"White\"",
        "line": 367,
        "column": 75
      }
    ]
  },
  {
    "id": "comment",
    "value": "* missing is unreported",
    "line": 368,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "forval",
      "line": 369,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "i",
        "line": 369,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 369,
        "column": 10
      },
      {
        "id": "/",
        "value": "/",
        "line": 369,
        "column": 11
      },
      {
        "id": "number",
        "value": "4",
        "line": 369,
        "column": 12
      },
      {
        "id": "{",
        "value": "{",
        "line": 369,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 370,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 370,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 370,
        "column": 14
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "ETHNethnici_",
        "line": 370,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 370,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "_orig",
        "line": 370,
        "column": 36
      },
      {
        "id": "==",
        "value": "==",
        "line": 370,
        "column": 41
      },
      {
        "id": "number",
        "value": "1",
        "line": 370,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 372,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 372,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "5",
        "line": 372,
        "column": 14
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "ETHNethnici_1_orig",
        "line": 372,
        "column": 19
      },
      {
        "id": "==",
        "value": "==",
        "line": 372,
        "column": 37
      },
      {
        "id": "number",
        "value": "0",
        "line": 372,
        "column": 39
      },
      {
        "id": "&",
        "value": "&",
        "line": 372,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "ETHNethnici_2_orig",
        "line": 372,
        "column": 41
      },
      {
        "id": "==",
        "value": "==",
        "line": 372,
        "column": 59
      },
      {
        "id": "number",
        "value": "0",
        "line": 372,
        "column": 61
      },
      {
        "id": "&",
        "value": "&",
        "line": 372,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "ETHNethnici_3_orig",
        "line": 372,
        "column": 63
      },
      {
        "id": "==",
        "value": "==",
        "line": 372,
        "column": 81
      },
      {
        "id": "number",
        "value": "0",
        "line": 372,
        "column": 83
      },
      {
        "id": "&",
        "value": "&",
        "line": 372,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "ETHNethnici_4_orig",
        "line": 372,
        "column": 85
      },
      {
        "id": "==",
        "value": "==",
        "line": 372,
        "column": 103
      },
      {
        "id": "number",
        "value": "0",
        "line": 372,
        "column": 105
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "label",
      "line": 373,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "values",
        "line": 373,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "ethn",
        "line": 373,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 373,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 375,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 375,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 375,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 375,
        "column": 26
      },
      {
        "id": "+",
        "value": "+",
        "line": 375,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "ageatfirstapp",
        "line": 375,
        "column": 34
      },
      {
        "id": ">",
        "value": ">",
        "line": 375,
        "column": 48
      },
      {
        "id": "number",
        "value": "2012",
        "line": 375,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 378,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 378,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 378,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 378,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 378,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 378,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 378,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 378,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 380,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 380,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "***********",
    "line": 382,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Dataset 3: Event Study",
    "line": 383,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********",
    "line": 384,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* start with patent-inventor dataset and generate flags for who is applying in what year",
    "line": 385,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 386,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "raw",
        "line": 386,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 386,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_110.dta",
        "line": 386,
        "column": 9
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 386,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 387,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 387,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 387,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 387,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "patno",
        "line": 387,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 387,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 387,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 387,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "idb",
        "line": 387,
        "column": 26
      },
      {
        "id": "/",
        "value": "/",
        "line": 387,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 387,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 387,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 387,
        "column": 34
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 387,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 387,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 387,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 387,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 387,
        "column": 69
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 388,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit",
        "line": 388,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 388,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 388,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 388,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "patno",
      "line": 389,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 389,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 389,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 389,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 389,
        "column": 16
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit",
        "line": 389,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 389,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "_N",
        "line": 389,
        "column": 32
      }
    ]
  },
  {
    "id": "comment",
    "value": "* it's going to be useful to have the sum of just a patent variable to prevent double-counting of applications",
    "line": 390,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 391,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patents",
        "line": 391,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "~",
        "value": "~",
        "line": 391,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 391,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "pat_inv_id",
        "line": 391,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 392,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "granted",
        "line": 392,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 392,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 392,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 392,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "pat_inv_id",
        "line": 392,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 393,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 393,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 393,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 394,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 394,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 394,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 394,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "granted",
        "line": 394,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 394,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 394,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 394,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 394,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 394,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 394,
        "column": 78
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 394,
        "column": 87
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 394,
        "column": 90
      },
      {
        "id": "identifier",
        "value": "appyear",
        "line": 394,
        "column": 94
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 394,
        "column": 103
      }
    ]
  },
  {
    "id": "comment",
    "value": "* merge on income for each year",
    "line": 395,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 396,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "appyear",
        "line": 396,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 396,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 397,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 397,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 397,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 397,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 397,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 397,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 397,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 397,
        "column": 28
      },
      {
        "id": "/",
        "value": "/",
        "line": 397,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_db_processed",
        "line": 397,
        "column": 32
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 397,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 397,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 397,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 397,
        "column": 75
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 398,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 398,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 398,
        "column": 27
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 398,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 398,
        "column": 40
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 399,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "granted",
        "line": 399,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "applied_in_year_granted",
        "line": 399,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 400,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "applied_in_year_granted",
        "line": 400,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 400,
        "column": 35
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 400,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "applied_in_year_granted",
        "line": 400,
        "column": 48
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "compress",
      "line": 402,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 403,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 403,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 403,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 403,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 403,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 403,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 403,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 403,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_db_indv",
        "line": 403,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 403,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 404,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ssa_yob",
        "line": 404,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "yob",
        "line": 404,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 406,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 406,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 406,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "event_10_$",
        "line": 406,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 406,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 406,
        "column": 22
      },
      {
        "id": "}",
        "value": "}",
        "line": 406,
        "column": 23
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 406,
        "column": 26
      }
    ]
  },
  {
    "id": "comment",
    "value": "* several preparations Raj put in for his event dataset",
    "line": 408,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 410,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 410,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 410,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "event_10_$",
        "line": 410,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 410,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 410,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 410,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 410,
        "column": 25
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Set W-2 inc to missing prior to 1999",
    "line": 411,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 412,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc",
        "line": 412,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 412,
        "column": 18
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 412,
        "column": 23
      },
      {
        "id": "<",
        "value": "<",
        "line": 412,
        "column": 29
      },
      {
        "id": "number",
        "value": "1999",
        "line": 412,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 413,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_spouse",
        "line": 413,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 413,
        "column": 25
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 413,
        "column": 30
      },
      {
        "id": "<",
        "value": "<",
        "line": 413,
        "column": 36
      },
      {
        "id": "number",
        "value": "1999",
        "line": 413,
        "column": 37
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Note that f1040_inc is zero for non-filers prior to 1999",
    "line": 415,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Generate total income excluding spouse earnings",
    "line": 417,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 418,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040",
        "line": 418,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 418,
        "column": 22
      },
      {
        "id": "-",
        "value": "-",
        "line": 418,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "w2_inc_spouse",
        "line": 418,
        "column": 32
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 419,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "nw_inc",
        "line": 419,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "non_spouse",
        "line": 419,
        "column": 12
      },
      {
        "id": "-",
        "value": "-",
        "line": 419,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "w2_inc",
        "line": 419,
        "column": 23
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Redefine applied and patented vars to be binary",
    "line": 421,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 422,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 422,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 422,
        "column": 27
      },
      {
        "id": "number",
        "value": "1",
        "line": 422,
        "column": 58
      },
      {
        "id": "&",
        "value": "&",
        "line": 422,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "applied_in_year_granted",
        "line": 422,
        "column": 60
      },
      {
        "id": "<",
        "value": "<",
        "line": 422,
        "column": 83
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 422,
        "column": 84
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "applied_in_year_granted",
        "line": 422,
        "column": 32
      },
      {
        "id": ">",
        "value": ">",
        "line": 422,
        "column": 56
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 423,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "applied_in_year_granted",
        "line": 423,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 423,
        "column": 35
      },
      {
        "id": "number",
        "value": "1",
        "line": 423,
        "column": 65
      },
      {
        "id": "&",
        "value": "&",
        "line": 423,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "applied_in_year_granted",
        "line": 423,
        "column": 67
      },
      {
        "id": "<",
        "value": "<",
        "line": 423,
        "column": 90
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 423,
        "column": 91
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "applied_in_year_granted",
        "line": 423,
        "column": 40
      },
      {
        "id": ">",
        "value": ">",
        "line": 423,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 425,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "age",
        "line": 425,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 425,
        "column": 9
      },
      {
        "id": "-",
        "value": "-",
        "line": 425,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "yob",
        "line": 425,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 426,
      "column": 1
    },
    "=": [
      {
        "id": "number",
        "value": "1984",
        "line": 426,
        "column": 14
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "yob",
        "line": 426,
        "column": 9
      },
      {
        "id": "<",
        "value": "<",
        "line": 426,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 427,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "age",
        "line": 427,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 427,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "age",
        "line": 427,
        "column": 20
      },
      {
        "id": ">",
        "value": ">",
        "line": 427,
        "column": 23
      },
      {
        "id": "number",
        "value": "100",
        "line": 427,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 428,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 428,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 428,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 428,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 428,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 428,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "non_spouse",
        "line": 428,
        "column": 37
      },
      {
        "id": "number",
        "value": "40",
        "line": 428,
        "column": 57
      },
      {
        "id": "&",
        "value": "&",
        "line": 428,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "age",
        "line": 428,
        "column": 60
      },
      {
        "id": "<",
        "value": "<",
        "line": 428,
        "column": 63
      },
      {
        "id": "number",
        "value": "50",
        "line": 428,
        "column": 65
      },
      {
        "id": "&",
        "value": "&",
        "line": 428,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "yob",
        "line": 428,
        "column": 68
      },
      {
        "id": ">",
        "value": ">",
        "line": 428,
        "column": 71
      },
      {
        "id": "number",
        "value": "1959",
        "line": 428,
        "column": 73
      },
      {
        "id": "&",
        "value": "&",
        "line": 428,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "yob",
        "line": 428,
        "column": 78
      },
      {
        "id": "<",
        "value": "<",
        "line": 428,
        "column": 81
      },
      {
        "id": "number",
        "value": "1962",
        "line": 428,
        "column": 83
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "age",
        "line": 428,
        "column": 52
      },
      {
        "id": ">",
        "value": ">",
        "line": 428,
        "column": 55
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 429,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean_non_spouse_trim",
        "line": 429,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 429,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "min",
        "line": 429,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 429,
        "column": 34
      },
      {
        "id": ",",
        "value": ",",
        "line": 429,
        "column": 49
      },
      {
        "id": "number",
        "value": "1e7",
        "line": 429,
        "column": 50
      },
      {
        "id": ",",
        "value": ",",
        "line": 429,
        "column": 54
      },
      {
        "id": "number",
        "value": "0",
        "line": 429,
        "column": 55
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 429,
        "column": 61
      },
      {
        "id": "~=",
        "value": "~=",
        "line": 429,
        "column": 76
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 429,
        "column": 78
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "xtile",
      "line": 430,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "q_mean_non_spouse",
        "line": 430,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 430,
        "column": 27
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 430,
        "column": 46
      },
      {
        "id": "==",
        "value": "==",
        "line": 430,
        "column": 52
      },
      {
        "id": "number",
        "value": "2005",
        "line": 430,
        "column": 54
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nq",
        "line": 430,
        "column": 60
      },
      {
        "id": "number",
        "value": "100",
        "line": 430,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "xtile",
      "line": 431,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "q_mean_non_spouse_top",
        "line": 431,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 431,
        "column": 31
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 431,
        "column": 50
      },
      {
        "id": "==",
        "value": "==",
        "line": 431,
        "column": 56
      },
      {
        "id": "number",
        "value": "2005",
        "line": 431,
        "column": 58
      },
      {
        "id": "&",
        "value": "&",
        "line": 431,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "q_mean_non_spouse",
        "line": 431,
        "column": 65
      },
      {
        "id": "==",
        "value": "==",
        "line": 431,
        "column": 82
      },
      {
        "id": "number",
        "value": "100",
        "line": 431,
        "column": 84
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nq",
        "line": 431,
        "column": 89
      },
      {
        "id": "number",
        "value": "100",
        "line": 431,
        "column": 92
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 433,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 433,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 433,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 433,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "w2_inc",
        "line": 433,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "nw_inc",
        "line": 433,
        "column": 31
      },
      {
        "id": "{",
        "value": "{",
        "line": 433,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "xtile",
      "line": 434,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "q_",
        "line": 434,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 434,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 434,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 434,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 434,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "q_mean_non_spouse",
        "line": 434,
        "column": 35
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nq",
        "line": 434,
        "column": 55
      },
      {
        "id": "number",
        "value": "100",
        "line": 434,
        "column": 58
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "xtile",
      "line": 435,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "q_",
        "line": 435,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 435,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "_top",
        "line": 435,
        "column": 14
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 435,
        "column": 21
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 435,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 435,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "q_mean_non_spouse",
        "line": 435,
        "column": 39
      },
      {
        "id": "&",
        "value": "&",
        "line": 435,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "q_",
        "line": 435,
        "column": 60
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 435,
        "column": 62
      },
      {
        "id": "==",
        "value": "==",
        "line": 435,
        "column": 67
      },
      {
        "id": "number",
        "value": "100",
        "line": 435,
        "column": 69
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nq",
        "line": 435,
        "column": 74
      },
      {
        "id": "number",
        "value": "100",
        "line": 435,
        "column": 77
      }
    ]
  },
  {
    "id": "comment",
    "value": "* For event studies, flag a random year in which a patent was applied for",
    "line": 438,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 439,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "seed",
        "line": 439,
        "column": 5
      },
      {
        "id": "number",
        "value": "2016",
        "line": 439,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 440,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rand",
        "line": 440,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "uniform",
        "line": 440,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 441,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 441,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 441,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "rand",
        "line": 441,
        "column": 26
      },
      {
        "id": ":",
        "value": ":",
        "line": 441,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "g",
        "line": 441,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "index",
        "line": 441,
        "column": 35
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 441,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 442,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 442,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "temp",
        "line": 442,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 443,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "temp",
        "line": 443,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 443,
        "column": 8
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 443,
        "column": 18
      },
      {
        "id": "==",
        "value": "==",
        "line": 443,
        "column": 34
      },
      {
        "id": "number",
        "value": "1",
        "line": 443,
        "column": 36
      },
      {
        "id": "&",
        "value": "&",
        "line": 443,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "index",
        "line": 443,
        "column": 40
      },
      {
        "id": "==",
        "value": "==",
        "line": 443,
        "column": 45
      },
      {
        "id": "number",
        "value": "1",
        "line": 443,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 444,
      "column": 4
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "by",
          "line": 444,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 444,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 444,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "rpat_yr",
        "line": 444,
        "column": 14
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "min",
        "line": 444,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "temp",
        "line": 444,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 446,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "temp",
        "line": 446,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "index",
        "line": 446,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 447,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "eyr",
        "line": 447,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 447,
        "column": 9
      },
      {
        "id": "-",
        "value": "-",
        "line": 447,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "rpat_yr",
        "line": 447,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 448,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 448,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "rpat_yr",
        "line": 448,
        "column": 14
      },
      {
        "id": "-",
        "value": "-",
        "line": 448,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "yob",
        "line": 448,
        "column": 22
      }
    ]
  },
  {
    "id": "comment",
    "value": "* note: about 6% of inventors don't have a rpat_yr. This is possible because they have grants in 1996-2012 that were applied for before the sample window starts. It's okay.",
    "line": 450,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* 11/21/2017 adding zipcode IRTF and IRMF as separate fields",
    "line": 452,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 453,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 453,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 453,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 453,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 453,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 453,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 453,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 453,
        "column": 28
      },
      {
        "id": "/",
        "value": "/",
        "line": 453,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_db_bothzipprints",
        "line": 453,
        "column": 32
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 454,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 454,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 454,
        "column": 11
      },
      {
        "id": "number",
        "value": "3",
        "line": 454,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 455,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 455,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 456,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 456,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 456,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 456,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 456,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 456,
        "column": 22
      },
      {
        "id": "}",
        "value": "}",
        "line": 456,
        "column": 23
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 456,
        "column": 26
      }
    ]
  },
  {
    "id": "comment",
    "value": "***********************************************",
    "line": 461,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************",
    "line": 462,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Analysis Code: Tables",
    "line": 463,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************  ",
    "line": 464,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************",
    "line": 465,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 467,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Table 1 SUMMARY STATS",
    "line": 468,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 469,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***",
    "line": 470,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* full sample",
    "line": 471,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***",
    "line": 472,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 473,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 473,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 473,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 473,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 473,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 473,
        "column": 12
      },
      {
        "id": "}",
        "value": "}",
        "line": 473,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 473,
        "column": 17
      },
      {
        "id": "{",
        "value": "{",
        "line": 473,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 473,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 473,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "_inv",
        "line": 473,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 473,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 474,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 474,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 474,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 474,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 474,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 474,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 474,
        "column": 22
      },
      {
        "id": "/",
        "value": "/",
        "line": 474,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 474,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 474,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 474,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 474,
        "column": 53
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 475,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 475,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 476,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 476,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 477,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 477,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 477,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 477,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 477,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 477,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 477,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 477,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 477,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 477,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 477,
        "column": 37
      },
      {
        "id": "}",
        "value": "}",
        "line": 477,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 477,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 477,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "w2_inc",
        "line": 477,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 477,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040",
        "line": 477,
        "column": 76
      },
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 477,
        "column": 93
      },
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 477,
        "column": 102
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 477,
        "column": 110
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 477,
        "column": 115
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 477,
        "column": 121
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 478,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 478,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 478,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 478,
        "column": 15
      },
      {
        "id": "number",
        "value": "3",
        "line": 478,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 479,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 479,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 479,
        "column": 15
      },
      {
        "id": "number",
        "value": "2012",
        "line": 479,
        "column": 17
      },
      {
        "id": "|",
        "value": "|",
        "line": 479,
        "column": 22
      },
      {
        "id": "~",
        "value": "~",
        "line": 479,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 479,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 481,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "female",
        "line": 481,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 481,
        "column": 14
      },
      {
        "id": "==",
        "value": "==",
        "line": 481,
        "column": 22
      },
      {
        "id": "string",
        "value": "\"F\"",
        "line": 481,
        "column": 25
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 481,
        "column": 32
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 483,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 483,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "w2_inc",
        "line": 483,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 483,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 484,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 484,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 484,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 484,
        "column": 28
      },
      {
        "id": "<",
        "value": "<",
        "line": 484,
        "column": 40
      },
      {
        "id": "number",
        "value": "0",
        "line": 484,
        "column": 42
      },
      {
        "id": "&",
        "value": "&",
        "line": 484,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 484,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 485,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 485,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1e6",
        "line": 485,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 485,
        "column": 30
      },
      {
        "id": ">",
        "value": ">",
        "line": 485,
        "column": 42
      },
      {
        "id": "number",
        "value": "1e6",
        "line": 485,
        "column": 44
      },
      {
        "id": "&",
        "value": "&",
        "line": 485,
        "column": 48
      },
      {
        "id": "~",
        "value": "~",
        "line": 485,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 485,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 485,
        "column": 59
      },
      {
        "id": "&",
        "value": "&",
        "line": 485,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 485,
        "column": 75
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 486,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 486,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040",
        "line": 486,
        "column": 29
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 486,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 487,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 487,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 487,
        "column": 33
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 487,
        "column": 38
      },
      {
        "id": "<",
        "value": "<",
        "line": 487,
        "column": 60
      },
      {
        "id": "number",
        "value": "0",
        "line": 487,
        "column": 62
      },
      {
        "id": "&",
        "value": "&",
        "line": 487,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 487,
        "column": 66
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 488,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 488,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1e7",
        "line": 488,
        "column": 33
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 488,
        "column": 40
      },
      {
        "id": ">",
        "value": ">",
        "line": 488,
        "column": 62
      },
      {
        "id": "number",
        "value": "1e7",
        "line": 488,
        "column": 64
      },
      {
        "id": "&",
        "value": "&",
        "line": 488,
        "column": 68
      },
      {
        "id": "~",
        "value": "~",
        "line": 488,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 488,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 488,
        "column": 79
      },
      {
        "id": "&",
        "value": "&",
        "line": 488,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 488,
        "column": 105
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 489,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 489,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 489,
        "column": 22
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 489,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 490,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 490,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 490,
        "column": 26
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 490,
        "column": 31
      },
      {
        "id": "<",
        "value": "<",
        "line": 490,
        "column": 46
      },
      {
        "id": "number",
        "value": "0",
        "line": 490,
        "column": 48
      },
      {
        "id": "&",
        "value": "&",
        "line": 490,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 490,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 491,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 491,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1e7",
        "line": 491,
        "column": 26
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 491,
        "column": 33
      },
      {
        "id": ">",
        "value": ">",
        "line": 491,
        "column": 48
      },
      {
        "id": "number",
        "value": "1e7",
        "line": 491,
        "column": 50
      },
      {
        "id": "&",
        "value": "&",
        "line": 491,
        "column": 54
      },
      {
        "id": "~",
        "value": "~",
        "line": 491,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 491,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 491,
        "column": 65
      },
      {
        "id": "&",
        "value": "&",
        "line": 491,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 491,
        "column": 84
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 494,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 494,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 494,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 494,
        "column": 24
      },
      {
        "id": ">",
        "value": ">",
        "line": 494,
        "column": 32
      },
      {
        "id": "number",
        "value": "200",
        "line": 494,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 496,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "outcomes",
        "line": 496,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 496,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 496,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 496,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 496,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 496,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 496,
        "column": 89
      },
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 496,
        "column": 111
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 496,
        "column": 120
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 496,
        "column": 127
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 497,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "clist",
        "line": 497,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 498,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "o",
        "line": 498,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 498,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "local",
        "line": 498,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "outcomes",
        "line": 498,
        "column": 20
      },
      {
        "id": "{",
        "value": "{",
        "line": 498,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 499,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "clist",
        "line": 499,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`clist'",
        "line": 499,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 499,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "mean_",
        "line": 499,
        "column": 29
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 499,
        "column": 34
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`o'",
        "line": 499,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "p50",
        "line": 499,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "p50_",
        "line": 499,
        "column": 48
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 499,
        "column": 52
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 499,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "sd",
        "line": 499,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "sd_",
        "line": 499,
        "column": 65
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 499,
        "column": 68
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 499,
        "column": 72
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 501,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`clist'",
        "line": 501,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 501,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 501,
        "column": 26
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 501,
        "column": 28
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "fast",
        "line": 501,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 503,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 503,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 503,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 503,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 503,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 503,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "summstats_fullsample",
        "line": 503,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 503,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "version",
        "line": 503,
        "column": 51
      },
      {
        "id": "number",
        "value": "12",
        "line": 503,
        "column": 59
      }
    ]
  },
  {
    "id": "comment",
    "value": "***",
    "line": 505,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* kids sample",
    "line": 506,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***",
    "line": 507,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 508,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 508,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 508,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 508,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 508,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 508,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 508,
        "column": 21
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 508,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 508,
        "column": 34
      },
      {
        "id": ",",
        "value": ",",
        "line": 508,
        "column": 40
      },
      {
        "id": "number",
        "value": "1980",
        "line": 508,
        "column": 42
      },
      {
        "id": ",",
        "value": ",",
        "line": 508,
        "column": 46
      },
      {
        "id": "number",
        "value": "1984",
        "line": 508,
        "column": 47
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 508,
        "column": 54
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 509,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 509,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 509,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 510,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 510,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 510,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 510,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 510,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 510,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 510,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 510,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 510,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 510,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 510,
        "column": 28
      },
      {
        "id": "}",
        "value": "}",
        "line": 510,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 510,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 510,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 510,
        "column": 36
      },
      {
        "id": "}",
        "value": "}",
        "line": 510,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "_inv",
        "line": 510,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 510,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 510,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 510,
        "column": 72
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 510,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 510,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 510,
        "column": 108
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 510,
        "column": 114
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 510,
        "column": 122
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 511,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 511,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 511,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 511,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 511,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 511,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 511,
        "column": 22
      },
      {
        "id": "/",
        "value": "/",
        "line": 511,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 511,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 511,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 511,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 511,
        "column": 53
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 512,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 512,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 513,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 513,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 514,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 514,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 514,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 514,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 514,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 514,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 514,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 514,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 514,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 514,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 514,
        "column": 37
      },
      {
        "id": "}",
        "value": "}",
        "line": 514,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 514,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 514,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "w2_inc",
        "line": 514,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 514,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040",
        "line": 514,
        "column": 76
      },
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 514,
        "column": 93
      },
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 514,
        "column": 102
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 514,
        "column": 110
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 514,
        "column": 115
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 514,
        "column": 121
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 515,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 515,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 515,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 515,
        "column": 15
      },
      {
        "id": "number",
        "value": "3",
        "line": 515,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 516,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 516,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 516,
        "column": 15
      },
      {
        "id": "number",
        "value": "2012",
        "line": 516,
        "column": 17
      },
      {
        "id": "|",
        "value": "|",
        "line": 516,
        "column": 22
      },
      {
        "id": "~",
        "value": "~",
        "line": 516,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 516,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 517,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "coll20",
        "line": 517,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "~",
        "value": "~",
        "line": 517,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 517,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "coll_tin_20",
        "line": 517,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 518,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "female",
        "line": 518,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 518,
        "column": 14
      },
      {
        "id": "==",
        "value": "==",
        "line": 518,
        "column": 22
      },
      {
        "id": "string",
        "value": "\"F\"",
        "line": 518,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 519,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 519,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "w2_inc",
        "line": 519,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 519,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 520,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 520,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 520,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 520,
        "column": 28
      },
      {
        "id": "<",
        "value": "<",
        "line": 520,
        "column": 40
      },
      {
        "id": "number",
        "value": "0",
        "line": 520,
        "column": 42
      },
      {
        "id": "&",
        "value": "&",
        "line": 520,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 520,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 521,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 521,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1e6",
        "line": 521,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 521,
        "column": 30
      },
      {
        "id": ">",
        "value": ">",
        "line": 521,
        "column": 42
      },
      {
        "id": "number",
        "value": "1e6",
        "line": 521,
        "column": 44
      },
      {
        "id": "&",
        "value": "&",
        "line": 521,
        "column": 48
      },
      {
        "id": "~",
        "value": "~",
        "line": 521,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 521,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 521,
        "column": 59
      },
      {
        "id": "&",
        "value": "&",
        "line": 521,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 521,
        "column": 75
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 522,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 522,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040",
        "line": 522,
        "column": 29
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 522,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 523,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 523,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 523,
        "column": 33
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 523,
        "column": 38
      },
      {
        "id": "<",
        "value": "<",
        "line": 523,
        "column": 60
      },
      {
        "id": "number",
        "value": "0",
        "line": 523,
        "column": 62
      },
      {
        "id": "&",
        "value": "&",
        "line": 523,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 523,
        "column": 66
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 524,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 524,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1e7",
        "line": 524,
        "column": 33
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 524,
        "column": 40
      },
      {
        "id": ">",
        "value": ">",
        "line": 524,
        "column": 62
      },
      {
        "id": "number",
        "value": "1e7",
        "line": 524,
        "column": 64
      },
      {
        "id": "&",
        "value": "&",
        "line": 524,
        "column": 68
      },
      {
        "id": "~",
        "value": "~",
        "line": 524,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 524,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 524,
        "column": 79
      },
      {
        "id": "&",
        "value": "&",
        "line": 524,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 524,
        "column": 105
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 525,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 525,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 525,
        "column": 22
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 525,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 526,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 526,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 526,
        "column": 26
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 526,
        "column": 31
      },
      {
        "id": "<",
        "value": "<",
        "line": 526,
        "column": 46
      },
      {
        "id": "number",
        "value": "0",
        "line": 526,
        "column": 48
      },
      {
        "id": "&",
        "value": "&",
        "line": 526,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 526,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 527,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 527,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1e7",
        "line": 527,
        "column": 26
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 527,
        "column": 33
      },
      {
        "id": ">",
        "value": ">",
        "line": 527,
        "column": 48
      },
      {
        "id": "number",
        "value": "1e7",
        "line": 527,
        "column": 50
      },
      {
        "id": "&",
        "value": "&",
        "line": 527,
        "column": 54
      },
      {
        "id": "~",
        "value": "~",
        "line": 527,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 527,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 527,
        "column": 65
      },
      {
        "id": "&",
        "value": "&",
        "line": 527,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 527,
        "column": 84
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 528,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 528,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 528,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 528,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 528,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 528,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 528,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 528,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 528,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 528,
        "column": 97
      },
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 528,
        "column": 119
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 528,
        "column": 128
      },
      {
        "id": "{",
        "value": "{",
        "line": 528,
        "column": 142
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 529,
      "column": 2
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 529,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 529,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 529,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 529,
        "column": 29
      },
      {
        "id": "number",
        "value": "0",
        "line": 529,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 531,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 531,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 531,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 531,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 531,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 531,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 531,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 531,
        "column": 101
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 531,
        "column": 110
      },
      {
        "id": "identifier",
        "value": "coll20",
        "line": 531,
        "column": 117
      },
      {
        "id": "identifier",
        "value": "par_fam_inc",
        "line": 531,
        "column": 124
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 531,
        "column": 136
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 531,
        "column": 145
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 531,
        "column": 149
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 532,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "outcomes",
        "line": 532,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 532,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 532,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 532,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 532,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 532,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 532,
        "column": 89
      },
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 532,
        "column": 111
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 532,
        "column": 120
      },
      {
        "id": "identifier",
        "value": "coll20",
        "line": 532,
        "column": 127
      },
      {
        "id": "identifier",
        "value": "par_fam_inc",
        "line": 532,
        "column": 134
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 532,
        "column": 146
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 533,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "clist",
        "line": 533,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 534,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "o",
        "line": 534,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 534,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "local",
        "line": 534,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "outcomes",
        "line": 534,
        "column": 20
      },
      {
        "id": "{",
        "value": "{",
        "line": 534,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 535,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "clist",
        "line": 535,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`clist'",
        "line": 535,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 535,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "mean_",
        "line": 535,
        "column": 29
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 535,
        "column": 34
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`o'",
        "line": 535,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "p50",
        "line": 535,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "p50_",
        "line": 535,
        "column": 48
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 535,
        "column": 52
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 535,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "sd",
        "line": 535,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "sd_",
        "line": 535,
        "column": 65
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 535,
        "column": 68
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 535,
        "column": 72
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 537,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`clist'",
        "line": 537,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 537,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 537,
        "column": 26
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 537,
        "column": 28
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 537,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 537,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 537,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 539,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 539,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 539,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 539,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 539,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 539,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "summstats_intergen",
        "line": 539,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 539,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "version",
        "line": 539,
        "column": 49
      },
      {
        "id": "number",
        "value": "12",
        "line": 539,
        "column": 57
      }
    ]
  },
  {
    "id": "comment",
    "value": "***",
    "line": 542,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* nyc sample",
    "line": 543,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***",
    "line": 544,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 545,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 545,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 545,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 545,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 545,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 545,
        "column": 19
      },
      {
        "id": "}",
        "value": "}",
        "line": 545,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 545,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 546,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 546,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 546,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 547,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 547,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 547,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 547,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 547,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 547,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 547,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 547,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 547,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 547,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 547,
        "column": 28
      },
      {
        "id": "}",
        "value": "}",
        "line": 547,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 547,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 547,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 547,
        "column": 36
      },
      {
        "id": "}",
        "value": "}",
        "line": 547,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "_inv",
        "line": 547,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 547,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 547,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 547,
        "column": 72
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 547,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 547,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 547,
        "column": 108
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 547,
        "column": 114
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 547,
        "column": 122
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 548,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 548,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 548,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 548,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 548,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 548,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 548,
        "column": 22
      },
      {
        "id": "/",
        "value": "/",
        "line": 548,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 548,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 548,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 548,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 548,
        "column": 53
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 549,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 549,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 550,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 550,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 551,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 551,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 551,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 551,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 551,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 551,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 551,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 551,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 551,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 551,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 551,
        "column": 37
      },
      {
        "id": "}",
        "value": "}",
        "line": 551,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 551,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "w2_inc",
        "line": 551,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 551,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040",
        "line": 551,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 551,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 551,
        "column": 94
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 551,
        "column": 102
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 551,
        "column": 107
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 551,
        "column": 113
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 552,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 552,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 552,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 552,
        "column": 15
      },
      {
        "id": "number",
        "value": "3",
        "line": 552,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 553,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 553,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 553,
        "column": 15
      },
      {
        "id": "number",
        "value": "2012",
        "line": 553,
        "column": 17
      },
      {
        "id": "|",
        "value": "|",
        "line": 553,
        "column": 22
      },
      {
        "id": "~",
        "value": "~",
        "line": 553,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 553,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 554,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 554,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "w2_inc",
        "line": 554,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 554,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 555,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 555,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 555,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 555,
        "column": 28
      },
      {
        "id": "<",
        "value": "<",
        "line": 555,
        "column": 40
      },
      {
        "id": "number",
        "value": "0",
        "line": 555,
        "column": 42
      },
      {
        "id": "&",
        "value": "&",
        "line": 555,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 555,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 556,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 556,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1e6",
        "line": 556,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 556,
        "column": 30
      },
      {
        "id": ">",
        "value": ">",
        "line": 556,
        "column": 42
      },
      {
        "id": "number",
        "value": "1e6",
        "line": 556,
        "column": 44
      },
      {
        "id": "&",
        "value": "&",
        "line": 556,
        "column": 48
      },
      {
        "id": "~",
        "value": "~",
        "line": 556,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 556,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 556,
        "column": 59
      },
      {
        "id": "&",
        "value": "&",
        "line": 556,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 556,
        "column": 75
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 557,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 557,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040",
        "line": 557,
        "column": 29
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 557,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 558,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 558,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 558,
        "column": 33
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 558,
        "column": 38
      },
      {
        "id": "<",
        "value": "<",
        "line": 558,
        "column": 60
      },
      {
        "id": "number",
        "value": "0",
        "line": 558,
        "column": 62
      },
      {
        "id": "&",
        "value": "&",
        "line": 558,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 558,
        "column": 66
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 559,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 559,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1e7",
        "line": 559,
        "column": 33
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 559,
        "column": 40
      },
      {
        "id": ">",
        "value": ">",
        "line": 559,
        "column": 62
      },
      {
        "id": "number",
        "value": "1e7",
        "line": 559,
        "column": 64
      },
      {
        "id": "&",
        "value": "&",
        "line": 559,
        "column": 68
      },
      {
        "id": "~",
        "value": "~",
        "line": 559,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 559,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 559,
        "column": 79
      },
      {
        "id": "&",
        "value": "&",
        "line": 559,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 559,
        "column": 105
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 560,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 560,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 560,
        "column": 22
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "in_db",
        "line": 560,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 561,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 561,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 561,
        "column": 26
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 561,
        "column": 31
      },
      {
        "id": "<",
        "value": "<",
        "line": 561,
        "column": 46
      },
      {
        "id": "number",
        "value": "0",
        "line": 561,
        "column": 48
      },
      {
        "id": "&",
        "value": "&",
        "line": 561,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 561,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 562,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 562,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1e7",
        "line": 562,
        "column": 26
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 562,
        "column": 33
      },
      {
        "id": ">",
        "value": ">",
        "line": 562,
        "column": 48
      },
      {
        "id": "number",
        "value": "1e7",
        "line": 562,
        "column": 50
      },
      {
        "id": "&",
        "value": "&",
        "line": 562,
        "column": 54
      },
      {
        "id": "~",
        "value": "~",
        "line": 562,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 562,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 562,
        "column": 65
      },
      {
        "id": "&",
        "value": "&",
        "line": 562,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "in_db",
        "line": 562,
        "column": 84
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 563,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "asian",
        "line": 563,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 563,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 563,
        "column": 17
      },
      {
        "id": "string",
        "value": "\"Asian\"",
        "line": 563,
        "column": 19
      },
      {
        "id": ":",
        "value": ":",
        "line": 563,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 563,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 564,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "hispanic",
        "line": 564,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 564,
        "column": 16
      },
      {
        "id": "==",
        "value": "==",
        "line": 564,
        "column": 20
      },
      {
        "id": "string",
        "value": "\"Hispanic\"",
        "line": 564,
        "column": 22
      },
      {
        "id": ":",
        "value": ":",
        "line": 564,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 564,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 565,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "black",
        "line": 565,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 565,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 565,
        "column": 17
      },
      {
        "id": "string",
        "value": "\"Black\"",
        "line": 565,
        "column": 19
      },
      {
        "id": ":",
        "value": ":",
        "line": 565,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 565,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 566,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "white",
        "line": 566,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 566,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 566,
        "column": 17
      },
      {
        "id": "string",
        "value": "\"White\"",
        "line": 566,
        "column": 19
      },
      {
        "id": ":",
        "value": ":",
        "line": 566,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 566,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 567,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 567,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 567,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 567,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 567,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 567,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 567,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 567,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 567,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 567,
        "column": 97
      },
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 567,
        "column": 119
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 567,
        "column": 128
      },
      {
        "id": "{",
        "value": "{",
        "line": 567,
        "column": 142
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 568,
      "column": 2
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 568,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 568,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 568,
        "column": 21
      },
      {
        "id": "==",
        "value": "==",
        "line": 568,
        "column": 29
      },
      {
        "id": "number",
        "value": "0",
        "line": 568,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 570,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "outcomes",
        "line": 570,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "lifetime_patents",
        "line": 570,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "lifetime_apps",
        "line": 570,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "lifetime_cites",
        "line": 570,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "w2_inc_trim",
        "line": 570,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "f1040_inc_trim",
        "line": 570,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "non_spouse_f1040_trim",
        "line": 570,
        "column": 89
      },
      {
        "id": "identifier",
        "value": "rpat_age",
        "line": 570,
        "column": 111
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 570,
        "column": 120
      },
      {
        "id": "identifier",
        "value": "par_fam_inc",
        "line": 570,
        "column": 128
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 570,
        "column": 141
      },
      {
        "id": "identifier",
        "value": "math8",
        "line": 570,
        "column": 147
      },
      {
        "id": "identifier",
        "value": "verb3",
        "line": 570,
        "column": 153
      },
      {
        "id": "identifier",
        "value": "verb8",
        "line": 570,
        "column": 159
      },
      {
        "id": "identifier",
        "value": "white",
        "line": 570,
        "column": 165
      },
      {
        "id": "identifier",
        "value": "black",
        "line": 570,
        "column": 171
      },
      {
        "id": "identifier",
        "value": "asian",
        "line": 570,
        "column": 177
      },
      {
        "id": "identifier",
        "value": "hispanic",
        "line": 570,
        "column": 183
      },
      {
        "id": "identifier",
        "value": "collaborators",
        "line": 570,
        "column": 192
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 571,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "clist",
        "line": 571,
        "column": 7
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 572,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "o",
        "line": 572,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 572,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "local",
        "line": 572,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "outcomes",
        "line": 572,
        "column": 20
      },
      {
        "id": "{",
        "value": "{",
        "line": 572,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ocal",
      "line": 573,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "clist",
        "line": 573,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`clist'",
        "line": 573,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 573,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "mean_",
        "line": 573,
        "column": 28
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 573,
        "column": 33
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`o'",
        "line": 573,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "p50",
        "line": 573,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "p50_",
        "line": 573,
        "column": 47
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 573,
        "column": 51
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 573,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "sd",
        "line": 573,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "sd_",
        "line": 573,
        "column": 64
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 573,
        "column": 67
      },
      {
        "id": "`'",
        "value": "`o'",
        "line": 573,
        "column": 71
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 575,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`clist'",
        "line": 575,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 575,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 575,
        "column": 26
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 575,
        "column": 28
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 575,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 575,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 575,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 576,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 576,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 576,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 576,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 576,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 576,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "summstats_nyc",
        "line": 576,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 576,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "version",
        "line": 576,
        "column": 44
      },
      {
        "id": "number",
        "value": "12",
        "line": 576,
        "column": 52
      }
    ]
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 579,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Table 2: DFL (producing data needed to do this on outside)",
    "line": 580,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* (This code written by Charlotte)",
    "line": 581,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 582,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 583,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 583,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 583,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 583,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 583,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 583,
        "column": 19
      },
      {
        "id": "}",
        "value": "}",
        "line": 583,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 583,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 585,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 585,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 585,
        "column": 14
      },
      {
        "id": "*",
        "value": "*",
        "line": 585,
        "column": 22
      },
      {
        "id": "number",
        "value": "1000",
        "line": 585,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 586,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 586,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 586,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 586,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 586,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 586,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 586,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "bygrade",
        "line": 586,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 588,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "asian",
        "line": 588,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 588,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 588,
        "column": 17
      },
      {
        "id": "string",
        "value": "\"Asian\"",
        "line": 588,
        "column": 19
      },
      {
        "id": ":",
        "value": ":",
        "line": 588,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 588,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 589,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "hispanic",
        "line": 589,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 589,
        "column": 16
      },
      {
        "id": "==",
        "value": "==",
        "line": 589,
        "column": 20
      },
      {
        "id": "string",
        "value": "\"Hispanic\"",
        "line": 589,
        "column": 22
      },
      {
        "id": ":",
        "value": ":",
        "line": 589,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 589,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 590,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "black",
        "line": 590,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 590,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 590,
        "column": 17
      },
      {
        "id": "string",
        "value": "\"Black\"",
        "line": 590,
        "column": 19
      },
      {
        "id": ":",
        "value": ":",
        "line": 590,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 590,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 591,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "white",
        "line": 591,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 591,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 591,
        "column": 17
      },
      {
        "id": "string",
        "value": "\"White\"",
        "line": 591,
        "column": 19
      },
      {
        "id": ":",
        "value": ":",
        "line": 591,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "ethnl",
        "line": 591,
        "column": 27
      }
    ]
  },
  {
    "id": "comment",
    "value": "* white =1 if white and 0 if black and . otherwise",
    "line": 593,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 594,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "male",
        "line": 594,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 594,
        "column": 12
      },
      {
        "id": "-",
        "value": "-",
        "line": 594,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 594,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 595,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p80",
        "line": 595,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 595,
        "column": 11
      },
      {
        "id": ">",
        "value": ">",
        "line": 595,
        "column": 19
      },
      {
        "id": "number",
        "value": ".8",
        "line": 595,
        "column": 21
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 595,
        "column": 27
      },
      {
        "id": "~=",
        "value": "~=",
        "line": 595,
        "column": 36
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 595,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 596,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pq",
        "line": 596,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 596,
        "column": 11
      },
      {
        "id": "number",
        "value": ".2",
        "line": 596,
        "column": 27
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 596,
        "column": 16
      },
      {
        "id": "<",
        "value": "<",
        "line": 596,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 597,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pq",
        "line": 597,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "2",
        "line": 597,
        "column": 15
      },
      {
        "id": "number",
        "value": ".4",
        "line": 597,
        "column": 31
      },
      {
        "id": "&",
        "value": "&",
        "line": 597,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 597,
        "column": 36
      },
      {
        "id": ">",
        "value": ">",
        "line": 597,
        "column": 45
      },
      {
        "id": "number",
        "value": ".2",
        "line": 597,
        "column": 46
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 597,
        "column": 20
      },
      {
        "id": "<",
        "value": "<",
        "line": 597,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 598,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pq",
        "line": 598,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "3",
        "line": 598,
        "column": 15
      },
      {
        "id": "number",
        "value": ".6",
        "line": 598,
        "column": 31
      },
      {
        "id": "&",
        "value": "&",
        "line": 598,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 598,
        "column": 36
      },
      {
        "id": ">",
        "value": ">",
        "line": 598,
        "column": 45
      },
      {
        "id": "number",
        "value": ".4",
        "line": 598,
        "column": 46
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 598,
        "column": 20
      },
      {
        "id": "<",
        "value": "<",
        "line": 598,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 599,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pq",
        "line": 599,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "4",
        "line": 599,
        "column": 15
      },
      {
        "id": "number",
        "value": ".8",
        "line": 599,
        "column": 31
      },
      {
        "id": "&",
        "value": "&",
        "line": 599,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 599,
        "column": 36
      },
      {
        "id": ">",
        "value": ">",
        "line": 599,
        "column": 45
      },
      {
        "id": "number",
        "value": ".6",
        "line": 599,
        "column": 46
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 599,
        "column": 20
      },
      {
        "id": "<",
        "value": "<",
        "line": 599,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 600,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "pq",
        "line": 600,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "5",
        "line": 600,
        "column": 15
      },
      {
        "id": "number",
        "value": "1",
        "line": 600,
        "column": 32
      },
      {
        "id": "&",
        "value": "&",
        "line": 600,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 600,
        "column": 36
      },
      {
        "id": ">",
        "value": ">",
        "line": 600,
        "column": 45
      },
      {
        "id": "number",
        "value": ".8",
        "line": 600,
        "column": 46
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 600,
        "column": 20
      },
      {
        "id": "<",
        "value": "<",
        "line": 600,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 602,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "white_vs_black",
        "line": 602,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "white",
        "line": 602,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 602,
        "column": 27
      },
      {
        "id": "number",
        "value": "1",
        "line": 602,
        "column": 29
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "white",
        "line": 602,
        "column": 35
      },
      {
        "id": "==",
        "value": "==",
        "line": 602,
        "column": 40
      },
      {
        "id": "number",
        "value": "1",
        "line": 602,
        "column": 42
      },
      {
        "id": "|",
        "value": "|",
        "line": 602,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "black",
        "line": 602,
        "column": 46
      },
      {
        "id": "==",
        "value": "==",
        "line": 602,
        "column": 51
      },
      {
        "id": "number",
        "value": "1",
        "line": 602,
        "column": 53
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 603,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "white_vs_minority",
        "line": 603,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "white",
        "line": 603,
        "column": 25
      },
      {
        "id": "==",
        "value": "==",
        "line": 603,
        "column": 30
      },
      {
        "id": "number",
        "value": "1",
        "line": 603,
        "column": 32
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "white",
        "line": 603,
        "column": 38
      },
      {
        "id": "==",
        "value": "==",
        "line": 603,
        "column": 43
      },
      {
        "id": "number",
        "value": "1",
        "line": 603,
        "column": 45
      },
      {
        "id": "|",
        "value": "|",
        "line": 603,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "black",
        "line": 603,
        "column": 49
      },
      {
        "id": "==",
        "value": "==",
        "line": 603,
        "column": 54
      },
      {
        "id": "number",
        "value": "1",
        "line": 603,
        "column": 56
      },
      {
        "id": "|",
        "value": "|",
        "line": 603,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "hispanic",
        "line": 603,
        "column": 60
      },
      {
        "id": "==",
        "value": "==",
        "line": 603,
        "column": 68
      },
      {
        "id": "number",
        "value": "1",
        "line": 603,
        "column": 70
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 604,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "asian_vs_not",
        "line": 604,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "asian",
        "line": 604,
        "column": 20
      },
      {
        "id": "==",
        "value": "==",
        "line": 604,
        "column": 25
      },
      {
        "id": "number",
        "value": "1",
        "line": 604,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 606,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 606,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 606,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 606,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "male",
        "line": 606,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "p80",
        "line": 606,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "ethn",
        "line": 606,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "white_vs_black",
        "line": 606,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "white_vs_minority",
        "line": 606,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "asian_vs_not",
        "line": 606,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "pq",
        "line": 606,
        "column": 84
      },
      {
        "id": "{",
        "value": "{",
        "line": 606,
        "column": 87
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forval",
      "line": 607,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "i",
        "line": 607,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "3",
        "line": 607,
        "column": 11
      },
      {
        "id": "/",
        "value": "/",
        "line": 607,
        "column": 12
      },
      {
        "id": "number",
        "value": "8",
        "line": 607,
        "column": 13
      },
      {
        "id": "{",
        "value": "{",
        "line": 607,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "preserve",
      "line": 608,
      "column": 3
    }
  },
  {
    "id": "comment",
    "value": "* Drop Native Americans (ethn==1) only for the ethnicity cut ",
    "line": 609,
    "column": 4
  },
  {
    "command": {
      "id": "identifier",
      "value": "if",
      "line": 610,
      "column": 4
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"`var'\"",
        "line": 610,
        "column": 7
      },
      {
        "id": "==",
        "value": "==",
        "line": 610,
        "column": 15
      },
      {
        "id": "string",
        "value": "\"ethn\"",
        "line": 610,
        "column": 18
      },
      {
        "id": "{",
        "value": "{",
        "line": 610,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 611,
      "column": 5
    },
    "if": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 611,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 611,
        "column": 17
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 611,
        "column": 19
      },
      {
        "id": "|",
        "value": "|",
        "line": 611,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "ethn",
        "line": 611,
        "column": 23
      },
      {
        "id": "==",
        "value": "==",
        "line": 611,
        "column": 27
      },
      {
        "id": "number",
        "value": "1",
        "line": 611,
        "column": 29
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Equivalent to binscatter (but also produces counts)",
    "line": 614,
    "column": 4
  },
  {
    "id": "comment",
    "value": "* Rerank test scores after dropping obs with missing `var'",
    "line": 615,
    "column": 4
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 616,
      "column": 4
    },
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 616,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 616,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "math",
        "line": 616,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 616,
        "column": 25
      },
      {
        "id": ",",
        "value": ",",
        "line": 616,
        "column": 28
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 616,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 617,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 617,
          "column": 4
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "math_vin_new",
        "line": 617,
        "column": 13
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 617,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "fastxtile",
      "line": 618,
      "column": 4
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "math_vin_new",
        "line": 618,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 618,
        "column": 26
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "math",
        "line": 618,
        "column": 32
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 618,
        "column": 36
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nquantiles",
        "line": 618,
        "column": 41
      },
      {
        "id": "number",
        "value": "20",
        "line": 618,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 620,
      "column": 4
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 620,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 620,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "math",
        "line": 620,
        "column": 27
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 620,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 620,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 620,
        "column": 43
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 620,
        "column": 45
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 620,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "math_vin_new",
        "line": 620,
        "column": 57
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 620,
        "column": 69
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 620,
        "column": 73
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 621,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "qui",
          "line": 621,
          "column": 4
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "n",
        "line": 621,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "assert",
      "line": 622,
      "column": 4
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "r",
        "line": 622,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "min",
        "line": 622,
        "column": 13
      },
      {
        "id": ">",
        "value": ">",
        "line": 622,
        "column": 17
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "10",
        "line": 622,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "decode",
      "line": 623,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 623,
          "column": 4
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 623,
        "column": 15
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 623,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 623,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 624,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 624,
          "column": 4
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 624,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 626,
      "column": 4
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "add_string",
        "line": 626,
        "column": 10
      },
      {
        "id": "string",
        "value": "\"\"",
        "line": 626,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "if",
      "line": 627,
      "column": 4
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"`var'\"",
        "line": 627,
        "column": 7
      },
      {
        "id": "==",
        "value": "==",
        "line": 627,
        "column": 15
      },
      {
        "id": "string",
        "value": "\"ethn\"",
        "line": 627,
        "column": 18
      },
      {
        "id": "{",
        "value": "{",
        "line": 627,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 628,
      "column": 5
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "add_string",
        "line": 628,
        "column": 11
      },
      {
        "id": "string",
        "value": "\"string\"",
        "line": 628,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 630,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "qui",
          "line": 630,
          "column": 4
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "wide",
        "line": 630,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 630,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "math",
        "line": 630,
        "column": 28
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 630,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 630,
        "column": 36
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 630,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "math_vin",
        "line": 630,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 630,
        "column": 51
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 630,
        "column": 53
      },
      {
        "id": "`'",
        "value": "`add_string'",
        "line": 630,
        "column": 60
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 631,
      "column": 4
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 631,
        "column": 13
      },
      {
        "id": "{",
        "value": "{",
        "line": 631,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 631,
        "column": 22
      },
      {
        "id": "}",
        "value": "}",
        "line": 631,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 631,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "bygrade",
        "line": 631,
        "column": 25
      },
      {
        "id": "/",
        "value": "/",
        "line": 631,
        "column": 32
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 631,
        "column": 33
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 631,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 631,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "version",
        "line": 631,
        "column": 51
      },
      {
        "id": "number",
        "value": "12",
        "line": 631,
        "column": 59
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "restore",
      "line": 632,
      "column": 3
    }
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 638,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Table 3,4: Child patent rate vs rate in father's industry or parents' CZ",
    "line": 639,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* (This code written by Trevor)",
    "line": 640,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 641,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 642,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "more",
        "line": 642,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 642,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 644,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 644,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 644,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 645,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "date",
        "line": 645,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "subinstr",
        "line": 645,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 645,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "date",
        "line": 645,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "c",
        "line": 645,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "current_date",
        "line": 645,
        "column": 35
      },
      {
        "id": ",",
        "value": ",",
        "line": 645,
        "column": 48
      },
      {
        "id": "string",
        "value": "\"DMY\"",
        "line": 645,
        "column": 49
      },
      {
        "id": ",",
        "value": ",",
        "line": 645,
        "column": 55
      },
      {
        "id": "string",
        "value": "\"%td_CCYY_NN_DD\"",
        "line": 645,
        "column": 56
      },
      {
        "id": ",",
        "value": ",",
        "line": 645,
        "column": 73
      },
      {
        "id": "string",
        "value": "\" \"",
        "line": 645,
        "column": 74
      },
      {
        "id": ",",
        "value": ",",
        "line": 645,
        "column": 77
      },
      {
        "id": "string",
        "value": "\"_\"",
        "line": 645,
        "column": 78
      },
      {
        "id": ",",
        "value": ",",
        "line": 645,
        "column": 81
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 645,
        "column": 82
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 646,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patpath",
        "line": 646,
        "column": 8
      },
      {
        "id": "/",
        "value": "/",
        "line": 646,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "home",
        "line": 646,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 646,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "stataharvard",
        "line": 646,
        "column": 22
      },
      {
        "id": "/",
        "value": "/",
        "line": 646,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 646,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 647,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "section2sample",
        "line": 647,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 647,
        "column": 24
      },
      {
        "id": "<",
        "value": "<",
        "line": 647,
        "column": 30
      },
      {
        "id": "=",
        "value": "=",
        "line": 647,
        "column": 31
      },
      {
        "id": "number",
        "value": "1984",
        "line": 647,
        "column": 32
      },
      {
        "id": "&",
        "value": "&",
        "line": 647,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 647,
        "column": 39
      },
      {
        "id": "==",
        "value": "==",
        "line": 647,
        "column": 47
      },
      {
        "id": "number",
        "value": "0",
        "line": 647,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cd",
      "line": 649,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "$",
        "line": 649,
        "column": 4
      },
      {
        "id": "{",
        "value": "{",
        "line": 649,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 649,
        "column": 6
      },
      {
        "id": "}",
        "value": "}",
        "line": 649,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 649,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "draft2016",
        "line": 649,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 651,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 651,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 651,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 651,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 651,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 651,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 652,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 652,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 652,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 653,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 653,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "logs",
        "line": 653,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "program",
      "line": 654,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 654,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 654,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "pe",
        "line": 654,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "program",
      "line": 655,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "define",
        "line": 655,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "pe",
        "line": 655,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "`'",
      "value": "`0'",
      "line": 656,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "end",
      "line": 657,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "*Filename: /home/stataharvard/patents/naics_distance/script/cz_naics_distance_v1.do",
    "line": 658,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Source: naics_distance_v1.do (2015.07.02 version by TJB)",
    "line": 659,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Author: Trevor J. Bakker",
    "line": 660,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Created: 2015.07.06",
    "line": 661,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Description: Produces CZ and NAICS-distance-related figures for Part 2: Childhood Environment section of patents paper.",
    "line": 662,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 663,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 663,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 663,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 663,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 663,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 663,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 663,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "naics_distance_log",
        "line": 663,
        "column": 23
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "text",
        "line": 663,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 663,
        "column": 48
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 664,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 664,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "naics_distance_intermed",
        "line": 664,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 665,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patpath",
        "line": 665,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "$patpath",
        "line": 665,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 666,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "naics_denominator",
        "line": 666,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`patpath'",
        "line": 666,
        "column": 25
      },
      {
        "id": "/",
        "value": "/",
        "line": 666,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "naics",
        "line": 666,
        "column": 35
      },
      {
        "id": "/",
        "value": "/",
        "line": 666,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "cdw_naics_10m.dta",
        "line": 666,
        "column": 41
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 668,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "environ",
        "line": 668,
        "column": 9
      }
    ],
    "in": [
      {
        "id": "identifier",
        "value": "cz",
        "line": 668,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "naics",
        "line": 668,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 668,
        "column": 29
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Step 0: Calculate total cz and naics sizes",
    "line": 669,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*This is done with a 0.152462% sample sample from CDW with 12 years of NAICS, which I appropriately collapse and scale in naics.do.",
    "line": 670,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*This is done in Movers code over a 10-year sample in movers/historical_patenting/historical_patenting_v2.do",
    "line": 671,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Step 1: Construct kids' patent rates by class by parent naics (cz), restricting to cohorts no greater than 1984.",
    "line": 673,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Data is one line per kid. Note that class is missing for kids who do not invent.",
    "line": 674,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 675,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz_var",
        "line": 675,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 675,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 676,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "naics_var",
        "line": 676,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "par_dad_naics",
        "line": 676,
        "column": 17
      }
    ]
  },
  {
    "id": "comment",
    "value": "*CAUTION: par_cz_1996 is missing in 2.5% of cases.",
    "line": 677,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 678,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "use",
        "line": 678,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 678,
        "column": 8
      },
      {
        "id": "/",
        "value": "/",
        "line": 678,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 678,
        "column": 13
      },
      {
        "id": "{",
        "value": "{",
        "line": 678,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 678,
        "column": 23
      },
      {
        "id": "}",
        "value": "}",
        "line": 678,
        "column": 24
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1984",
        "line": 678,
        "column": 37
      },
      {
        "id": "&",
        "value": "&",
        "line": 678,
        "column": 42
      },
      {
        "id": "!",
        "value": "!",
        "line": 678,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 678,
        "column": 45
      },
      {
        "id": "`'",
        "value": "``environ'",
        "line": 678,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "_var",
        "line": 678,
        "column": 63
      },
      {
        "id": "'",
        "value": "'",
        "line": 678,
        "column": 67
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 678,
        "column": 29
      },
      {
        "id": "<",
        "value": "<",
        "line": 678,
        "column": 35
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 678,
        "column": 71
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Drop if either parent is an inventor",
    "line": 679,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 680,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 680,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 680,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 680,
        "column": 19
      },
      {
        "id": "number",
        "value": "0",
        "line": 680,
        "column": 21
      },
      {
        "id": "&",
        "value": "&",
        "line": 680,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 680,
        "column": 25
      },
      {
        "id": "==",
        "value": "==",
        "line": 680,
        "column": 32
      },
      {
        "id": "number",
        "value": "0",
        "line": 680,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 681,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rename",
        "line": 681,
        "column": 4
      },
      {
        "id": "`'",
        "value": "``environ'",
        "line": 681,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "_var",
        "line": 681,
        "column": 21
      },
      {
        "id": "'",
        "value": "'",
        "line": 681,
        "column": 25
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 681,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 682,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rename",
        "line": 682,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "class_prim_kid",
        "line": 682,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 682,
        "column": 26
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Form the numerator through collapsing data to the naics(cz)-class level.",
    "line": 683,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 684,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 684,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "ind",
        "line": 684,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 684,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 685,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "collapse",
        "line": 685,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 685,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_class",
        "line": 685,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 685,
        "column": 36
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ind",
        "line": 685,
        "column": 46
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 685,
        "column": 51
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 685,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 685,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 685,
        "column": 71
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 686,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "count",
        "line": 686,
        "column": 4
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Gather up any missing classes.",
    "line": 687,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 688,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "merge",
        "line": 688,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 688,
        "column": 10
      },
      {
        "id": ":",
        "value": ":",
        "line": 688,
        "column": 11
      },
      {
        "id": "number",
        "value": "1",
        "line": 688,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 688,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 688,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 688,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "home",
        "line": 688,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 688,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "stataharvard",
        "line": 688,
        "column": 32
      },
      {
        "id": "/",
        "value": "/",
        "line": 688,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 688,
        "column": 45
      },
      {
        "id": "/",
        "value": "/",
        "line": 688,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "idb",
        "line": 688,
        "column": 53
      },
      {
        "id": "/",
        "value": "/",
        "line": 688,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "classlookup",
        "line": 688,
        "column": 57
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 688,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 688,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 688,
        "column": 87
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 688,
        "column": 92
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 688,
        "column": 98
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 688,
        "column": 105
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 688,
        "column": 112
      }
    ]
  },
  {
    "id": "comment",
    "value": "*MINOR RESTRICTION: We have a single class for which there is no corresponding category or subcategory in the lookup table.",
    "line": 689,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 690,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 690,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "class",
        "line": 690,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 690,
        "column": 17
      },
      {
        "id": "string",
        "value": "\"987\"",
        "line": 690,
        "column": 19
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Strongly balance in terms of naics (cz) and class.",
    "line": 691,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 692,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 692,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 692,
        "column": 12
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"mi\"",
        "line": 692,
        "column": 18
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "class",
        "line": 692,
        "column": 26
      },
      {
        "id": "==",
        "value": "==",
        "line": 692,
        "column": 31
      },
      {
        "id": "string",
        "value": "\"\"",
        "line": 692,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 693,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "reshape",
        "line": 693,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "wide",
        "line": 693,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_class",
        "line": 693,
        "column": 17
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 693,
        "column": 34
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 693,
        "column": 45
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 693,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 693,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 693,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 693,
        "column": 67
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 694,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "reshape",
        "line": 694,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "long",
        "line": 694,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 695,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 695,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 695,
        "column": 12
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"\"",
        "line": 695,
        "column": 18
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "class",
        "line": 695,
        "column": 24
      },
      {
        "id": "==",
        "value": "==",
        "line": 695,
        "column": 29
      },
      {
        "id": "string",
        "value": "\"mi\"",
        "line": 695,
        "column": 31
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Without naics (cz), we cannot get naics_size (patentspercap), and all the usual right-hand-side variables will be missing.",
    "line": 696,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 697,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 697,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 697,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 697,
        "column": 21
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 697,
        "column": 23
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Now that we have all naics(cz)-class combinations, fill in with 0 kids for those that are newly-created.",
    "line": 698,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 699,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 699,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_class",
        "line": 699,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 699,
        "column": 29
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 699,
        "column": 39
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "kids_inv_in_class",
        "line": 699,
        "column": 44
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 699,
        "column": 61
      },
      {
        "id": "==",
        "value": "==",
        "line": 699,
        "column": 70
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 699,
        "column": 72
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Form the denominator of the left-hand side.",
    "line": 700,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 701,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "bys",
        "line": 701,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 701,
        "column": 8
      },
      {
        "id": ":",
        "value": ":",
        "line": 701,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 701,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 701,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 701,
        "column": 33
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 701,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_class",
        "line": 701,
        "column": 50
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 701,
        "column": 67
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of kids inventing in a given naics(cz)-class as a share of all kids (including non-inventors) in the naics (cz).",
    "line": 702,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 703,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 703,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_class",
        "line": 703,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 703,
        "column": 29
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kids_inv_in_class",
        "line": 703,
        "column": 39
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 703,
        "column": 56
      },
      {
        "id": "/",
        "value": "/",
        "line": 703,
        "column": 65
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 703,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 703,
        "column": 75
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Having defined the naics (cz) size including all kids, now we restrict only to inventor kids.",
    "line": 704,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 705,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 705,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 705,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 705,
        "column": 20
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Step 2: Merge industry naics(cz)-class file onto the kid naics(cz)-class level file.",
    "line": 706,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*This file is one line per naics(cz)-class, i.e., every combination of patent class we observe from inventors in the naics (cz).",
    "line": 707,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 708,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz_pop",
        "line": 708,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`patpath'",
        "line": 708,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 708,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 708,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 708,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 708,
        "column": 31
      },
      {
        "id": "/",
        "value": "/",
        "line": 708,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 708,
        "column": 52
      },
      {
        "id": "/",
        "value": "/",
        "line": 708,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "czcatscatclass.dta",
        "line": 708,
        "column": 70
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 709,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "naics_pop",
        "line": 709,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`patpath'",
        "line": 709,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 709,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "naics",
        "line": 709,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 709,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "naics_collapsible.dta",
        "line": 709,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 710,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "merge",
        "line": 710,
        "column": 4
      },
      {
        "id": "number",
        "value": "1",
        "line": 710,
        "column": 10
      },
      {
        "id": ":",
        "value": ":",
        "line": 710,
        "column": 11
      },
      {
        "id": "number",
        "value": "1",
        "line": 710,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 710,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 710,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 710,
        "column": 30
      },
      {
        "id": "`'",
        "value": "``environ'",
        "line": 710,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "_pop",
        "line": 710,
        "column": 46
      },
      {
        "id": "'",
        "value": "'",
        "line": 710,
        "column": 50
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Relevant only for NAICS, not CZ: Investigate limited number of unmerged observeations from industry patent-intensity data (_merge==2).",
    "line": 711,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 712,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "bys",
        "line": 712,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 712,
        "column": 8
      },
      {
        "id": ":",
        "value": ":",
        "line": 712,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 712,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "flag_",
        "line": 712,
        "column": 24
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 712,
        "column": 29
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 712,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "_merge",
        "line": 712,
        "column": 44
      },
      {
        "id": "==",
        "value": "==",
        "line": 712,
        "column": 50
      },
      {
        "id": "number",
        "value": "2",
        "line": 712,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 713,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "flag_",
        "line": 713,
        "column": 5
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 713,
        "column": 10
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "mi",
        "line": 713,
        "column": 21
      }
    ]
  },
  {
    "id": "comment",
    "value": "*It turns out that these unmatched observations correspond to particular naics that are not in the kids data. We do not need these.",
    "line": 714,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 715,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 715,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "flag_",
        "line": 715,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 715,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 715,
        "column": 26
      },
      {
        "id": "number",
        "value": "1",
        "line": 715,
        "column": 28
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Note that _merge==1 is common and expected because the master file is strongly balanced in terms of the naics(cz)-class.",
    "line": 716,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Merge on scat and cat values, which are missing for observations not in the naics (cz) data.",
    "line": 717,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 718,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rename",
        "line": 718,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 718,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "scat2",
        "line": 718,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 719,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rename",
        "line": 719,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 719,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cat2",
        "line": 719,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 720,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "merge",
        "line": 720,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 720,
        "column": 10
      },
      {
        "id": ":",
        "value": ":",
        "line": 720,
        "column": 11
      },
      {
        "id": "number",
        "value": "1",
        "line": 720,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 720,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 720,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 720,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "home",
        "line": 720,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 720,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "stataharvard",
        "line": 720,
        "column": 32
      },
      {
        "id": "/",
        "value": "/",
        "line": 720,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 720,
        "column": 45
      },
      {
        "id": "/",
        "value": "/",
        "line": 720,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "idb",
        "line": 720,
        "column": 53
      },
      {
        "id": "/",
        "value": "/",
        "line": 720,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "classlookup",
        "line": 720,
        "column": 57
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 720,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 720,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 720,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 720,
        "column": 91
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 720,
        "column": 96
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 720,
        "column": 101
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 720,
        "column": 107
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 720,
        "column": 115
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 721,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 721,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "scat2",
        "line": 721,
        "column": 11
      },
      {
        "id": "==",
        "value": "==",
        "line": 721,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 721,
        "column": 18
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "scat2",
        "line": 721,
        "column": 26
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 721,
        "column": 31
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 721,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 722,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 722,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "cat2",
        "line": 722,
        "column": 11
      },
      {
        "id": "==",
        "value": "==",
        "line": 722,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 722,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "scat2",
        "line": 722,
        "column": 24
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 722,
        "column": 29
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 722,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 723,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 723,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "scat2",
        "line": 723,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cat2",
        "line": 723,
        "column": 15
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Many of these combinations will not exist in industry data, in which case we make class-level variables 0.",
    "line": 725,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*For variables aggregated at the `environ' level, we take the maximum value.",
    "line": 726,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 727,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz_max",
        "line": 727,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 727,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 728,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "naics_max",
        "line": 728,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "inv_per_year_naics",
        "line": 728,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 729,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 729,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 729,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 729,
        "column": 16
      },
      {
        "id": "`'",
        "value": "``environ'",
        "line": 729,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "_max",
        "line": 729,
        "column": 34
      },
      {
        "id": "'",
        "value": "'",
        "line": 729,
        "column": 38
      },
      {
        "id": "{",
        "value": "{",
        "line": 729,
        "column": 41
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 730,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "bys",
        "line": 730,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 730,
        "column": 8
      },
      {
        "id": ":",
        "value": ":",
        "line": 730,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 730,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "double",
        "line": 730,
        "column": 24
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 730,
        "column": 31
      },
      {
        "id": "number",
        "value": "2",
        "line": 730,
        "column": 36
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 730,
        "column": 38
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 730,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 731,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 731,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 731,
        "column": 11
      },
      {
        "id": "==",
        "value": "==",
        "line": 731,
        "column": 16
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 731,
        "column": 18
      },
      {
        "id": "number",
        "value": "2",
        "line": 731,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "!",
        "value": "!",
        "line": 731,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 731,
        "column": 29
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 731,
        "column": 37
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 732,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 732,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 732,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 733,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rename",
        "line": 733,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 733,
        "column": 11
      },
      {
        "id": "number",
        "value": "2",
        "line": 733,
        "column": 16
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 733,
        "column": 18
      }
    ]
  },
  {
    "id": "comment",
    "value": "*For variables aggregated at intermediate levels, we take the maximum level with code specific to the bysorts needed.",
    "line": 735,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "if",
      "line": 736,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"`environ'\"",
        "line": 736,
        "column": 4
      },
      {
        "id": "==",
        "value": "==",
        "line": 736,
        "column": 15
      },
      {
        "id": "string",
        "value": "\"naics\"",
        "line": 736,
        "column": 17
      },
      {
        "id": "{",
        "value": "{",
        "line": 736,
        "column": 25
      }
    ]
  },
  {
    "id": "comment",
    "value": "*scat-level",
    "line": 737,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 738,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "bys",
        "line": 738,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "naics",
        "line": 738,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 738,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 738,
        "column": 18
      },
      {
        "id": ":",
        "value": ":",
        "line": 738,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 738,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "double",
        "line": 738,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "inv_per_year_scatnaics2",
        "line": 738,
        "column": 36
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 738,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "inv_per_year_scatnaics",
        "line": 738,
        "column": 64
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 739,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 739,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "inv_per_year_scatnaics",
        "line": 739,
        "column": 11
      },
      {
        "id": "==",
        "value": "==",
        "line": 739,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "inv_per_year_scatnaics2",
        "line": 739,
        "column": 35
      }
    ],
    "if": [
      {
        "id": "!",
        "value": "!",
        "line": 739,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 739,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "inv_per_year_scatnaics",
        "line": 739,
        "column": 71
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 740,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 740,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "inv_per_year_scatnaics",
        "line": 740,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 741,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rename",
        "line": 741,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "inv_per_year_scatnaics2",
        "line": 741,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inv_per_year_scatnaics",
        "line": 741,
        "column": 35
      }
    ]
  },
  {
    "id": "comment",
    "value": "*cat-level",
    "line": 742,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 743,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "bys",
        "line": 743,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "naics",
        "line": 743,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 743,
        "column": 14
      },
      {
        "id": ":",
        "value": ":",
        "line": 743,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 743,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "double",
        "line": 743,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "inv_per_year_catnaics2",
        "line": 743,
        "column": 31
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 743,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "inv_per_year_catnaics",
        "line": 743,
        "column": 58
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 744,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 744,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "inv_per_year_catnaics",
        "line": 744,
        "column": 11
      },
      {
        "id": "==",
        "value": "==",
        "line": 744,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "inv_per_year_catnaics2",
        "line": 744,
        "column": 34
      }
    ],
    "if": [
      {
        "id": "!",
        "value": "!",
        "line": 744,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 744,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "inv_per_year_catnaics",
        "line": 744,
        "column": 69
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 745,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 745,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "inv_per_year_catnaics",
        "line": 745,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 746,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rename",
        "line": 746,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "inv_per_year_catnaics2",
        "line": 746,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inv_per_year_catnaics",
        "line": 746,
        "column": 34
      }
    ]
  },
  {
    "id": "comment",
    "value": "*CAUTION: Remember that CZ-level data uses patents, whereas NAICS-level data uses inventors (but could use patents if desired).",
    "line": 748,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 749,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz_zero",
        "line": 749,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 749,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 749,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 750,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "naics_zero",
        "line": 750,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "inv_per_year_classnaics",
        "line": 750,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "pat_per_year_classnaics",
        "line": 750,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "inv_per_year_scatnaics",
        "line": 750,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "inv_per_year_catnaics",
        "line": 750,
        "column": 89
      },
      {
        "id": "identifier",
        "value": "inv_per_year_naics",
        "line": 750,
        "column": 111
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 751,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 751,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 751,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 751,
        "column": 16
      },
      {
        "id": "`'",
        "value": "``environ'",
        "line": 751,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "_zero",
        "line": 751,
        "column": 34
      },
      {
        "id": "'",
        "value": "'",
        "line": 751,
        "column": 39
      },
      {
        "id": "{",
        "value": "{",
        "line": 751,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 752,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 752,
        "column": 4
      },
      {
        "id": "!",
        "value": "!",
        "line": 752,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 752,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 752,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 752,
        "column": 30
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 752,
        "column": 36
      },
      {
        "id": "number",
        "value": "1",
        "line": 752,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 753,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 753,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 753,
        "column": 12
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 753,
        "column": 18
      }
    ],
    "if": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 753,
        "column": 23
      },
      {
        "id": "==",
        "value": "==",
        "line": 753,
        "column": 28
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 753,
        "column": 30
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Optional: Keep an indicator for not merging to industry data. After restricting on naics_size, at least some of these will drop out.",
    "line": 755,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*gen no_industry=(_merge==1)",
    "line": 756,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 757,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 757,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 757,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 757,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 757,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 757,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_class",
        "line": 757,
        "column": 34
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 757,
        "column": 51
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 757,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 757,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_class",
        "line": 757,
        "column": 81
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 757,
        "column": 102
      },
      {
        "id": "`'",
        "value": "``environ'",
        "line": 757,
        "column": 112
      },
      {
        "id": "identifier",
        "value": "_zero",
        "line": 757,
        "column": 122
      },
      {
        "id": "'",
        "value": "'",
        "line": 757,
        "column": 127
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Step 3: Generate and standardize variables.",
    "line": 759,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "if",
      "line": 760,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"`environ'\"",
        "line": 760,
        "column": 4
      },
      {
        "id": "==",
        "value": "==",
        "line": 760,
        "column": 15
      },
      {
        "id": "string",
        "value": "\"naics\"",
        "line": 760,
        "column": 17
      },
      {
        "id": "{",
        "value": "{",
        "line": 760,
        "column": 25
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Merge NAICS size onto the data.",
    "line": 761,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 762,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "merge",
        "line": 762,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 762,
        "column": 10
      },
      {
        "id": ":",
        "value": ":",
        "line": 762,
        "column": 11
      },
      {
        "id": "number",
        "value": "1",
        "line": 762,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 762,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 762,
        "column": 24
      },
      {
        "id": "`'",
        "value": "`naics_denominator'",
        "line": 762,
        "column": 30
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Note that _merge==2 identifies naics that are not in the kids file, so we drop them.  ",
    "line": 763,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 764,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 764,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 764,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 764,
        "column": 18
      },
      {
        "id": "number",
        "value": "2",
        "line": 764,
        "column": 20
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Some of the kid-industry merged data has NAICS codes that are not matched.",
    "line": 765,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Our CDW sample is not exhaustive, but it is highly likely that these are very small NAICS.",
    "line": 766,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*We can at least check that these NAICS have few inventors in both the kid and industry data.",
    "line": 767,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 768,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 768,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "inv_per_year_classnaics",
        "line": 768,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_classnaics",
        "line": 768,
        "column": 32
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 768,
        "column": 58
      },
      {
        "id": "==",
        "value": "==",
        "line": 768,
        "column": 64
      },
      {
        "id": "number",
        "value": "1",
        "line": 768,
        "column": 66
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 769,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 769,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "inv_per_year_classnaics",
        "line": 769,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_classnaics",
        "line": 769,
        "column": 32
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 769,
        "column": 58
      },
      {
        "id": "==",
        "value": "==",
        "line": 769,
        "column": 64
      },
      {
        "id": "number",
        "value": "3",
        "line": 769,
        "column": 66
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Without naics_size, we cannot form the right-hand side variables, so merge==1 must be dropped.",
    "line": 770,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 771,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 771,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 771,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 771,
        "column": 18
      },
      {
        "id": "number",
        "value": "1",
        "line": 771,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 772,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 772,
        "column": 4
      },
      {
        "id": "!",
        "value": "!",
        "line": 772,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 772,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "naics_size",
        "line": 772,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 773,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 773,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "_merge",
        "line": 773,
        "column": 9
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Restrict to naics of 50,000 or above for the entire analysis.",
    "line": 774,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 775,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 775,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "naics_size",
        "line": 775,
        "column": 12
      },
      {
        "id": "<",
        "value": "<",
        "line": 775,
        "column": 22
      },
      {
        "id": "number",
        "value": "50000",
        "line": 775,
        "column": 23
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Set the units of the dependent variable.",
    "line": 776,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 777,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "unit",
        "line": 777,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "inv",
        "line": 777,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 778,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "denom",
        "line": 778,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "naics_size",
        "line": 778,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "if",
      "line": 780,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"`environ'\"",
        "line": 780,
        "column": 4
      },
      {
        "id": "==",
        "value": "==",
        "line": 780,
        "column": 15
      },
      {
        "id": "string",
        "value": "\"cz\"",
        "line": 780,
        "column": 17
      },
      {
        "id": "{",
        "value": "{",
        "line": 780,
        "column": 22
      }
    ]
  },
  {
    "id": "comment",
    "value": "*The patents variable is a count within each class-cz over ten years. Annualize this. ",
    "line": 781,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 782,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 782,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pat_per_year_classcz",
        "line": 782,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "patents",
        "line": 782,
        "column": 29
      },
      {
        "id": "/",
        "value": "/",
        "line": 782,
        "column": 36
      },
      {
        "id": "number",
        "value": "10",
        "line": 782,
        "column": 37
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 783,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "bys",
        "line": 783,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 783,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 783,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 783,
        "column": 15
      },
      {
        "id": ":",
        "value": ":",
        "line": 783,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 783,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "pat_per_year_scatcz",
        "line": 783,
        "column": 26
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 783,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "pat_per_year_classcz",
        "line": 783,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 784,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "bys",
        "line": 784,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 784,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 784,
        "column": 11
      },
      {
        "id": ":",
        "value": ":",
        "line": 784,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 784,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "pat_per_year_catcz",
        "line": 784,
        "column": 21
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 784,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "pat_per_year_classcz",
        "line": 784,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 785,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "bys",
        "line": 785,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 785,
        "column": 8
      },
      {
        "id": ":",
        "value": ":",
        "line": 785,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 785,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "pat_per_year_cz",
        "line": 785,
        "column": 17
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 785,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "pat_per_year_classcz",
        "line": 785,
        "column": 39
      }
    ]
  },
  {
    "id": "comment",
    "value": "//Restrict to CZs of 50,000 or above for the entire analysis. (Loses 4-5% of population; Raj confirms an analogous cut was made in Moverssays this would just be noise because it won't be precisely estimated.)",
    "line": 786,
    "column": 1
  },
  {
    "id": "comment",
    "value": "//\t\t update : AB commenting this CZ population restriction out on may 30 2017",
    "line": 787,
    "column": 1
  },
  {
    "id": "comment",
    "value": "//pe drop if workingage_pop1990<50000",
    "line": 788,
    "column": 3
  },
  {
    "id": "comment",
    "value": "*Set the units of the dependent variable.",
    "line": 789,
    "column": 3
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 790,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "unit",
        "line": 790,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "pat",
        "line": 790,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 791,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "denom",
        "line": 791,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 791,
        "column": 13
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of inventors (patents) per year in the same naics(cz)-class as a share of average annual employment in dad's NAICS (CZ population). ",
    "line": 793,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 794,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 794,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 794,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 794,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "_in_class",
        "line": 794,
        "column": 18
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 794,
        "column": 27
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`unit'",
        "line": 794,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "_per_year_class",
        "line": 794,
        "column": 43
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 794,
        "column": 58
      },
      {
        "id": "/",
        "value": "/",
        "line": 794,
        "column": 67
      },
      {
        "id": "`'",
        "value": "`denom'",
        "line": 794,
        "column": 68
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of inventors (patents) per year not in the same naics(cz)-class but still in the same naics(cz)-subcategory as a share of average annual employment in dad's NAICS (CZ population).",
    "line": 795,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 796,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 796,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 796,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 796,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "_in_scat",
        "line": 796,
        "column": 18
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 796,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "_oclass",
        "line": 796,
        "column": 35
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`unit'",
        "line": 796,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "_per_year_scat",
        "line": 796,
        "column": 50
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 796,
        "column": 64
      },
      {
        "id": "-",
        "value": "-",
        "line": 796,
        "column": 73
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 796,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "_per_year_class",
        "line": 796,
        "column": 80
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 796,
        "column": 95
      },
      {
        "id": "/",
        "value": "/",
        "line": 796,
        "column": 105
      },
      {
        "id": "`'",
        "value": "`denom'",
        "line": 796,
        "column": 106
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of inventors (patents) per year not in the same naics(cz)-subcategory but still in the same naics(cz)-category as a share of average annual employment in dad's NAICS (CZ population).",
    "line": 797,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 798,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 798,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 798,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 798,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "_in_cat",
        "line": 798,
        "column": 18
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 798,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "_oscat",
        "line": 798,
        "column": 34
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`unit'",
        "line": 798,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "_per_year_cat",
        "line": 798,
        "column": 48
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 798,
        "column": 61
      },
      {
        "id": "-",
        "value": "-",
        "line": 798,
        "column": 70
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 798,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "_per_year_scat",
        "line": 798,
        "column": 77
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 798,
        "column": 91
      },
      {
        "id": "/",
        "value": "/",
        "line": 798,
        "column": 101
      },
      {
        "id": "`'",
        "value": "`denom'",
        "line": 798,
        "column": 102
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of inventors (patents) per year not in the same naics(cz)-category but still in the same naics(cz) as a share of average annual employment in dad's NAICS (CZ population).",
    "line": 799,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 800,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 800,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 800,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 800,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 800,
        "column": 18
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 800,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "_ocat",
        "line": 800,
        "column": 31
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`unit'",
        "line": 800,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "_per_year_",
        "line": 800,
        "column": 44
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 800,
        "column": 54
      },
      {
        "id": "-",
        "value": "-",
        "line": 800,
        "column": 63
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 800,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "_per_year_cat",
        "line": 800,
        "column": 70
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 800,
        "column": 83
      },
      {
        "id": "/",
        "value": "/",
        "line": 800,
        "column": 93
      },
      {
        "id": "`'",
        "value": "`denom'",
        "line": 800,
        "column": 94
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 801,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "compress",
        "line": 801,
        "column": 4
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 802,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "save",
        "line": 802,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "naics_distance_intermed",
        "line": 802,
        "column": 9
      },
      {
        "id": "/",
        "value": "/",
        "line": 802,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "kid_",
        "line": 802,
        "column": 33
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 802,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "_balanced_$",
        "line": 802,
        "column": 46
      },
      {
        "id": "{",
        "value": "{",
        "line": 802,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 802,
        "column": 58
      },
      {
        "id": "}",
        "value": "}",
        "line": 802,
        "column": 59
      },
      {
        "id": "identifier",
        "value": ".dta",
        "line": 802,
        "column": 60
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 802,
        "column": 66
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Prepare small dataset for later merge to related_class for establishing weight in nearby classes.",
    "line": 803,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "preserve",
      "line": 804,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 805,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 805,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 805,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 805,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 805,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "_per_year_class",
        "line": 805,
        "column": 31
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 805,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 806,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rename",
        "line": 806,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 806,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "related_class",
        "line": 806,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 807,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rename",
        "line": 807,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 807,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "_per_year_class",
        "line": 807,
        "column": 17
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 807,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "related_",
        "line": 807,
        "column": 42
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 807,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "_per_year_class",
        "line": 807,
        "column": 56
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 807,
        "column": 71
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tempfile",
      "line": 808,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "related",
        "line": 808,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 809,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "save",
        "line": 809,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`related'",
        "line": 809,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "restore",
      "line": 810,
      "column": 1
    }
  },
  {
    "id": "comment",
    "value": "*Step 4: Merge kids' file to distance file",
    "line": 812,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Data will be one line per naics(cz)-class-related class (strongly balanced)",
    "line": 813,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 814,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "joinby",
        "line": 814,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 814,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 814,
        "column": 17
      },
      {
        "id": "`'",
        "value": "`patpath'",
        "line": 814,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 814,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "class_distance",
        "line": 814,
        "column": 33
      },
      {
        "id": "/",
        "value": "/",
        "line": 814,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "class_distance_inside_v2",
        "line": 814,
        "column": 48
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "unmatched",
        "line": 814,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "both",
        "line": 814,
        "column": 84
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 815,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tab",
        "line": 815,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "_merge",
        "line": 815,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 816,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tab",
        "line": 816,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 816,
        "column": 8
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 816,
        "column": 17
      },
      {
        "id": "==",
        "value": "==",
        "line": 816,
        "column": 23
      },
      {
        "id": "number",
        "value": "1",
        "line": 816,
        "column": 25
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Before we strongly balanced this, nearly all observations from master (naics) were matched; the only unmatched were from non-existant category 001 ",
    "line": 817,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* or from categories 147 and 449, which lack cross-patenting and thus cannot have distance calculated.",
    "line": 818,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 819,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 819,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 819,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 819,
        "column": 18
      },
      {
        "id": "number",
        "value": "1",
        "line": 819,
        "column": 20
      }
    ]
  },
  {
    "id": "comment",
    "value": "*There should be no _merge==2 after strongly balancing.",
    "line": 820,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 821,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 821,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "_merge",
        "line": 821,
        "column": 11
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 821,
        "column": 17
      },
      {
        "id": "number",
        "value": "2",
        "line": 821,
        "column": 19
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "rc0",
        "line": 821,
        "column": 22
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Even if there were _merge==2, since we do not have kids_10 data (and thus `environ', kids_inv_in_class`environ', `environ'_size, etc.) to merge",
    "line": 822,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* with specific classes in the distance file, _merge==2 observations would not have RHS variables.",
    "line": 823,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 824,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 824,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "_merge",
        "line": 824,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 824,
        "column": 18
      },
      {
        "id": "number",
        "value": "2",
        "line": 824,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 825,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 825,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "_merge",
        "line": 825,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "num_inclass",
        "line": 825,
        "column": 16
      },
      {
        "id": "-",
        "value": "-",
        "line": 825,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "class_size",
        "line": 825,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 826,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 826,
        "column": 4
      },
      {
        "id": "!",
        "value": "!",
        "line": 826,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 826,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 826,
        "column": 20
      },
      {
        "id": ",",
        "value": ",",
        "line": 826,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 826,
        "column": 30
      },
      {
        "id": ",",
        "value": ",",
        "line": 826,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "related_class",
        "line": 826,
        "column": 36
      },
      {
        "id": ",",
        "value": ",",
        "line": 826,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_class",
        "line": 826,
        "column": 50
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 826,
        "column": 67
      },
      {
        "id": ",",
        "value": ",",
        "line": 826,
        "column": 76
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 826,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 826,
        "column": 86
      },
      {
        "id": ",",
        "value": ",",
        "line": 826,
        "column": 96
      },
      {
        "id": "`'",
        "value": "`denom'",
        "line": 826,
        "column": 97
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Create analogues for subcategory and category so that we can look at patenting at related levels.",
    "line": 828,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Note that distance_rank begins at 0 and counts upward, so the 11th observation has distance_rank of 10, etc.",
    "line": 829,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 830,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "merge",
        "line": 830,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 830,
        "column": 10
      },
      {
        "id": ":",
        "value": ":",
        "line": 830,
        "column": 11
      },
      {
        "id": "number",
        "value": "1",
        "line": 830,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 830,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "related_class",
        "line": 830,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 830,
        "column": 38
      },
      {
        "id": "`'",
        "value": "`related'",
        "line": 830,
        "column": 44
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 830,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "keep",
        "line": 830,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 830,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 830,
        "column": 72
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 831,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sort",
        "line": 831,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 831,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 831,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "distance_rank",
        "line": 831,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 832,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "by",
        "line": 832,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 832,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 832,
        "column": 17
      },
      {
        "id": ":",
        "value": ":",
        "line": 832,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 832,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "run_sum",
        "line": 832,
        "column": 28
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 832,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "related_",
        "line": 832,
        "column": 40
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 832,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "_per_year_class",
        "line": 832,
        "column": 54
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 832,
        "column": 69
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 833,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "i",
        "line": 833,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 833,
        "column": 13
      },
      {
        "id": "number",
        "value": "10",
        "line": 833,
        "column": 15
      },
      {
        "id": "number",
        "value": "91",
        "line": 833,
        "column": 18
      },
      {
        "id": "{",
        "value": "{",
        "line": 833,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 834,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ip9",
        "line": 834,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 834,
        "column": 11
      },
      {
        "id": "+",
        "value": "+",
        "line": 834,
        "column": 14
      },
      {
        "id": "number",
        "value": "9",
        "line": 834,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 835,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ip10",
        "line": 835,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 835,
        "column": 12
      },
      {
        "id": "+",
        "value": "+",
        "line": 835,
        "column": 15
      },
      {
        "id": "number",
        "value": "10",
        "line": 835,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 836,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "by",
        "line": 836,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 836,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 836,
        "column": 17
      },
      {
        "id": ":",
        "value": ":",
        "line": 836,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 836,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "pct_in_",
        "line": 836,
        "column": 28
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 836,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "_to_",
        "line": 836,
        "column": 38
      },
      {
        "id": "`'",
        "value": "`ip9'",
        "line": 836,
        "column": 42
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "run_sum",
        "line": 836,
        "column": 49
      },
      {
        "id": "[",
        "value": "[",
        "line": 836,
        "column": 56
      },
      {
        "id": "`'",
        "value": "`ip10'",
        "line": 836,
        "column": 57
      },
      {
        "id": "]",
        "value": "]",
        "line": 836,
        "column": 63
      },
      {
        "id": "-",
        "value": "-",
        "line": 836,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "run_sum",
        "line": 836,
        "column": 65
      },
      {
        "id": "[",
        "value": "[",
        "line": 836,
        "column": 72
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 836,
        "column": 73
      },
      {
        "id": "]",
        "value": "]",
        "line": 836,
        "column": 76
      },
      {
        "id": "/",
        "value": "/",
        "line": 836,
        "column": 78
      },
      {
        "id": "`'",
        "value": "`denom'",
        "line": 836,
        "column": 79
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 838,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 838,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "run_sum",
        "line": 838,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 839,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "compress",
        "line": 839,
        "column": 4
      }
    ]
  },
  {
    "id": "comment",
    "value": "* To reduce use of finite memory resources, implement the distance restriction before running regressions.",
    "line": 840,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 841,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 841,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "distance_rank",
        "line": 841,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 841,
        "column": 25
      },
      {
        "id": "number",
        "value": "0",
        "line": 841,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 842,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "saveold",
        "line": 842,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "naics_distance_intermed",
        "line": 842,
        "column": 12
      },
      {
        "id": "/",
        "value": "/",
        "line": 842,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "distance_kid_",
        "line": 842,
        "column": 36
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 842,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "_balanced_$",
        "line": 842,
        "column": 58
      },
      {
        "id": "{",
        "value": "{",
        "line": 842,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 842,
        "column": 70
      },
      {
        "id": "}",
        "value": "}",
        "line": 842,
        "column": 71
      },
      {
        "id": "identifier",
        "value": ".dta",
        "line": 842,
        "column": 72
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 842,
        "column": 78
      }
    ]
  },
  {
    "id": "comment",
    "value": "*shell zip naics_distance/intermed/distance_kid_`environ'_balanced_${v}.zip `environ'_distance/intermed/distance_kid_`environ'_balanced_${v}.dta &",
    "line": 843,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************ Intermediate File Saved Here ***********",
    "line": 845,
    "column": 2
  },
  {
    "id": "comment",
    "value": "*Step 5: Regression Analysis",
    "line": 847,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 848,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "naics_distance_intermed",
        "line": 848,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 848,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "distance_kid_",
        "line": 848,
        "column": 29
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 848,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "_balanced_$",
        "line": 848,
        "column": 51
      },
      {
        "id": "{",
        "value": "{",
        "line": 848,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 848,
        "column": 63
      },
      {
        "id": "}",
        "value": "}",
        "line": 848,
        "column": 64
      },
      {
        "id": "identifier",
        "value": ".dta",
        "line": 848,
        "column": 65
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "distance_rank",
        "line": 848,
        "column": 73
      },
      {
        "id": "==",
        "value": "==",
        "line": 848,
        "column": 86
      },
      {
        "id": "number",
        "value": "0",
        "line": 848,
        "column": 88
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 848,
        "column": 91
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "if",
      "line": 849,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"`environ'\"",
        "line": 849,
        "column": 4
      },
      {
        "id": "==",
        "value": "==",
        "line": 849,
        "column": 15
      },
      {
        "id": "string",
        "value": "\"naics\"",
        "line": 849,
        "column": 17
      },
      {
        "id": "{",
        "value": "{",
        "line": 849,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 850,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "unit",
        "line": 850,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "inv",
        "line": 850,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 851,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "denom",
        "line": 851,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "naics_size",
        "line": 851,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "if",
      "line": 853,
      "column": 1
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"`environ'\"",
        "line": 853,
        "column": 4
      },
      {
        "id": "==",
        "value": "==",
        "line": 853,
        "column": 15
      },
      {
        "id": "string",
        "value": "\"cz\"",
        "line": 853,
        "column": 17
      },
      {
        "id": "{",
        "value": "{",
        "line": 853,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 854,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "unit",
        "line": 854,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "pat",
        "line": 854,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 855,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "denom",
        "line": 855,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 855,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 857,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "eststo",
        "line": 857,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "clear",
        "line": 857,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 858,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cond",
        "line": 858,
        "column": 7
      },
      {
        "id": "string",
        "value": "\"\"",
        "line": 858,
        "column": 12
      }
    ]
  },
  {
    "id": "comment",
    "value": "*local cond \" & pct_`unit'_in_class`environ'<.00166667\"",
    "line": 859,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 860,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 860,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "C",
        "line": 860,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "J",
        "line": 860,
        "column": 13
      },
      {
        "id": "number",
        "value": "11",
        "line": 860,
        "column": 15
      },
      {
        "id": ",",
        "value": ",",
        "line": 860,
        "column": 17
      },
      {
        "id": "number",
        "value": "2",
        "line": 860,
        "column": 18
      },
      {
        "id": ",",
        "value": ",",
        "line": 860,
        "column": 19
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 860,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 861,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "eststo",
        "line": 861,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "f7_4",
        "line": 861,
        "column": 11
      },
      {
        "id": ":",
        "value": ":",
        "line": 861,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "areg",
        "line": 861,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_class",
        "line": 861,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 861,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 861,
        "column": 53
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 861,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "_in_class",
        "line": 861,
        "column": 63
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 861,
        "column": 72
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 861,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 861,
        "column": 94
      },
      {
        "id": "]",
        "value": "]",
        "line": 861,
        "column": 104
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 861,
        "column": 106
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 861,
        "column": 83
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 861,
        "column": 114
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 861,
        "column": 116
      },
      {
        "id": "identifier",
        "value": "cluster",
        "line": 861,
        "column": 123
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 861,
        "column": 131
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 862,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 862,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_class",
        "line": 862,
        "column": 9
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 862,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 862,
        "column": 40
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 862,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "_in_class",
        "line": 862,
        "column": 50
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 862,
        "column": 59
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 862,
        "column": 72
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 862,
        "column": 81
      },
      {
        "id": "]",
        "value": "]",
        "line": 862,
        "column": 91
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 862,
        "column": 96
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 862,
        "column": 98
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 862,
        "column": 70
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 863,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 863,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "C",
        "line": 863,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_b",
        "line": 863,
        "column": 18
      }
    ],
    "weight": [
      {
        "id": "number",
        "value": "1",
        "line": 863,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 863,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 863,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "_in_class",
        "line": 863,
        "column": 31
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 863,
        "column": 40
      },
      {
        "id": "]",
        "value": "]",
        "line": 863,
        "column": 49
      }
    ],
    "options": [
      {
        "id": "number",
        "value": "1",
        "line": 863,
        "column": 15
      },
      {
        "id": "]",
        "value": "]",
        "line": 863,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 864,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 864,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "C",
        "line": 864,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_se",
        "line": 864,
        "column": 18
      }
    ],
    "weight": [
      {
        "id": "number",
        "value": "1",
        "line": 864,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 864,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 864,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "_in_class",
        "line": 864,
        "column": 32
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 864,
        "column": 41
      },
      {
        "id": "]",
        "value": "]",
        "line": 864,
        "column": 50
      }
    ],
    "options": [
      {
        "id": "number",
        "value": "2",
        "line": 864,
        "column": 15
      },
      {
        "id": "]",
        "value": "]",
        "line": 864,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "f7_5",
      "line": 865,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 865,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 865,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "areg",
        "line": 865,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_class",
        "line": 865,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 865,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 865,
        "column": 50
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 865,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "_in_class",
        "line": 865,
        "column": 60
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 865,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 865,
        "column": 79
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 865,
        "column": 83
      },
      {
        "id": "identifier",
        "value": "_in_scat",
        "line": 865,
        "column": 89
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 865,
        "column": 97
      },
      {
        "id": "identifier",
        "value": "_oclass",
        "line": 865,
        "column": 106
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 865,
        "column": 114
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 865,
        "column": 118
      },
      {
        "id": "identifier",
        "value": "_in_cat",
        "line": 865,
        "column": 124
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 865,
        "column": 131
      },
      {
        "id": "identifier",
        "value": "_oscat",
        "line": 865,
        "column": 140
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 865,
        "column": 147
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 865,
        "column": 151
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 865,
        "column": 157
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 865,
        "column": 161
      },
      {
        "id": "identifier",
        "value": "_ocat",
        "line": 865,
        "column": 170
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 865,
        "column": 179
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 865,
        "column": 188
      },
      {
        "id": "]",
        "value": "]",
        "line": 865,
        "column": 198
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 865,
        "column": 203
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 865,
        "column": 205
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 865,
        "column": 177
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 865,
        "column": 213
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 865,
        "column": 215
      },
      {
        "id": "identifier",
        "value": "cluster",
        "line": 865,
        "column": 222
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 865,
        "column": 230
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 866,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 866,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_class",
        "line": 866,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 866,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 866,
        "column": 39
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 866,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "_in_class",
        "line": 866,
        "column": 49
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 866,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 866,
        "column": 68
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 866,
        "column": 72
      },
      {
        "id": "identifier",
        "value": "_in_scat",
        "line": 866,
        "column": 78
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 866,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "_oclass",
        "line": 866,
        "column": 95
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 866,
        "column": 103
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 866,
        "column": 107
      },
      {
        "id": "identifier",
        "value": "_in_cat",
        "line": 866,
        "column": 113
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 866,
        "column": 120
      },
      {
        "id": "identifier",
        "value": "_oscat",
        "line": 866,
        "column": 129
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 866,
        "column": 136
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 866,
        "column": 140
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 866,
        "column": 146
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 866,
        "column": 150
      },
      {
        "id": "identifier",
        "value": "_ocat",
        "line": 866,
        "column": 159
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 866,
        "column": 168
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 866,
        "column": 177
      },
      {
        "id": "]",
        "value": "]",
        "line": 866,
        "column": 187
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 866,
        "column": 192
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 866,
        "column": 194
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 866,
        "column": 166
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forvalues",
      "line": 867,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "i",
        "line": 867,
        "column": 12
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1",
        "line": 867,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 867,
        "column": 15
      },
      {
        "id": "number",
        "value": "10",
        "line": 867,
        "column": 16
      },
      {
        "id": "{",
        "value": "{",
        "line": 867,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 868,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "j",
        "line": 868,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 868,
        "column": 10
      },
      {
        "id": "-",
        "value": "-",
        "line": 868,
        "column": 13
      },
      {
        "id": "number",
        "value": "1",
        "line": 868,
        "column": 14
      },
      {
        "id": "*",
        "value": "*",
        "line": 868,
        "column": 16
      },
      {
        "id": "number",
        "value": "10",
        "line": 868,
        "column": 17
      },
      {
        "id": "+",
        "value": "+",
        "line": 868,
        "column": 19
      },
      {
        "id": "number",
        "value": "1",
        "line": 868,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 869,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "k",
        "line": 869,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 869,
        "column": 9
      },
      {
        "id": "*",
        "value": "*",
        "line": 869,
        "column": 12
      },
      {
        "id": "number",
        "value": "10",
        "line": 869,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 870,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "l",
        "line": 870,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`i'",
        "line": 870,
        "column": 9
      },
      {
        "id": "+",
        "value": "+",
        "line": 870,
        "column": 12
      },
      {
        "id": "number",
        "value": "1",
        "line": 870,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 871,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "eststo",
        "line": 871,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "f8_1_",
        "line": 871,
        "column": 11
      },
      {
        "id": "`'",
        "value": "`i'",
        "line": 871,
        "column": 16
      },
      {
        "id": ":",
        "value": ":",
        "line": 871,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "areg",
        "line": 871,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_class",
        "line": 871,
        "column": 26
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 871,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "pct_in_",
        "line": 871,
        "column": 57
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 871,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "_to_",
        "line": 871,
        "column": 67
      },
      {
        "id": "`'",
        "value": "`k'",
        "line": 871,
        "column": 71
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 871,
        "column": 78
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 871,
        "column": 87
      },
      {
        "id": "]",
        "value": "]",
        "line": 871,
        "column": 97
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 871,
        "column": 102
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 871,
        "column": 104
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 871,
        "column": 76
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 871,
        "column": 112
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 871,
        "column": 114
      },
      {
        "id": "identifier",
        "value": "cluster",
        "line": 871,
        "column": 121
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 871,
        "column": 129
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 872,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 872,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "C",
        "line": 872,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_b",
        "line": 872,
        "column": 20
      }
    ],
    "weight": [
      {
        "id": "`'",
        "value": "`l'",
        "line": 872,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "pct_in_",
        "line": 872,
        "column": 23
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 872,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "_to_",
        "line": 872,
        "column": 33
      },
      {
        "id": "`'",
        "value": "`k'",
        "line": 872,
        "column": 37
      },
      {
        "id": "]",
        "value": "]",
        "line": 872,
        "column": 40
      }
    ],
    "options": [
      {
        "id": "number",
        "value": "1",
        "line": 872,
        "column": 17
      },
      {
        "id": "]",
        "value": "]",
        "line": 872,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 873,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 873,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "C",
        "line": 873,
        "column": 11
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_se",
        "line": 873,
        "column": 20
      }
    ],
    "weight": [
      {
        "id": "`'",
        "value": "`l'",
        "line": 873,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "pct_in_",
        "line": 873,
        "column": 24
      },
      {
        "id": "`'",
        "value": "`j'",
        "line": 873,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "_to_",
        "line": 873,
        "column": 34
      },
      {
        "id": "`'",
        "value": "`k'",
        "line": 873,
        "column": 38
      },
      {
        "id": "]",
        "value": "]",
        "line": 873,
        "column": 41
      }
    ],
    "options": [
      {
        "id": "number",
        "value": "2",
        "line": 873,
        "column": 17
      },
      {
        "id": "]",
        "value": "]",
        "line": 873,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 875,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "matrix",
        "line": 875,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "list",
        "line": 875,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "C",
        "line": 875,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 876,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 876,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_class",
        "line": 876,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 876,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 876,
        "column": 39
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 876,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "_in_class",
        "line": 876,
        "column": 49
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 876,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 876,
        "column": 68
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 876,
        "column": 72
      },
      {
        "id": "identifier",
        "value": "_in_scat",
        "line": 876,
        "column": 78
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 876,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "_oclass",
        "line": 876,
        "column": 95
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 876,
        "column": 103
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 876,
        "column": 107
      },
      {
        "id": "identifier",
        "value": "_in_cat",
        "line": 876,
        "column": 113
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 876,
        "column": 120
      },
      {
        "id": "identifier",
        "value": "_oscat",
        "line": 876,
        "column": 129
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 876,
        "column": 136
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 876,
        "column": 140
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 876,
        "column": 146
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 876,
        "column": 150
      },
      {
        "id": "identifier",
        "value": "_ocat",
        "line": 876,
        "column": 159
      },
      {
        "id": "identifier",
        "value": "pct_in_",
        "line": 876,
        "column": 165
      },
      {
        "id": "*",
        "value": "*",
        "line": 876,
        "column": 172
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 876,
        "column": 177
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 876,
        "column": 186
      },
      {
        "id": "]",
        "value": "]",
        "line": 876,
        "column": 196
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 876,
        "column": 201
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 876,
        "column": 203
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 876,
        "column": 175
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 878,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "eststo",
        "line": 878,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "f8_1_0",
        "line": 878,
        "column": 11
      },
      {
        "id": ":",
        "value": ":",
        "line": 878,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "areg",
        "line": 878,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_class",
        "line": 878,
        "column": 24
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 878,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 878,
        "column": 55
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 878,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "_in_class",
        "line": 878,
        "column": 65
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 878,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "pct_in_",
        "line": 878,
        "column": 84
      },
      {
        "id": "*",
        "value": "*",
        "line": 878,
        "column": 91
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 878,
        "column": 96
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 878,
        "column": 105
      },
      {
        "id": "]",
        "value": "]",
        "line": 878,
        "column": 115
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 878,
        "column": 120
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 878,
        "column": 122
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 878,
        "column": 94
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 878,
        "column": 130
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 878,
        "column": 132
      },
      {
        "id": "identifier",
        "value": "cluster",
        "line": 878,
        "column": 139
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 878,
        "column": 147
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Prepare for collapses",
    "line": 879,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 880,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 880,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "related_class",
        "line": 880,
        "column": 9
      },
      {
        "id": "-",
        "value": "-",
        "line": 880,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "distance_rank",
        "line": 880,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "pct_in_",
        "line": 880,
        "column": 37
      },
      {
        "id": "*",
        "value": "*",
        "line": 880,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "_est_",
        "line": 880,
        "column": 46
      },
      {
        "id": "*",
        "value": "*",
        "line": 880,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "related_",
        "line": 880,
        "column": 53
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 880,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "_per_year_class",
        "line": 880,
        "column": 67
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 880,
        "column": 82
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 881,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "duplicates",
        "line": 881,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "report",
        "line": 881,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 882,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 882,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "r",
        "line": 882,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "unique_value",
        "line": 882,
        "column": 13
      },
      {
        "id": "==",
        "value": "==",
        "line": 882,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "r",
        "line": 882,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "N",
        "line": 882,
        "column": 30
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Collapse to subcategory-naics(cz) level, passing on subcat-naics(cz)-invariant variables through the by statement and summing relevant class-naics(cz) variables.",
    "line": 884,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 885,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "scat",
        "line": 885,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 885,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 885,
        "column": 20
      },
      {
        "id": "string",
        "value": "\"`environ' `denom' `environ'_size_kids scat cat `unit'_per_year_scat`environ' `unit'_per_year_cat`environ' `unit'_per_year_`environ'\"",
        "line": 885,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 886,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "a",
        "line": 886,
        "column": 9
      }
    ],
    "in": [
      {
        "id": "`'",
        "value": "`scat`environ'",
        "line": 886,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 886,
        "column": 28
      },
      {
        "id": "'",
        "value": "'",
        "line": 886,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 886,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 887,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 887,
        "column": 4
      },
      {
        "id": "!",
        "value": "!",
        "line": 887,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 887,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`a'",
        "line": 887,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 889,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sort",
        "line": 889,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`scat`environ'",
        "line": 889,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 889,
        "column": 23
      },
      {
        "id": "'",
        "value": "'",
        "line": 889,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 890,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "collapse",
        "line": 890,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 890,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_scat",
        "line": 890,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 890,
        "column": 35
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kids_inv_in_class",
        "line": 890,
        "column": 45
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 890,
        "column": 62
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 890,
        "column": 73
      },
      {
        "id": "`'",
        "value": "`scat`environ'",
        "line": 890,
        "column": 76
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 890,
        "column": 90
      },
      {
        "id": "'",
        "value": "'",
        "line": 890,
        "column": 95
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of kids who invent in a given subcategory as a share of all kids (including non-inventors).",
    "line": 891,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 892,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 892,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_scat",
        "line": 892,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 892,
        "column": 28
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kids_inv_in_scat",
        "line": 892,
        "column": 38
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 892,
        "column": 54
      },
      {
        "id": "/",
        "value": "/",
        "line": 892,
        "column": 63
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 892,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 892,
        "column": 73
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of inventors per year in the same naics(cz)-scat as a share of average annual employment in dad's NAICS. ",
    "line": 893,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 894,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 894,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 894,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 894,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "_in_scat",
        "line": 894,
        "column": 18
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 894,
        "column": 26
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`unit'",
        "line": 894,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "_per_year_scat",
        "line": 894,
        "column": 42
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 894,
        "column": 56
      },
      {
        "id": "/",
        "value": "/",
        "line": 894,
        "column": 65
      },
      {
        "id": "`'",
        "value": "`denom'",
        "line": 894,
        "column": 66
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 895,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "eststo",
        "line": 895,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "f7_3",
        "line": 895,
        "column": 11
      },
      {
        "id": ":",
        "value": ":",
        "line": 895,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "areg",
        "line": 895,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_scat",
        "line": 895,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 895,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 895,
        "column": 52
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 895,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "_in_scat",
        "line": 895,
        "column": 62
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 895,
        "column": 70
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 895,
        "column": 83
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 895,
        "column": 92
      },
      {
        "id": "]",
        "value": "]",
        "line": 895,
        "column": 102
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 895,
        "column": 107
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 895,
        "column": 109
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 895,
        "column": 81
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 895,
        "column": 117
      },
      {
        "id": "identifier",
        "value": "scat",
        "line": 895,
        "column": 119
      },
      {
        "id": "identifier",
        "value": "cluster",
        "line": 895,
        "column": 125
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 895,
        "column": 133
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 896,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 896,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_scat",
        "line": 896,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 896,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 896,
        "column": 38
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 896,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "_in_scat",
        "line": 896,
        "column": 48
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 896,
        "column": 56
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 896,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 896,
        "column": 78
      },
      {
        "id": "]",
        "value": "]",
        "line": 896,
        "column": 88
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 896,
        "column": 93
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 896,
        "column": 95
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 896,
        "column": 67
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Collapse to category-naics(cz) level, passing on cat-naics(cz)-invariant variables through the by statement and summing relevant scat-naics(cz) variables.",
    "line": 898,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 899,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cat",
        "line": 899,
        "column": 7
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 899,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 899,
        "column": 19
      },
      {
        "id": "string",
        "value": "\"`environ' `denom' `environ'_size_kids cat `unit'_per_year_cat`environ' `unit'_per_year_`environ'\"",
        "line": 899,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 900,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "a",
        "line": 900,
        "column": 9
      }
    ],
    "in": [
      {
        "id": "`'",
        "value": "`cat`environ'",
        "line": 900,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 900,
        "column": 27
      },
      {
        "id": "'",
        "value": "'",
        "line": 900,
        "column": 32
      },
      {
        "id": "{",
        "value": "{",
        "line": 900,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 901,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 901,
        "column": 4
      },
      {
        "id": "!",
        "value": "!",
        "line": 901,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 901,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`a'",
        "line": 901,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 903,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sort",
        "line": 903,
        "column": 4
      },
      {
        "id": "`'",
        "value": "`cat`environ'",
        "line": 903,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 903,
        "column": 22
      },
      {
        "id": "'",
        "value": "'",
        "line": 903,
        "column": 27
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 904,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "collapse",
        "line": 904,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 904,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_cat",
        "line": 904,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 904,
        "column": 34
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kids_inv_in_scat",
        "line": 904,
        "column": 44
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 904,
        "column": 60
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 904,
        "column": 71
      },
      {
        "id": "`'",
        "value": "`cat`environ'",
        "line": 904,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 904,
        "column": 87
      },
      {
        "id": "'",
        "value": "'",
        "line": 904,
        "column": 92
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of kids who invent in a given category as a share of all kids (including non-inventors).",
    "line": 905,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 906,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 906,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_cat",
        "line": 906,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 906,
        "column": 27
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kids_inv_in_cat",
        "line": 906,
        "column": 37
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 906,
        "column": 52
      },
      {
        "id": "/",
        "value": "/",
        "line": 906,
        "column": 61
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 906,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 906,
        "column": 71
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of inventors per year in the same naics(cz)-cat as a share of average annual employment in dad's NAICS. ",
    "line": 907,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 908,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 908,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 908,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 908,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "_in_cat",
        "line": 908,
        "column": 18
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 908,
        "column": 25
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`unit'",
        "line": 908,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "_per_year_cat",
        "line": 908,
        "column": 41
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 908,
        "column": 54
      },
      {
        "id": "/",
        "value": "/",
        "line": 908,
        "column": 63
      },
      {
        "id": "`'",
        "value": "`denom'",
        "line": 908,
        "column": 64
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 909,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "eststo",
        "line": 909,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "f7_2",
        "line": 909,
        "column": 11
      },
      {
        "id": ":",
        "value": ":",
        "line": 909,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "areg",
        "line": 909,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_cat",
        "line": 909,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 909,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 909,
        "column": 51
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 909,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "_in_cat",
        "line": 909,
        "column": 61
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 909,
        "column": 68
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 909,
        "column": 81
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 909,
        "column": 90
      },
      {
        "id": "]",
        "value": "]",
        "line": 909,
        "column": 100
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 909,
        "column": 105
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 909,
        "column": 107
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 909,
        "column": 79
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 909,
        "column": 115
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 909,
        "column": 117
      },
      {
        "id": "identifier",
        "value": "cluster",
        "line": 909,
        "column": 122
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 909,
        "column": 130
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 910,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 910,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_cat",
        "line": 910,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 910,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 910,
        "column": 37
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 910,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "_in_cat",
        "line": 910,
        "column": 47
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 910,
        "column": 54
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 910,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 910,
        "column": 76
      },
      {
        "id": "]",
        "value": "]",
        "line": 910,
        "column": 86
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 910,
        "column": 91
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 910,
        "column": 93
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 910,
        "column": 65
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Collapse to naics (cz) level, passing on naics(cz)-invariant variables through the by statement and summing relevant cat-naics(cz) variables.",
    "line": 912,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 913,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 913,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 913,
        "column": 16
      },
      {
        "id": "string",
        "value": "\"`environ' `denom' `environ'_size_kids `unit'_per_year_`environ'\"",
        "line": 913,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 914,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "a",
        "line": 914,
        "column": 9
      }
    ],
    "in": [
      {
        "id": "`'",
        "value": "``environ'",
        "line": 914,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 914,
        "column": 24
      },
      {
        "id": "'",
        "value": "'",
        "line": 914,
        "column": 29
      },
      {
        "id": "{",
        "value": "{",
        "line": 914,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 915,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "assert",
        "line": 915,
        "column": 4
      },
      {
        "id": "!",
        "value": "!",
        "line": 915,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 915,
        "column": 12
      },
      {
        "id": "`'",
        "value": "`a'",
        "line": 915,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 917,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sort",
        "line": 917,
        "column": 4
      },
      {
        "id": "`'",
        "value": "``environ'",
        "line": 917,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 917,
        "column": 19
      },
      {
        "id": "'",
        "value": "'",
        "line": 917,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 918,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "collapse",
        "line": 918,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "sum",
        "line": 918,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "kids_inv_in_",
        "line": 918,
        "column": 19
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 918,
        "column": 31
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kids_inv_in_cat",
        "line": 918,
        "column": 41
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 918,
        "column": 56
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 918,
        "column": 67
      },
      {
        "id": "`'",
        "value": "``environ'",
        "line": 918,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "_vars",
        "line": 918,
        "column": 80
      },
      {
        "id": "'",
        "value": "'",
        "line": 918,
        "column": 85
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of kids who invent in a given category as a share of all kids (including non-inventors).",
    "line": 919,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 920,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 920,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_",
        "line": 920,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 920,
        "column": 24
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kids_inv_in_",
        "line": 920,
        "column": 34
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 920,
        "column": 46
      },
      {
        "id": "/",
        "value": "/",
        "line": 920,
        "column": 55
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 920,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 920,
        "column": 65
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Calculate the number of inventors per year in the same naics (cz) as a share of average annual employment in dad's NAICS. ",
    "line": 921,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 922,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 922,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 922,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 922,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 922,
        "column": 18
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 922,
        "column": 22
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`unit'",
        "line": 922,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "_per_year_",
        "line": 922,
        "column": 38
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 922,
        "column": 48
      },
      {
        "id": "/",
        "value": "/",
        "line": 922,
        "column": 57
      },
      {
        "id": "`'",
        "value": "`denom'",
        "line": 922,
        "column": 58
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 923,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "eststo",
        "line": 923,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "f7_1",
        "line": 923,
        "column": 11
      },
      {
        "id": ":",
        "value": ":",
        "line": 923,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "reg",
        "line": 923,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_",
        "line": 923,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 923,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 923,
        "column": 47
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 923,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 923,
        "column": 57
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 923,
        "column": 61
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 923,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 923,
        "column": 83
      },
      {
        "id": "]",
        "value": "]",
        "line": 923,
        "column": 93
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 923,
        "column": 98
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 923,
        "column": 100
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 923,
        "column": 72
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "cluster",
        "line": 923,
        "column": 108
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 923,
        "column": 116
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 924,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 924,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_",
        "line": 924,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 924,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 924,
        "column": 34
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 924,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 924,
        "column": 44
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 924,
        "column": 48
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 924,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 924,
        "column": 70
      },
      {
        "id": "]",
        "value": "]",
        "line": 924,
        "column": 80
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 924,
        "column": 85
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 924,
        "column": 87
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 924,
        "column": 59
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Transform to log on both scales for Figure 6.",
    "line": 926,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 927,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 927,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "ln_pct_kids_inv_in_",
        "line": 927,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 927,
        "column": 27
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ln",
        "line": 927,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "pct_kids_inv_in_",
        "line": 927,
        "column": 40
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 927,
        "column": 56
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 928,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 928,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "ln_pct_",
        "line": 928,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 928,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 928,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 928,
        "column": 25
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ln",
        "line": 928,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "pct_",
        "line": 928,
        "column": 38
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 928,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 928,
        "column": 48
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 928,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 929,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "count",
        "line": 929,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "!",
        "value": "!",
        "line": 929,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 929,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "ln_pct_kids_inv_in_",
        "line": 929,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 929,
        "column": 41
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 929,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 930,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "count",
        "line": 930,
        "column": 4
      }
    ],
    "if": [
      {
        "id": "!",
        "value": "!",
        "line": 930,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 930,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "ln_pct_",
        "line": 930,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 930,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "_in_",
        "line": 930,
        "column": 35
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 930,
        "column": 39
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 930,
        "column": 50
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Kid Patent Rate in Father's Industry vs. Overall Patent Rate in Father's Industry ",
    "line": 932,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 933,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "binscatter",
        "line": 933,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "ln_pct_kids_inv",
        "line": 933,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "ln_pct_",
        "line": 933,
        "column": 31
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 933,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "_in",
        "line": 933,
        "column": 44
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 933,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 933,
        "column": 72
      },
      {
        "id": "]",
        "value": "]",
        "line": 933,
        "column": 82
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 933,
        "column": 51
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 933,
        "column": 53
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 933,
        "column": 61
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "xlabel",
        "line": 933,
        "column": 85
      },
      {
        "id": "-",
        "value": "-",
        "line": 933,
        "column": 92
      },
      {
        "id": "number",
        "value": "11",
        "line": 933,
        "column": 93
      },
      {
        "id": "number",
        "value": "2",
        "line": 933,
        "column": 96
      },
      {
        "id": "-",
        "value": "-",
        "line": 933,
        "column": 98
      },
      {
        "id": "number",
        "value": "5",
        "line": 933,
        "column": 99
      },
      {
        "id": "identifier",
        "value": "savegraph",
        "line": 933,
        "column": 102
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 933,
        "column": 112
      },
      {
        "id": "{",
        "value": "{",
        "line": 933,
        "column": 120
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 933,
        "column": 121
      },
      {
        "id": "}",
        "value": "}",
        "line": 933,
        "column": 122
      },
      {
        "id": "/",
        "value": "/",
        "line": 933,
        "column": 123
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 933,
        "column": 124
      },
      {
        "id": "identifier",
        "value": "_distance_f6.1_$",
        "line": 933,
        "column": 133
      },
      {
        "id": "{",
        "value": "{",
        "line": 933,
        "column": 149
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 933,
        "column": 150
      },
      {
        "id": "}",
        "value": "}",
        "line": 933,
        "column": 151
      },
      {
        "id": "identifier",
        "value": ".gph",
        "line": 933,
        "column": 152
      },
      {
        "id": "identifier",
        "value": "savedata",
        "line": 933,
        "column": 158
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 933,
        "column": 167
      },
      {
        "id": "{",
        "value": "{",
        "line": 933,
        "column": 175
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 933,
        "column": 176
      },
      {
        "id": "}",
        "value": "}",
        "line": 933,
        "column": 177
      },
      {
        "id": "/",
        "value": "/",
        "line": 933,
        "column": 178
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 933,
        "column": 179
      },
      {
        "id": "identifier",
        "value": "_distance_f6.1_$",
        "line": 933,
        "column": 188
      },
      {
        "id": "{",
        "value": "{",
        "line": 933,
        "column": 204
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 933,
        "column": 205
      },
      {
        "id": "}",
        "value": "}",
        "line": 933,
        "column": 206
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 933,
        "column": 209
      }
    ]
  },
  {
    "id": "comment",
    "value": "*Note that the binscatter above has only 19 obs because one of the observations has over 5% (1/20th) of the weight.",
    "line": 934,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 935,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "scatter",
        "line": 935,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "ln_pct_kids_inv",
        "line": 935,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "ln_pct_",
        "line": 935,
        "column": 28
      },
      {
        "id": "`'",
        "value": "`unit'",
        "line": 935,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "_in",
        "line": 935,
        "column": 41
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`environ'",
        "line": 935,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "_size_kids",
        "line": 935,
        "column": 69
      },
      {
        "id": "]",
        "value": "]",
        "line": 935,
        "column": 79
      }
    ],
    "if": [
      {
        "id": "number",
        "value": "1",
        "line": 935,
        "column": 48
      },
      {
        "id": "`'",
        "value": "`cond'",
        "line": 935,
        "column": 50
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 935,
        "column": 58
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "xlabel",
        "line": 935,
        "column": 82
      },
      {
        "id": "-",
        "value": "-",
        "line": 935,
        "column": 89
      },
      {
        "id": "number",
        "value": "11",
        "line": 935,
        "column": 90
      },
      {
        "id": "number",
        "value": "2",
        "line": 935,
        "column": 93
      },
      {
        "id": "-",
        "value": "-",
        "line": 935,
        "column": 95
      },
      {
        "id": "number",
        "value": "5",
        "line": 935,
        "column": 96
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 936,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "graph",
        "line": 936,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "save",
        "line": 936,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 936,
        "column": 15
      },
      {
        "id": "{",
        "value": "{",
        "line": 936,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 936,
        "column": 24
      },
      {
        "id": "}",
        "value": "}",
        "line": 936,
        "column": 25
      },
      {
        "id": "/",
        "value": "/",
        "line": 936,
        "column": 26
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 936,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "_distance_f6.1.1_$",
        "line": 936,
        "column": 36
      },
      {
        "id": "{",
        "value": "{",
        "line": 936,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 936,
        "column": 55
      },
      {
        "id": "}",
        "value": "}",
        "line": 936,
        "column": 56
      },
      {
        "id": "identifier",
        "value": ".gph",
        "line": 936,
        "column": 57
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 936,
        "column": 63
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Table of regressions.",
    "line": 938,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 939,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz_note",
        "line": 939,
        "column": 7
      },
      {
        "id": "string",
        "value": "\"Absorbing class; clustering by CZ; and excluding children who had a first application before age 23 or whose parent (either) is an inventor.\"",
        "line": 939,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 940,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "naics_note",
        "line": 940,
        "column": 7
      },
      {
        "id": "string",
        "value": "\"Restricting to naics_size over 50000; absorbing class; clustering by NAICS; and excluding children who had a first application before age 23 or whose parent (either) is an inventor.\"",
        "line": 940,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 941,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "esttab",
        "line": 941,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "f7_1",
        "line": 941,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "f7_2",
        "line": 941,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "f7_3",
        "line": 941,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "f7_4",
        "line": 941,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "f7_5",
        "line": 941,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 941,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 941,
        "column": 42
      },
      {
        "id": "{",
        "value": "{",
        "line": 941,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 941,
        "column": 51
      },
      {
        "id": "}",
        "value": "}",
        "line": 941,
        "column": 52
      },
      {
        "id": "/",
        "value": "/",
        "line": 941,
        "column": 53
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 941,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "_distance_f7_regression_$",
        "line": 941,
        "column": 63
      },
      {
        "id": "{",
        "value": "{",
        "line": 941,
        "column": 88
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 941,
        "column": 89
      },
      {
        "id": "}",
        "value": "}",
        "line": 941,
        "column": 90
      },
      {
        "id": "identifier",
        "value": ".csv",
        "line": 941,
        "column": 91
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 941,
        "column": 97
      },
      {
        "id": "identifier",
        "value": "se",
        "line": 941,
        "column": 105
      },
      {
        "id": "identifier",
        "value": "mtitles",
        "line": 941,
        "column": 108
      },
      {
        "id": "identifier",
        "value": "varwidth",
        "line": 941,
        "column": 116
      },
      {
        "id": "number",
        "value": "25",
        "line": 941,
        "column": 125
      },
      {
        "id": "identifier",
        "value": "modelwidth",
        "line": 941,
        "column": 129
      },
      {
        "id": "number",
        "value": "15",
        "line": 941,
        "column": 140
      },
      {
        "id": "identifier",
        "value": "title",
        "line": 941,
        "column": 144
      },
      {
        "id": "string",
        "value": "\"\"",
        "line": 941,
        "column": 150
      },
      {
        "id": "identifier",
        "value": "addnotes",
        "line": 941,
        "column": 154
      },
      {
        "id": "string",
        "value": "\"``environ'_note'\"",
        "line": 941,
        "column": 163
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 942,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "esttab",
        "line": 942,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "f8_1_1",
        "line": 942,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "f8_1_2",
        "line": 942,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "f8_1_3",
        "line": 942,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "f8_1_4",
        "line": 942,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "f8_1_5",
        "line": 942,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "f8_1_6",
        "line": 942,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "f8_1_7",
        "line": 942,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "f8_1_8",
        "line": 942,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "f8_1_9",
        "line": 942,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "f8_1_10",
        "line": 942,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 942,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 942,
        "column": 88
      },
      {
        "id": "{",
        "value": "{",
        "line": 942,
        "column": 96
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 942,
        "column": 97
      },
      {
        "id": "}",
        "value": "}",
        "line": 942,
        "column": 98
      },
      {
        "id": "/",
        "value": "/",
        "line": 942,
        "column": 99
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 942,
        "column": 100
      },
      {
        "id": "identifier",
        "value": "_distance_f7_regression_$",
        "line": 942,
        "column": 109
      },
      {
        "id": "{",
        "value": "{",
        "line": 942,
        "column": 134
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 942,
        "column": 135
      },
      {
        "id": "}",
        "value": "}",
        "line": 942,
        "column": 136
      },
      {
        "id": "identifier",
        "value": ".csv",
        "line": 942,
        "column": 137
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "append",
        "line": 942,
        "column": 143
      },
      {
        "id": "identifier",
        "value": "se",
        "line": 942,
        "column": 150
      },
      {
        "id": "identifier",
        "value": "mtitles",
        "line": 942,
        "column": 153
      },
      {
        "id": "identifier",
        "value": "varwidth",
        "line": 942,
        "column": 161
      },
      {
        "id": "number",
        "value": "25",
        "line": 942,
        "column": 170
      },
      {
        "id": "identifier",
        "value": "modelwidth",
        "line": 942,
        "column": 174
      },
      {
        "id": "number",
        "value": "15",
        "line": 942,
        "column": 185
      },
      {
        "id": "identifier",
        "value": "title",
        "line": 942,
        "column": 189
      },
      {
        "id": "string",
        "value": "\"\"",
        "line": 942,
        "column": 195
      },
      {
        "id": "identifier",
        "value": "addnotes",
        "line": 942,
        "column": 199
      },
      {
        "id": "string",
        "value": "\"``environ'_note'\"",
        "line": 942,
        "column": 208
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 943,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "esttab",
        "line": 943,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "f8_1_0",
        "line": 943,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 943,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 943,
        "column": 24
      },
      {
        "id": "{",
        "value": "{",
        "line": 943,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 943,
        "column": 33
      },
      {
        "id": "}",
        "value": "}",
        "line": 943,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 943,
        "column": 35
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 943,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "_distance_f7_regression_$",
        "line": 943,
        "column": 45
      },
      {
        "id": "{",
        "value": "{",
        "line": 943,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 943,
        "column": 71
      },
      {
        "id": "}",
        "value": "}",
        "line": 943,
        "column": 72
      },
      {
        "id": "identifier",
        "value": ".csv",
        "line": 943,
        "column": 73
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "append",
        "line": 943,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "se",
        "line": 943,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "mtitles",
        "line": 943,
        "column": 89
      },
      {
        "id": "identifier",
        "value": "varwidth",
        "line": 943,
        "column": 97
      },
      {
        "id": "number",
        "value": "25",
        "line": 943,
        "column": 106
      },
      {
        "id": "identifier",
        "value": "modelwidth",
        "line": 943,
        "column": 110
      },
      {
        "id": "number",
        "value": "15",
        "line": 943,
        "column": 121
      },
      {
        "id": "identifier",
        "value": "title",
        "line": 943,
        "column": 125
      },
      {
        "id": "string",
        "value": "\"\"",
        "line": 943,
        "column": 131
      },
      {
        "id": "identifier",
        "value": "addnotes",
        "line": 943,
        "column": 135
      },
      {
        "id": "string",
        "value": "\"``environ'_note'\"",
        "line": 943,
        "column": 144
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 944,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 944,
        "column": 4
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 945,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "svmat",
        "line": 945,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "C",
        "line": 945,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "pe",
      "line": 946,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "outsheet",
        "line": 946,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 946,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 946,
        "column": 19
      },
      {
        "id": "{",
        "value": "{",
        "line": 946,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 946,
        "column": 28
      },
      {
        "id": "}",
        "value": "}",
        "line": 946,
        "column": 29
      },
      {
        "id": "/",
        "value": "/",
        "line": 946,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "tables3and4_",
        "line": 946,
        "column": 31
      },
      {
        "id": "`'",
        "value": "`environ'",
        "line": 946,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "_distance_f8_matrix_$",
        "line": 946,
        "column": 52
      },
      {
        "id": "{",
        "value": "{",
        "line": 946,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 946,
        "column": 74
      },
      {
        "id": "}",
        "value": "}",
        "line": 946,
        "column": 75
      },
      {
        "id": "identifier",
        "value": ".csv",
        "line": 946,
        "column": 76
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 946,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "comma",
        "line": 946,
        "column": 90
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 948,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 948,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 952,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "..",
        "line": 952,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 952,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 952,
        "column": 8
      },
      {
        "id": "/",
        "value": "/",
        "line": 952,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 952,
        "column": 15
      },
      {
        "id": "/",
        "value": "/",
        "line": 952,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 952,
        "column": 36
      },
      {
        "id": "/",
        "value": "/",
        "line": 952,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 952,
        "column": 54
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 952,
        "column": 58
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 953,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 953,
        "column": 6
      },
      {
        "id": "{",
        "value": "{",
        "line": 953,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 953,
        "column": 15
      },
      {
        "id": "}",
        "value": "}",
        "line": 953,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 953,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "scalar_out",
        "line": 953,
        "column": 18
      },
      {
        "id": "/",
        "value": "/",
        "line": 953,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "czpatentingintensity",
        "line": 953,
        "column": 29
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 953,
        "column": 51
      }
    ]
  },
  {
    "id": "comment",
    "value": "***",
    "line": 955,
    "column": 1
  },
  {
    "id": "comment",
    "value": "** the \"one-off\" regressions for table 4",
    "line": 956,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***",
    "line": 957,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 958,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 958,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 958,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 959,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 959,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 959,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 959,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 959,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 959,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 959,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "exposure_oneoff",
        "line": 959,
        "column": 23
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "text",
        "line": 959,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 959,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 960,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "est",
          "line": 960,
          "column": 1
        }
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 961,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 961,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 961,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 961,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 961,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 961,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 961,
        "column": 21
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 961,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 961,
        "column": 34
      },
      {
        "id": ",",
        "value": ",",
        "line": 961,
        "column": 40
      },
      {
        "id": "number",
        "value": "1980",
        "line": 961,
        "column": 42
      },
      {
        "id": ",",
        "value": ",",
        "line": 961,
        "column": 46
      },
      {
        "id": "number",
        "value": "1984",
        "line": 961,
        "column": 48
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 961,
        "column": 55
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 962,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 962,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 962,
        "column": 17
      },
      {
        "id": "number",
        "value": "1",
        "line": 962,
        "column": 19
      },
      {
        "id": "|",
        "value": "|",
        "line": 962,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 962,
        "column": 23
      },
      {
        "id": "==",
        "value": "==",
        "line": 962,
        "column": 30
      },
      {
        "id": "number",
        "value": "1",
        "line": 962,
        "column": 32
      },
      {
        "id": "|",
        "value": "|",
        "line": 962,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 962,
        "column": 36
      },
      {
        "id": "==",
        "value": "==",
        "line": 962,
        "column": 43
      },
      {
        "id": "number",
        "value": "1",
        "line": 962,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 963,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 963,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 963,
        "column": 17
      }
    ]
  },
  {
    "id": "comment",
    "value": "// October 26 2017 changing this to use ONLY movers",
    "line": 964,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 965,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "cz",
        "line": 965,
        "column": 9
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 965,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 965,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 966,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 966,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 966,
        "column": 17
      },
      {
        "id": ",",
        "value": ",",
        "line": 966,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 966,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 967,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 967,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 967,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 967,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 967,
        "column": 34
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 967,
        "column": 43
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 967,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 967,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 967,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 967,
        "column": 71
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 968,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 968,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 968,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 968,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 968,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 968,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 968,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 968,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 968,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 968,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 968,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 968,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 968,
        "column": 51
      },
      {
        "id": "/",
        "value": "/",
        "line": 968,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 968,
        "column": 69
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 968,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 968,
        "column": 78
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 968,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 968,
        "column": 91
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "col2",
      "line": 969,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 969,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 969,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "areg",
        "line": 969,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 969,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 969,
        "column": 28
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 969,
        "column": 45
      },
      {
        "id": "]",
        "value": "]",
        "line": 969,
        "column": 53
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 969,
        "column": 43
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "cluster",
        "line": 969,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 969,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "absorb",
        "line": 969,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 969,
        "column": 75
      }
    ]
  },
  {
    "id": "comment",
    "value": "** Means for regression above:",
    "line": 970,
    "column": 1
  },
  {
    "id": "comment",
    "value": "//sum inventor patentspercap",
    "line": 971,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 972,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 972,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 972,
        "column": 14
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 972,
        "column": 31
      },
      {
        "id": "]",
        "value": "]",
        "line": 972,
        "column": 39
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 972,
        "column": 29
      }
    ]
  },
  {
    "id": "comment",
    "value": "** Replicate column 3 , which is at category level",
    "line": 975,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* similar to above but at cz-cat level, again absorbing kid's current cz",
    "line": 977,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 978,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 978,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 978,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 978,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 978,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 978,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 978,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 978,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 979,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 979,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 979,
        "column": 17
      },
      {
        "id": "number",
        "value": "1",
        "line": 979,
        "column": 19
      },
      {
        "id": "|",
        "value": "|",
        "line": 979,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 979,
        "column": 23
      },
      {
        "id": "==",
        "value": "==",
        "line": 979,
        "column": 30
      },
      {
        "id": "number",
        "value": "1",
        "line": 979,
        "column": 32
      },
      {
        "id": "|",
        "value": "|",
        "line": 979,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 979,
        "column": 36
      },
      {
        "id": "==",
        "value": "==",
        "line": 979,
        "column": 43
      },
      {
        "id": "number",
        "value": "1",
        "line": 979,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 980,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 980,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 980,
        "column": 17
      },
      {
        "id": ",",
        "value": ",",
        "line": 980,
        "column": 23
      },
      {
        "id": "number",
        "value": "1980",
        "line": 980,
        "column": 25
      },
      {
        "id": ",",
        "value": ",",
        "line": 980,
        "column": 29
      },
      {
        "id": "number",
        "value": "1984",
        "line": 980,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 981,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 981,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 981,
        "column": 17
      }
    ]
  },
  {
    "id": "comment",
    "value": "// October 26 2017 changing this to use ONLY movers",
    "line": 982,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 983,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "cz",
        "line": 983,
        "column": 9
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 983,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 983,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 984,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cat_prim_kid",
        "line": 984,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 984,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 985,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 985,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 985,
        "column": 17
      },
      {
        "id": ",",
        "value": ",",
        "line": 985,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 985,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 986,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "count",
        "line": 986,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 986,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 986,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 986,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 986,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 986,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 986,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 986,
        "column": 59
      }
    ]
  },
  {
    "id": "comment",
    "value": "* this is one of those weird cases where reshape is going to help me balance and fill",
    "line": 987,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* the 0's for naics-cz pairs that had no inventors (want to see that they had 0 in cat 1,2,.. etc)",
    "line": 988,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 989,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cat",
        "line": 989,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 989,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 989,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 989,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 990,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "wide",
        "line": 990,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 990,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 990,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 990,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 990,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 990,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 990,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 991,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "long",
        "line": 991,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 992,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 992,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 992,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 992,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 992,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 993,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cat",
        "line": 993,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 993,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cat",
        "line": 993,
        "column": 20
      },
      {
        "id": "==",
        "value": "==",
        "line": 993,
        "column": 23
      },
      {
        "id": "number",
        "value": "0",
        "line": 993,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 995,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 995,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 995,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 995,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 995,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 995,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 995,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 995,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 995,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 995,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 995,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 995,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 995,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 995,
        "column": 55
      },
      {
        "id": "/",
        "value": "/",
        "line": 995,
        "column": 72
      },
      {
        "id": "identifier",
        "value": "czcat",
        "line": 995,
        "column": 73
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 995,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 995,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 995,
        "column": 91
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cz",
      "line": 996,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 996,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 996,
        "column": 8
      },
      {
        "id": ":",
        "value": ":",
        "line": 996,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 996,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "czkidcz_size",
        "line": 996,
        "column": 26
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 996,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 996,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 997,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 997,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 997,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 998,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "frac",
        "line": 998,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 998,
        "column": 12
      },
      {
        "id": "/",
        "value": "/",
        "line": 998,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "czkidcz_size",
        "line": 998,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 1000,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "double",
        "line": 1000,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "kidcz_cat",
        "line": 1000,
        "column": 13
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "group",
        "line": 1000,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "kid_cz_2012",
        "line": 1000,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1000,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "col4",
      "line": 1001,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1001,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1001,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "areg",
        "line": 1001,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "frac",
        "line": 1001,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1001,
        "column": 24
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "czkidcz_size",
        "line": 1001,
        "column": 41
      },
      {
        "id": "]",
        "value": "]",
        "line": 1001,
        "column": 53
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 1001,
        "column": 39
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "cluster",
        "line": 1001,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1001,
        "column": 65
      },
      {
        "id": "identifier",
        "value": "a",
        "line": 1001,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "kidcz_cat",
        "line": 1001,
        "column": 71
      }
    ]
  },
  {
    "id": "comment",
    "value": "** Means for regression above:",
    "line": 1002,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1003,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "frac",
        "line": 1003,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1003,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "czkidcz_size",
        "line": 1003,
        "column": 27
      },
      {
        "id": "]",
        "value": "]",
        "line": 1003,
        "column": 39
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 1003,
        "column": 25
      }
    ]
  },
  {
    "id": "comment",
    "value": "* also at cz-cat level, this time absorbing father's naics",
    "line": 1006,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1007,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1007,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1007,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1007,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1007,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1007,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1007,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1007,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1008,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 1008,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1008,
        "column": 17
      },
      {
        "id": "number",
        "value": "1",
        "line": 1008,
        "column": 19
      },
      {
        "id": "|",
        "value": "|",
        "line": 1008,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 1008,
        "column": 23
      },
      {
        "id": "==",
        "value": "==",
        "line": 1008,
        "column": 30
      },
      {
        "id": "number",
        "value": "1",
        "line": 1008,
        "column": 32
      },
      {
        "id": "|",
        "value": "|",
        "line": 1008,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 1008,
        "column": 36
      },
      {
        "id": "==",
        "value": "==",
        "line": 1008,
        "column": 43
      },
      {
        "id": "number",
        "value": "1",
        "line": 1008,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1009,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1009,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1009,
        "column": 17
      },
      {
        "id": ",",
        "value": ",",
        "line": 1009,
        "column": 23
      },
      {
        "id": "number",
        "value": "1980",
        "line": 1009,
        "column": 25
      },
      {
        "id": ",",
        "value": ",",
        "line": 1009,
        "column": 29
      },
      {
        "id": "number",
        "value": "1984",
        "line": 1009,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1010,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1010,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1010,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1011,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cat_prim_kid",
        "line": 1011,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1011,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1012,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1012,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1012,
        "column": 17
      },
      {
        "id": ",",
        "value": ",",
        "line": 1012,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "par_dad_naics",
        "line": 1012,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1013,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "count",
        "line": 1013,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 1013,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1013,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1013,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1013,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1013,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "par_dad_naics",
        "line": 1013,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 1013,
        "column": 61
      }
    ]
  },
  {
    "id": "comment",
    "value": "* this is one of those weird cases where reshape is going to help me balance and fill",
    "line": 1014,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* the 0's for naics-cz pairs that had no inventors (want to see that they had 0 in cat 1,2,.. etc)",
    "line": 1015,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1016,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cat",
        "line": 1016,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 1016,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1016,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1016,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 1017,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "wide",
        "line": 1017,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 1017,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 1017,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1017,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "par_dad_naics",
        "line": 1017,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 1017,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1017,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 1018,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "long",
        "line": 1018,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1019,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 1019,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 1019,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1019,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 1019,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1020,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cat",
        "line": 1020,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 1020,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cat",
        "line": 1020,
        "column": 20
      },
      {
        "id": "==",
        "value": "==",
        "line": 1020,
        "column": 23
      },
      {
        "id": "number",
        "value": "0",
        "line": 1020,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1022,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1022,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1022,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1022,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1022,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1022,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1022,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 1022,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 1022,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 1022,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 1022,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 1022,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 1022,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 1022,
        "column": 55
      },
      {
        "id": "/",
        "value": "/",
        "line": 1022,
        "column": 72
      },
      {
        "id": "identifier",
        "value": "czcat",
        "line": 1022,
        "column": 73
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1022,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1022,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1022,
        "column": 91
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cz",
      "line": 1023,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1023,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "par_dad_naics",
        "line": 1023,
        "column": 8
      },
      {
        "id": ":",
        "value": ":",
        "line": 1023,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1023,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "cznaics_size",
        "line": 1023,
        "column": 28
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 1023,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 1023,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1024,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1024,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1024,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1025,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "frac",
        "line": 1025,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "cellsize",
        "line": 1025,
        "column": 12
      },
      {
        "id": "/",
        "value": "/",
        "line": 1025,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "cznaics_size",
        "line": 1025,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "areg",
      "line": 1028,
      "column": 1
    },
    "meta": {
      "predictors": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "frac",
        "line": 1028,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1028,
        "column": 12
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "cznaics_size",
        "line": 1028,
        "column": 29
      },
      {
        "id": "]",
        "value": "]",
        "line": 1028,
        "column": 41
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 1028,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "cluster",
        "line": 1028,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1028,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "a",
        "line": 1028,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1028,
        "column": 59
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 1030,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "double",
        "line": 1030,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "naics_cat",
        "line": 1030,
        "column": 13
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "group",
        "line": 1030,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "par_dad_naics",
        "line": 1030,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1030,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "col5",
      "line": 1031,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1031,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1031,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "areg",
        "line": 1031,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "frac",
        "line": 1031,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1031,
        "column": 24
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "cznaics_size",
        "line": 1031,
        "column": 41
      },
      {
        "id": "]",
        "value": "]",
        "line": 1031,
        "column": 53
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 1031,
        "column": 39
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "cluster",
        "line": 1031,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1031,
        "column": 65
      },
      {
        "id": "identifier",
        "value": "a",
        "line": 1031,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "naics_cat",
        "line": 1031,
        "column": 71
      }
    ]
  },
  {
    "id": "comment",
    "value": "** Means for regression above:",
    "line": 1032,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1033,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "frac",
        "line": 1033,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1033,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "cznaics_size",
        "line": 1033,
        "column": 27
      },
      {
        "id": "]",
        "value": "]",
        "line": 1033,
        "column": 39
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 1033,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "esttab",
      "line": 1035,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1035,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1035,
        "column": 14
      },
      {
        "id": "{",
        "value": "{",
        "line": 1035,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1035,
        "column": 23
      },
      {
        "id": "}",
        "value": "}",
        "line": 1035,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 1035,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "table4_robustness.csv",
        "line": 1035,
        "column": 26
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1035,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "se",
        "line": 1035,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "mtitles",
        "line": 1035,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "varwidth",
        "line": 1035,
        "column": 68
      },
      {
        "id": "number",
        "value": "25",
        "line": 1035,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "modelwidth",
        "line": 1035,
        "column": 81
      },
      {
        "id": "number",
        "value": "15",
        "line": 1035,
        "column": 92
      },
      {
        "id": "identifier",
        "value": "title",
        "line": 1035,
        "column": 96
      },
      {
        "id": "string",
        "value": "\"\"",
        "line": 1035,
        "column": 102
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1037,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 1037,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "// End Tables 3 and 4 code",
    "line": 1039,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1043,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Table 5: Gender Exposure ",
    "line": 1044,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1045,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 1047,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 1047,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1047,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "mkdir",
      "line": 1048,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 1048,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1048,
        "column": 11
      },
      {
        "id": "/",
        "value": "/",
        "line": 1048,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1048,
        "column": 19
      }
    ]
  },
  {
    "id": "comment",
    "value": "****",
    "line": 1050,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Main gender-dependent spec's",
    "line": 1051,
    "column": 1
  },
  {
    "id": "comment",
    "value": "****",
    "line": 1052,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1053,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1053,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1053,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 1053,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1053,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1053,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 1053,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1053,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1054,
      "column": 1
    },
    "=": [
      {
        "id": "number",
        "value": "1970",
        "line": 1054,
        "column": 14
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "yob",
        "line": 1054,
        "column": 9
      },
      {
        "id": "<",
        "value": "<",
        "line": 1054,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1055,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "zipcode",
        "line": 1055,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "zip",
        "line": 1055,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1056,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1056,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1056,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1056,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "zip",
        "line": 1056,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1056,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 1056,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1056,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "zip_cz_crosswalk.dta",
        "line": 1056,
        "column": 26
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1056,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "cz1",
        "line": 1056,
        "column": 58
      }
    ]
  },
  {
    "id": "comment",
    "value": "// number of patent grants or applications we ever see by gender and cz",
    "line": 1057,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1058,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 1058,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 1058,
        "column": 16
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1058,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1058,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "cz1",
        "line": 1058,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1059,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz1",
        "line": 1059,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1059,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1060,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1060,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1060,
        "column": 17
      },
      {
        "id": "string",
        "value": "\"U\"",
        "line": 1060,
        "column": 20
      },
      {
        "id": "|",
        "value": "|",
        "line": 1060,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1060,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1060,
        "column": 34
      },
      {
        "id": "|",
        "value": "|",
        "line": 1060,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1060,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1060,
        "column": 48
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1061,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 1061,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1061,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 1062,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "wide",
        "line": 1062,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1062,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 1062,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1062,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 1062,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1062,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 1062,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1063,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1063,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 1063,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1063,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1063,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1064,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1064,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 1064,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1064,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1064,
        "column": 33
      }
    ]
  },
  {
    "id": "comment",
    "value": "// convert patents to \"yearly\" version ",
    "line": 1065,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1066,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1066,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1066,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 1066,
        "column": 28
      },
      {
        "id": "number",
        "value": "17",
        "line": 1066,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1067,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1067,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1067,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 1067,
        "column": 28
      },
      {
        "id": "number",
        "value": "17",
        "line": 1067,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1068,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1068,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 1068,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1068,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 1068,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "adults_bycz_UNMASKED",
        "line": 1068,
        "column": 29
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1068,
        "column": 51
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1070,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1070,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1070,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1070,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1070,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1070,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1070,
        "column": 21
      },
      {
        "id": "identifier",
        "value": ".dta",
        "line": 1070,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1070,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1071,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1071,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1071,
        "column": 17
      },
      {
        "id": ",",
        "value": ",",
        "line": 1071,
        "column": 23
      },
      {
        "id": "number",
        "value": "1980",
        "line": 1071,
        "column": 25
      },
      {
        "id": ",",
        "value": ",",
        "line": 1071,
        "column": 29
      },
      {
        "id": "number",
        "value": "1984",
        "line": 1071,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1072,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 1072,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1072,
        "column": 16
      },
      {
        "id": "number",
        "value": "0",
        "line": 1072,
        "column": 18
      },
      {
        "id": "&",
        "value": "&",
        "line": 1072,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 1072,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 1072,
        "column": 29
      },
      {
        "id": "number",
        "value": "0",
        "line": 1072,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1073,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1073,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1073,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 1073,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1073,
        "column": 34
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1073,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1073,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1073,
        "column": 58
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1074,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1074,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1074,
        "column": 16
      },
      {
        "id": "string",
        "value": "\"U\"",
        "line": 1074,
        "column": 18
      },
      {
        "id": "|",
        "value": "|",
        "line": 1074,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1074,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1074,
        "column": 32
      },
      {
        "id": "|",
        "value": "|",
        "line": 1074,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1074,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1074,
        "column": 51
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1075,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1075,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1075,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1076,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1076,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1076,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1076,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1076,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1076,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "explore",
        "line": 1076,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 1076,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1076,
        "column": 28
      },
      {
        "id": "/",
        "value": "/",
        "line": 1076,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "adults_bycz_UNMASKED",
        "line": 1076,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1079,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1079,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1079,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1079,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1079,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1079,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 1079,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 1079,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 1079,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 1079,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 1079,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 1079,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 1079,
        "column": 51
      },
      {
        "id": "/",
        "value": "/",
        "line": 1079,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1079,
        "column": 69
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1079,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1079,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1079,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1079,
        "column": 93
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1079,
        "column": 99
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1079,
        "column": 109
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 1079,
        "column": 117
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1080,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 1080,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 1081,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 1081,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 1081,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 1081,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1081,
        "column": 24
      },
      {
        "id": "*",
        "value": "*",
        "line": 1081,
        "column": 31
      },
      {
        "id": "{",
        "value": "{",
        "line": 1081,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1082,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1082,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 1082,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1082,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 1082,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1083,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1083,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "percap",
        "line": 1083,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1083,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 1083,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 1083,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1085,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1085,
        "column": 9
      },
      {
        "id": "/",
        "value": "/",
        "line": 1085,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1085,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 1085,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "adultsandkids_bycz_UNMASKED",
        "line": 1085,
        "column": 32
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1085,
        "column": 61
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1087,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1087,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "num_kids",
        "line": 1087,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1088,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1088,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1088,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1088,
        "column": 17
      },
      {
        "id": "*",
        "value": "*",
        "line": 1088,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "percap",
        "line": 1088,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "num_kids",
        "line": 1088,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 1088,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1089,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1089,
        "column": 9
      },
      {
        "id": "/",
        "value": "/",
        "line": 1089,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1089,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 1089,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "adultsandkids_bycz_mskd",
        "line": 1089,
        "column": 32
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1089,
        "column": 57
      }
    ]
  },
  {
    "id": "comment",
    "value": "** robustness check on the above -- collapsing also by tech cat",
    "line": 1092,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1093,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1093,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1093,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 1093,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1093,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1093,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 1093,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1093,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1094,
      "column": 1
    },
    "=": [
      {
        "id": "number",
        "value": "1970",
        "line": 1094,
        "column": 14
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "yob",
        "line": 1094,
        "column": 9
      },
      {
        "id": "<",
        "value": "<",
        "line": 1094,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1095,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "zipcode",
        "line": 1095,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "zip",
        "line": 1095,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1096,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1096,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1096,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1096,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "zip",
        "line": 1096,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1096,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 1096,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1096,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "zip_cz_crosswalk.dta",
        "line": 1096,
        "column": 26
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1096,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "cz1",
        "line": 1096,
        "column": 58
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1097,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 1097,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1098,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1098,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1098,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1098,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 1098,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1098,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 1098,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1098,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 1098,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 1098,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "prog",
        "line": 1098,
        "column": 28
      },
      {
        "id": "}",
        "value": "}",
        "line": 1098,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "_$",
        "line": 1098,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 1098,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1098,
        "column": 36
      },
      {
        "id": "}",
        "value": "}",
        "line": 1098,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "_inv",
        "line": 1098,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1098,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 1098,
        "column": 54
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1099,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "_m",
        "line": 1099,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1099,
        "column": 12
      },
      {
        "id": "number",
        "value": "3",
        "line": 1099,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1100,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 1100,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 1100,
        "column": 16
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1100,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1100,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "cz1",
        "line": 1100,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 1100,
        "column": 48
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1101,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz1",
        "line": 1101,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1101,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1102,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1102,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1102,
        "column": 17
      },
      {
        "id": "string",
        "value": "\"U\"",
        "line": 1102,
        "column": 20
      },
      {
        "id": "|",
        "value": "|",
        "line": 1102,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1102,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1102,
        "column": 34
      },
      {
        "id": "|",
        "value": "|",
        "line": 1102,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1102,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1102,
        "column": 48
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1103,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 1103,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1103,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 1104,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "wide",
        "line": 1104,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1104,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 1104,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1104,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cat",
        "line": 1104,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 1104,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1104,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 1104,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1105,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1105,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 1105,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1105,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1105,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1106,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1106,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 1106,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1106,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1106,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1107,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1107,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1107,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1107,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1107,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1107,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 1107,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 1107,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 1107,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 1107,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 1107,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 1107,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 1107,
        "column": 51
      },
      {
        "id": "/",
        "value": "/",
        "line": 1107,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1107,
        "column": 69
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1107,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1107,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1107,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1107,
        "column": 93
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1107,
        "column": 99
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 1107,
        "column": 110
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1108,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1108,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 1108,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1108,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 1108,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "adults_byczcat_UNMASKED",
        "line": 1108,
        "column": 29
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1108,
        "column": 54
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 1109,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 1109,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 1109,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 1109,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1109,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1109,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 1109,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1110,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1110,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 1110,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1110,
        "column": 22
      },
      {
        "id": "<",
        "value": "<",
        "line": 1110,
        "column": 27
      },
      {
        "id": "number",
        "value": "10",
        "line": 1110,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1112,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1112,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 1112,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1112,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 1112,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "adults_byczcat_mskd",
        "line": 1112,
        "column": 29
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1112,
        "column": 50
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1114,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1114,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1114,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1114,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1114,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1114,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1114,
        "column": 21
      },
      {
        "id": "identifier",
        "value": ".dta",
        "line": 1114,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1114,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1115,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1115,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1115,
        "column": 17
      },
      {
        "id": ",",
        "value": ",",
        "line": 1115,
        "column": 23
      },
      {
        "id": "number",
        "value": "1980",
        "line": 1115,
        "column": 25
      },
      {
        "id": ",",
        "value": ",",
        "line": 1115,
        "column": 29
      },
      {
        "id": "number",
        "value": "1984",
        "line": 1115,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1116,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 1116,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1116,
        "column": 16
      },
      {
        "id": "number",
        "value": "0",
        "line": 1116,
        "column": 18
      },
      {
        "id": "&",
        "value": "&",
        "line": 1116,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 1116,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 1116,
        "column": 29
      },
      {
        "id": "number",
        "value": "0",
        "line": 1116,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1117,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1117,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1117,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 1117,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1117,
        "column": 34
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1117,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1117,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1117,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "cat_prim_kid",
        "line": 1117,
        "column": 66
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1118,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1118,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1118,
        "column": 16
      },
      {
        "id": "string",
        "value": "\"U\"",
        "line": 1118,
        "column": 18
      },
      {
        "id": "|",
        "value": "|",
        "line": 1118,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1118,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1118,
        "column": 32
      },
      {
        "id": "|",
        "value": "|",
        "line": 1118,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1118,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1118,
        "column": 51
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1119,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1119,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1119,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1120,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cat_prim_kid",
        "line": 1120,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 1120,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1121,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1121,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 1121,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1121,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 1121,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "kids_byczcat_UNMASKED",
        "line": 1121,
        "column": 29
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1121,
        "column": 52
      }
    ]
  },
  {
    "id": "comment",
    "value": "* build spine with all cz x gender x cat combinations",
    "line": 1123,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1124,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1124,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1124,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1124,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1124,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1124,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1124,
        "column": 21
      },
      {
        "id": "identifier",
        "value": ".dta",
        "line": 1124,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1124,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1125,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1125,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "duplicates",
      "line": 1126,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "drop",
        "line": 1126,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1127,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1127,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1127,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "expand",
      "line": 1128,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "14",
        "line": 1128,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1129,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1129,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"F\"",
        "line": 1129,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "mod",
        "line": 1129,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "_n",
        "line": 1129,
        "column": 26
      },
      {
        "id": ",",
        "value": ",",
        "line": 1129,
        "column": 28
      },
      {
        "id": "number",
        "value": "2",
        "line": 1129,
        "column": 30
      },
      {
        "id": "==",
        "value": "==",
        "line": 1129,
        "column": 32
      },
      {
        "id": "number",
        "value": "0",
        "line": 1129,
        "column": 34
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1130,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1130,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"M\"",
        "line": 1130,
        "column": 19
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "mod",
        "line": 1130,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "_n",
        "line": 1130,
        "column": 30
      },
      {
        "id": ",",
        "value": ",",
        "line": 1130,
        "column": 32
      },
      {
        "id": "number",
        "value": "2",
        "line": 1130,
        "column": 34
      },
      {
        "id": "==",
        "value": "==",
        "line": 1130,
        "column": 36
      },
      {
        "id": "number",
        "value": "1",
        "line": 1130,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cz",
      "line": 1131,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1131,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1131,
        "column": 8
      },
      {
        "id": ":",
        "value": ":",
        "line": 1131,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 1131,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 1131,
        "column": 21
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 1131,
        "column": 32
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1132,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1132,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1132,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1133,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1133,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1133,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1133,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1133,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1133,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 1133,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 1133,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 1133,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 1133,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 1133,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 1133,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 1133,
        "column": 51
      },
      {
        "id": "/",
        "value": "/",
        "line": 1133,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1133,
        "column": 69
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1133,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1133,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1133,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1133,
        "column": 93
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1133,
        "column": 99
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 1133,
        "column": 110
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1135,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1135,
        "column": 6
      },
      {
        "id": "/",
        "value": "/",
        "line": 1135,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1135,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 1135,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "byczcat_spine",
        "line": 1135,
        "column": 29
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1135,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1137,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1137,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1137,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1137,
        "column": 13
      },
      {
        "id": "/",
        "value": "/",
        "line": 1137,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "byczcat_spine",
        "line": 1137,
        "column": 28
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1137,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1138,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1138,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1138,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1138,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1138,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 1138,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1138,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "explore",
        "line": 1138,
        "column": 29
      },
      {
        "id": "/",
        "value": "/",
        "line": 1138,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1138,
        "column": 37
      },
      {
        "id": "/",
        "value": "/",
        "line": 1138,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "adults_byczcat_UNMASKED",
        "line": 1138,
        "column": 52
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1138,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1138,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1138,
        "column": 88
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1138,
        "column": 96
      },
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1138,
        "column": 106
      },
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1138,
        "column": 115
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1138,
        "column": 125
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1139,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 1139,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1139,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1139,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1139,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 1139,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1139,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1139,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "explore",
        "line": 1139,
        "column": 37
      },
      {
        "id": "/",
        "value": "/",
        "line": 1139,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1139,
        "column": 45
      },
      {
        "id": "/",
        "value": "/",
        "line": 1139,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "kids_byczcat_UNMASKED",
        "line": 1139,
        "column": 60
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1139,
        "column": 83
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cz",
      "line": 1140,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1140,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1140,
        "column": 8
      },
      {
        "id": ":",
        "value": ":",
        "line": 1140,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1140,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "totkids_czgnd",
        "line": 1140,
        "column": 22
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 1140,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1140,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1141,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1141,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 1141,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 1143,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 1143,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 1143,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 1143,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1143,
        "column": 24
      },
      {
        "id": "*",
        "value": "*",
        "line": 1143,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1143,
        "column": 33
      },
      {
        "id": "{",
        "value": "{",
        "line": 1143,
        "column": 41
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1144,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1144,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 1144,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1144,
        "column": 22
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 1144,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 1146,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 1146,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 1146,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 1146,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1146,
        "column": 24
      },
      {
        "id": "*",
        "value": "*",
        "line": 1146,
        "column": 31
      },
      {
        "id": "{",
        "value": "{",
        "line": 1146,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1147,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1147,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "percap",
        "line": 1147,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1147,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 1147,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "workingage_pop1990",
        "line": 1147,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1149,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1149,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1149,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1150,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1150,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1151,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1151,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1151,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 1151,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "totkids_czgnd",
        "line": 1151,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1152,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1152,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 1152,
        "column": 17
      }
    ]
  },
  {
    "id": "comment",
    "value": "// convert patents to \"yearly\" version ",
    "line": 1153,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 1154,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 1154,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 1154,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 1154,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1154,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1154,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "patentsFpercap",
        "line": 1154,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "patentsMpercap",
        "line": 1154,
        "column": 58
      },
      {
        "id": "{",
        "value": "{",
        "line": 1154,
        "column": 73
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1155,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1155,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1155,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 1155,
        "column": 21
      },
      {
        "id": "number",
        "value": "17",
        "line": 1155,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1157,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1157,
        "column": 9
      },
      {
        "id": "/",
        "value": "/",
        "line": 1157,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1157,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 1157,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "adultsandkids_byczcat_UNMASKED",
        "line": 1157,
        "column": 32
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1157,
        "column": 64
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1158,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patentsF",
        "line": 1158,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "patentsM",
        "line": 1158,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1158,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sort",
      "line": 1159,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz",
        "line": 1159,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "kid_gnd",
        "line": 1159,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cat_prim",
        "line": 1159,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1160,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "explore",
        "line": 1160,
        "column": 9
      },
      {
        "id": "/",
        "value": "/",
        "line": 1160,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "genderexposure",
        "line": 1160,
        "column": 17
      },
      {
        "id": "/",
        "value": "/",
        "line": 1160,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "adultsandkids_byczcat_mskd",
        "line": 1160,
        "column": 32
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1160,
        "column": 60
      }
    ]
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1165,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Table 6: Movers ",
    "line": 1166,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1167,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1169,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 1169,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 1169,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1170,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1170,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patents_movers_feb2018_v3.log",
        "line": 1170,
        "column": 11
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "text",
        "line": 1170,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1170,
        "column": 47
      }
    ]
  },
  {
    "id": "comment",
    "value": "****",
    "line": 1173,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* X-Sectional Result in this sample",
    "line": 1174,
    "column": 1
  },
  {
    "id": "comment",
    "value": "****",
    "line": 1175,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 1176,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "est",
          "line": 1176,
          "column": 1
        }
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1177,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1177,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1177,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1177,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1177,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1177,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1177,
        "column": 21
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1177,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1177,
        "column": 34
      },
      {
        "id": ",",
        "value": ",",
        "line": 1177,
        "column": 40
      },
      {
        "id": "number",
        "value": "1980",
        "line": 1177,
        "column": 42
      },
      {
        "id": ",",
        "value": ",",
        "line": 1177,
        "column": 46
      },
      {
        "id": "number",
        "value": "1988",
        "line": 1177,
        "column": 48
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1177,
        "column": 55
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1178,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 1178,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1178,
        "column": 17
      },
      {
        "id": "number",
        "value": "1",
        "line": 1178,
        "column": 19
      },
      {
        "id": "|",
        "value": "|",
        "line": 1178,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 1178,
        "column": 23
      },
      {
        "id": "==",
        "value": "==",
        "line": 1178,
        "column": 30
      },
      {
        "id": "number",
        "value": "1",
        "line": 1178,
        "column": 32
      },
      {
        "id": "|",
        "value": "|",
        "line": 1178,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 1178,
        "column": 36
      },
      {
        "id": "==",
        "value": "==",
        "line": 1178,
        "column": 43
      },
      {
        "id": "number",
        "value": "1",
        "line": 1178,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1179,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1179,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1179,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1180,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1180,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1180,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1180,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1180,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1180,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 1180,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 1180,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 1180,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 1180,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 1180,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 1180,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 1180,
        "column": 51
      },
      {
        "id": "/",
        "value": "/",
        "line": 1180,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1180,
        "column": 69
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1180,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1180,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1180,
        "column": 89
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1181,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz",
        "line": 1181,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1181,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1182,
      "column": 9
    },
    "meta": {
      "predictors": 1
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1182,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1182,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1182,
        "column": 22
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1182,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1182,
        "column": 47
      },
      {
        "id": ",",
        "value": ",",
        "line": 1182,
        "column": 53
      },
      {
        "id": "number",
        "value": "1980",
        "line": 1182,
        "column": 55
      },
      {
        "id": ",",
        "value": ",",
        "line": 1182,
        "column": 59
      },
      {
        "id": "number",
        "value": "1984",
        "line": 1182,
        "column": 60
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "cluster",
        "line": 1182,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1182,
        "column": 75
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1183,
      "column": 9
    },
    "meta": {
      "predictors": 1
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1183,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1183,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1183,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "cluster",
        "line": 1183,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "par_cz_1996",
        "line": 1183,
        "column": 45
      }
    ]
  },
  {
    "id": "comment",
    "value": "****",
    "line": 1185,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Movers",
    "line": 1186,
    "column": 1
  },
  {
    "id": "comment",
    "value": "****",
    "line": 1187,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1188,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1188,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1188,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1188,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1188,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1188,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1188,
        "column": 21
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1188,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1188,
        "column": 34
      },
      {
        "id": ",",
        "value": ",",
        "line": 1188,
        "column": 40
      },
      {
        "id": "number",
        "value": "1980",
        "line": 1188,
        "column": 42
      },
      {
        "id": ",",
        "value": ",",
        "line": 1188,
        "column": 46
      },
      {
        "id": "number",
        "value": "1988",
        "line": 1188,
        "column": 48
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1188,
        "column": 55
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1189,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 1189,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1189,
        "column": 17
      },
      {
        "id": "number",
        "value": "1",
        "line": 1189,
        "column": 19
      },
      {
        "id": "|",
        "value": "|",
        "line": 1189,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "mom_inv",
        "line": 1189,
        "column": 23
      },
      {
        "id": "==",
        "value": "==",
        "line": 1189,
        "column": 30
      },
      {
        "id": "number",
        "value": "1",
        "line": 1189,
        "column": 32
      },
      {
        "id": "|",
        "value": "|",
        "line": 1189,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 1189,
        "column": 36
      },
      {
        "id": "==",
        "value": "==",
        "line": 1189,
        "column": 43
      },
      {
        "id": "number",
        "value": "1",
        "line": 1189,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1190,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ageatmove",
        "line": 1190,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "year_move_cz",
        "line": 1190,
        "column": 15
      },
      {
        "id": "-",
        "value": "-",
        "line": 1190,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1190,
        "column": 28
      }
    ]
  },
  {
    "id": "comment",
    "value": "// keep only single movers",
    "line": 1191,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1192,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "total_moves_cz",
        "line": 1192,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1192,
        "column": 23
      },
      {
        "id": "number",
        "value": "1",
        "line": 1192,
        "column": 25
      }
    ]
  },
  {
    "id": "comment",
    "value": "// prep movers file",
    "line": 1195,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1196,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_dest",
        "line": 1196,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1196,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1197,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1197,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1197,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1197,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1197,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1197,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 1197,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 1197,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 1197,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 1197,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 1197,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 1197,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 1197,
        "column": 51
      },
      {
        "id": "/",
        "value": "/",
        "line": 1197,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1197,
        "column": 69
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1197,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1197,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1197,
        "column": 89
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1198,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1198,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patentspercap_dest",
        "line": 1198,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1199,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz",
        "line": 1199,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "par_cz_dest",
        "line": 1199,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1200,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1200,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1200,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1201,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1201,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1201,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1201,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1201,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1201,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "..",
        "line": 1201,
        "column": 20
      },
      {
        "id": "/",
        "value": "/",
        "line": 1201,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "movers",
        "line": 1201,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 1201,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "historical_patenting",
        "line": 1201,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 1201,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "historical_output",
        "line": 1201,
        "column": 51
      },
      {
        "id": "/",
        "value": "/",
        "line": 1201,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "cz",
        "line": 1201,
        "column": 69
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1201,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1201,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1201,
        "column": 89
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1202,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "patentspercap",
        "line": 1202,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "patentspercap_orig",
        "line": 1202,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1203,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cz",
        "line": 1203,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1203,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tab",
      "line": 1205,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ageatmove",
        "line": 1205,
        "column": 5
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1205,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1207,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "diff",
        "line": 1207,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "patentspercap_dest",
        "line": 1207,
        "column": 12
      },
      {
        "id": "-",
        "value": "-",
        "line": 1207,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "patentspercap_orig",
        "line": 1207,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1209,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ageatmove_orig",
        "line": 1209,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "ageatmove",
        "line": 1209,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1210,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ageatmove",
        "line": 1210,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "24",
        "line": 1210,
        "column": 21
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "ageatmove",
        "line": 1210,
        "column": 27
      },
      {
        "id": ">",
        "value": ">",
        "line": 1210,
        "column": 37
      },
      {
        "id": "number",
        "value": "24",
        "line": 1210,
        "column": 39
      },
      {
        "id": "&",
        "value": "&",
        "line": 1210,
        "column": 42
      },
      {
        "id": "~",
        "value": "~",
        "line": 1210,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1210,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "ageatmove",
        "line": 1210,
        "column": 53
      }
    ]
  },
  {
    "id": "comment",
    "value": "// baseline spec",
    "line": 1213,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1214,
      "column": 9
    },
    "meta": {
      "predictors": 4
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1214,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1214,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1214,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1214,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1214,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "i.cohort",
        "line": 1214,
        "column": 58
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 1214,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1214,
        "column": 70
      }
    ]
  },
  {
    "id": "comment",
    "value": "// add in c.diff#i.cohort -- basically no change",
    "line": 1215,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1216,
      "column": 9
    },
    "meta": {
      "predictors": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1216,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1216,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1216,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1216,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1216,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "i.cohort",
        "line": 1216,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "c.diff#i.cohort",
        "line": 1216,
        "column": 67
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 1216,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1216,
        "column": 86
      }
    ]
  },
  {
    "id": "comment",
    "value": "// e_rank_o instead of origin FE's is very similar",
    "line": 1217,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1218,
      "column": 9
    },
    "meta": {
      "predictors": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1218,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1218,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1218,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1218,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1218,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "i.cohort",
        "line": 1218,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "patentspercap_orig",
        "line": 1218,
        "column": 67
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1218,
        "column": 88
      }
    ]
  },
  {
    "id": "comment",
    "value": "// for raj, interact both the d_e_rank and e_rank_o w/ cohort -- really does nothing",
    "line": 1219,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1220,
      "column": 9
    },
    "meta": {
      "predictors": 7
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1220,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1220,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1220,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1220,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1220,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "i.cohort",
        "line": 1220,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "patentspercap_orig",
        "line": 1220,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "i.cohort#c.diff",
        "line": 1220,
        "column": 86
      },
      {
        "id": "identifier",
        "value": "i.cohort#c.patentspercap_orig",
        "line": 1220,
        "column": 102
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1220,
        "column": 134
      }
    ]
  },
  {
    "id": "comment",
    "value": "// last thought: whole thing interacted w/ cohort?",
    "line": 1221,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "forval",
      "line": 1222,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "c",
        "line": 1222,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1980",
        "line": 1222,
        "column": 10
      },
      {
        "id": "/",
        "value": "/",
        "line": 1222,
        "column": 14
      },
      {
        "id": "number",
        "value": "1988",
        "line": 1222,
        "column": 15
      },
      {
        "id": "{",
        "value": "{",
        "line": 1222,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1223,
      "column": 6
    },
    "meta": {
      "predictors": 3
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "qui",
          "line": 1223,
          "column": 2
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1223,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1223,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1223,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1223,
        "column": 43
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1223,
        "column": 58
      },
      {
        "id": "==",
        "value": "==",
        "line": 1223,
        "column": 64
      },
      {
        "id": "`'",
        "value": "`c'",
        "line": 1223,
        "column": 66
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 1223,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1223,
        "column": 73
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "local",
      "line": 1224,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "b",
        "line": 1224,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_b",
        "line": 1224,
        "column": 12
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1224,
        "column": 15
      },
      {
        "id": "]",
        "value": "]",
        "line": 1224,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "di",
      "line": 1225,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"`c', `b'\"",
        "line": 1225,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "forval",
      "line": 1227,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "c",
        "line": 1227,
        "column": 8
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "1980",
        "line": 1227,
        "column": 10
      },
      {
        "id": "/",
        "value": "/",
        "line": 1227,
        "column": 14
      },
      {
        "id": "number",
        "value": "1988",
        "line": 1227,
        "column": 15
      },
      {
        "id": "{",
        "value": "{",
        "line": 1227,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1228,
      "column": 2
    },
    "meta": {
      "predictors": 3
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1228,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1228,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1228,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1228,
        "column": 39
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1228,
        "column": 54
      },
      {
        "id": "==",
        "value": "==",
        "line": 1228,
        "column": 60
      },
      {
        "id": "`'",
        "value": "`c'",
        "line": 1228,
        "column": 62
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 1228,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1228,
        "column": 69
      }
    ]
  },
  {
    "id": "comment",
    "value": "// family FE.. miraculously the same coeff, though insig",
    "line": 1231,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1232,
      "column": 9
    },
    "meta": {
      "predictors": 4
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1232,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1232,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1232,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1232,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1232,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "i.cohort",
        "line": 1232,
        "column": 58
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 1232,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "fam_id",
        "line": 1232,
        "column": 70
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "areg",
      "line": 1233,
      "column": 9
    },
    "meta": {
      "predictors": 4
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1233,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1233,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1233,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1233,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1233,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "i.cohort",
        "line": 1233,
        "column": 59
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 1233,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "fam_id",
        "line": 1233,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "cluster",
        "line": 1233,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "fam_id",
        "line": 1233,
        "column": 87
      }
    ]
  },
  {
    "id": "comment",
    "value": "// baseline spec still there w/ clustering but t is a bit lower -- don't think we need to cluster",
    "line": 1235,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "areg",
      "line": 1236,
      "column": 9
    },
    "meta": {
      "predictors": 4
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1236,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1236,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1236,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "c.diff#c.ageatmove",
        "line": 1236,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1236,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "i.cohort",
        "line": 1236,
        "column": 59
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 1236,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1236,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "cluster",
        "line": 1236,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1236,
        "column": 92
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "esttab",
      "line": 1238,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1238,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1238,
        "column": 14
      },
      {
        "id": "{",
        "value": "{",
        "line": 1238,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1238,
        "column": 23
      },
      {
        "id": "}",
        "value": "}",
        "line": 1238,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 1238,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "movers_various.csv",
        "line": 1238,
        "column": 26
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1238,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "se",
        "line": 1238,
        "column": 54
      }
    ]
  },
  {
    "id": "comment",
    "value": "// graphical version of baseline spec",
    "line": 1240,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 1241,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "est",
          "line": 1241,
          "column": 1
        }
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1242,
      "column": 9
    },
    "meta": {
      "predictors": 4
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1242,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1242,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1242,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "c.diff#i.ageatmove",
        "line": 1242,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "i.ageatmove",
        "line": 1242,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "i.cohort",
        "line": 1242,
        "column": 58
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 1242,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1242,
        "column": 70
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1243,
      "column": 9
    },
    "meta": {
      "predictors": 4
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1243,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1243,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "diff",
        "line": 1243,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "c.diff#i.ageatmove_orig",
        "line": 1243,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "i.ageatmove_orig",
        "line": 1243,
        "column": 51
      },
      {
        "id": "identifier",
        "value": "i.cohort",
        "line": 1243,
        "column": 68
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "a",
        "line": 1243,
        "column": 78
      },
      {
        "id": "identifier",
        "value": "par_cz_orig",
        "line": 1243,
        "column": 80
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "esttab",
      "line": 1244,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1244,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1244,
        "column": 14
      },
      {
        "id": "{",
        "value": "{",
        "line": 1244,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1244,
        "column": 23
      },
      {
        "id": "}",
        "value": "}",
        "line": 1244,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 1244,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "movers_hockeystick.csv",
        "line": 1244,
        "column": 26
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1244,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "plain",
        "line": 1244,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "not",
        "line": 1244,
        "column": 65
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "esttab",
      "line": 1245,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1245,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1245,
        "column": 14
      },
      {
        "id": "{",
        "value": "{",
        "line": 1245,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1245,
        "column": 23
      },
      {
        "id": "}",
        "value": "}",
        "line": 1245,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 1245,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "movers_hockeystick_se.csv",
        "line": 1245,
        "column": 26
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1245,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "plain",
        "line": 1245,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "not",
        "line": 1245,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "se",
        "line": 1245,
        "column": 72
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1248,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 1248,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1254,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Appendix Table 1 Patent Rates vs Test Scores",
    "line": 1255,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1256,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1257,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 1257,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 1257,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1258,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1258,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1258,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 1258,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1258,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1258,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1258,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "tablea1_inv_vs_testscores",
        "line": 1258,
        "column": 23
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "text",
        "line": 1258,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1258,
        "column": 55
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1259,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1259,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1259,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 1259,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1259,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1259,
        "column": 19
      },
      {
        "id": "}",
        "value": "}",
        "line": 1259,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1259,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1260,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1260,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1260,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1261,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1261,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1261,
        "column": 14
      },
      {
        "id": "*",
        "value": "*",
        "line": 1261,
        "column": 22
      },
      {
        "id": "number",
        "value": "1000",
        "line": 1261,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1262,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 1262,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1262,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1262,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1262,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1262,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 1262,
        "column": 25
      },
      {
        "id": "/",
        "value": "/",
        "line": 1262,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1262,
        "column": 30
      },
      {
        "id": "{",
        "value": "{",
        "line": 1262,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1262,
        "column": 40
      },
      {
        "id": "}",
        "value": "}",
        "line": 1262,
        "column": 41
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1262,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1262,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1262,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1262,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "kid_rank",
        "line": 1262,
        "column": 73
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 1263,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "est",
          "line": 1263,
          "column": 1
        }
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "base_math3",
      "line": 1264,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1264,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1264,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "reg",
        "line": 1264,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1264,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1264,
        "column": 31
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1264,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1265,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1265,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "e",
        "line": 1265,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "sample",
        "line": 1265,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1266,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1266,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1266,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`r(mean)'",
        "line": 1266,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "base_verb3",
      "line": 1267,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1267,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1267,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "reg",
        "line": 1267,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1267,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "verb3",
        "line": 1267,
        "column": 31
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1267,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1268,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1268,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "e",
        "line": 1268,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "sample",
        "line": 1268,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1269,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1269,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1269,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`r(mean)'",
        "line": 1269,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "both",
      "line": 1270,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1270,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1270,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "reg",
        "line": 1270,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1270,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "verb3",
        "line": 1270,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1270,
        "column": 31
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1270,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1271,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1271,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "e",
        "line": 1271,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "sample",
        "line": 1271,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1272,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1272,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1272,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`r(mean)'",
        "line": 1272,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "math3_a_verb3",
      "line": 1273,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1273,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1273,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "reg",
        "line": 1273,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1273,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1273,
        "column": 34
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1273,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "a",
        "line": 1273,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "verb_vin3",
        "line": 1273,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1274,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1274,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "e",
        "line": 1274,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "sample",
        "line": 1274,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1275,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1275,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1275,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`r(mean)'",
        "line": 1275,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1276,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1276,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "fe",
        "line": 1276,
        "column": 14
      },
      {
        "id": "string",
        "value": "\"English Ventile\"",
        "line": 1276,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "verb3_a_math3",
      "line": 1277,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1277,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1277,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "reg",
        "line": 1277,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1277,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "verb3",
        "line": 1277,
        "column": 34
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1277,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "a",
        "line": 1277,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "math_vin3",
        "line": 1277,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1278,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1278,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "e",
        "line": 1278,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "sample",
        "line": 1278,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1279,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1279,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1279,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`r(mean)'",
        "line": 1279,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1280,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1280,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "fe",
        "line": 1280,
        "column": 14
      },
      {
        "id": "string",
        "value": "\"Math Ventile\"",
        "line": 1280,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 1282,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1282,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1282,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1282,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "kid_rank_insample",
        "line": 1282,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 1282,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "kid_rank",
        "line": 1282,
        "column": 43
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1282,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1282,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "kid_rank",
        "line": 1282,
        "column": 65
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 1283,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1283,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1283,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1283,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "max",
        "line": 1283,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 1283,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "kid_rank_insample",
        "line": 1283,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1284,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_rank_insample",
        "line": 1284,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_rank_insample",
        "line": 1284,
        "column": 30
      },
      {
        "id": "/",
        "value": "/",
        "line": 1284,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "max",
        "line": 1284,
        "column": 50
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1285,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kidtop1pc",
        "line": 1285,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_rank_insample",
        "line": 1285,
        "column": 17
      },
      {
        "id": ">",
        "value": ">",
        "line": 1285,
        "column": 35
      },
      {
        "id": "number",
        "value": ".99",
        "line": 1285,
        "column": 36
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1285,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1285,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "kid_rank_insample",
        "line": 1285,
        "column": 52
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1287,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kidtop1pc_1k",
        "line": 1287,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kidtop1pc",
        "line": 1287,
        "column": 20
      },
      {
        "id": "*",
        "value": "*",
        "line": 1287,
        "column": 29
      },
      {
        "id": "number",
        "value": "1000",
        "line": 1287,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "inc_math3",
      "line": 1289,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1289,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1289,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "reg",
        "line": 1289,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "kidtop1pc_1k",
        "line": 1289,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1289,
        "column": 36
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1289,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1290,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kidtop1pc_1k",
        "line": 1290,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "e",
        "line": 1290,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "sample",
        "line": 1290,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1291,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1291,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1291,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`r(mean)'",
        "line": 1291,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "inc_verb3",
      "line": 1292,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1292,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1292,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "reg",
        "line": 1292,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "kidtop1pc_1k",
        "line": 1292,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "verb3",
        "line": 1292,
        "column": 36
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1292,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1293,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kidtop1pc_1k",
        "line": 1293,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "e",
        "line": 1293,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "sample",
        "line": 1293,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1294,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1294,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1294,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`r(mean)'",
        "line": 1294,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "inc_both",
      "line": 1295,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "eststo",
          "line": 1295,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1295,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "reg",
        "line": 1295,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "kidtop1pc_1k",
        "line": 1295,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1295,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "verb3",
        "line": 1295,
        "column": 41
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "r",
        "line": 1295,
        "column": 48
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1296,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kidtop1pc_1k",
        "line": 1296,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "e",
        "line": 1296,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "sample",
        "line": 1296,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "estadd",
      "line": 1297,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "local",
        "line": 1297,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1297,
        "column": 14
      },
      {
        "id": "`'",
        "value": "`r(mean)'",
        "line": 1297,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "esttab",
      "line": 1299,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1299,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1299,
        "column": 14
      },
      {
        "id": "{",
        "value": "{",
        "line": 1299,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1299,
        "column": 23
      },
      {
        "id": "}",
        "value": "}",
        "line": 1299,
        "column": 24
      },
      {
        "id": "/",
        "value": "/",
        "line": 1299,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "tablea1_inv_vs_testscores.csv",
        "line": 1299,
        "column": 26
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "scalars",
        "line": 1299,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "fe",
        "line": 1299,
        "column": 65
      },
      {
        "id": "identifier",
        "value": "N",
        "line": 1299,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "r2",
        "line": 1299,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1299,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1299,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "se",
        "line": 1299,
        "column": 87
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1300,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 1300,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1304,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Appendix Table 2: Uses data from Table 2",
    "line": 1305,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1306,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1309,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Appendix Table 3: No IRS data",
    "line": 1310,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************",
    "line": 1311,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************",
    "line": 1315,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************",
    "line": 1316,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Analysis Code: Figures",
    "line": 1317,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************  ",
    "line": 1318,
    "column": 1
  },
  {
    "id": "comment",
    "value": "***********************************************",
    "line": 1319,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1322,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 1: Patent Rates vs Parent Income",
    "line": 1323,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* measure by age 30. also show grantee/applicant contributions separately for Fig 2B",
    "line": 1324,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1325,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1327,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1327,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1327,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1327,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1327,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1327,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1327,
        "column": 21
      },
      {
        "id": "identifier",
        "value": ".dta",
        "line": 1327,
        "column": 22
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1327,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1327,
        "column": 38
      },
      {
        "id": ",",
        "value": ",",
        "line": 1327,
        "column": 44
      },
      {
        "id": "number",
        "value": "1980",
        "line": 1327,
        "column": 46
      },
      {
        "id": ",",
        "value": ",",
        "line": 1327,
        "column": 50
      },
      {
        "id": "number",
        "value": "1984",
        "line": 1327,
        "column": 52
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1327,
        "column": 59
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1328,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 1328,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "byte",
        "line": 1328,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "inventor30",
        "line": 1328,
        "column": 14
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1328,
        "column": 27
      },
      {
        "id": "*",
        "value": "*",
        "line": 1328,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "ageatapp",
        "line": 1328,
        "column": 39
      },
      {
        "id": "<",
        "value": "<",
        "line": 1328,
        "column": 47
      },
      {
        "id": "=",
        "value": "=",
        "line": 1328,
        "column": 48
      },
      {
        "id": "number",
        "value": "30",
        "line": 1328,
        "column": 49
      },
      {
        "id": "number",
        "value": "2012",
        "line": 1328,
        "column": 67
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1328,
        "column": 56
      },
      {
        "id": "+",
        "value": "+",
        "line": 1328,
        "column": 62
      },
      {
        "id": "number",
        "value": "30",
        "line": 1328,
        "column": 63
      },
      {
        "id": "<",
        "value": "<",
        "line": 1328,
        "column": 65
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1329,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "byte",
        "line": 1329,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "applicant30",
        "line": 1329,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "applicant",
        "line": 1329,
        "column": 24
      },
      {
        "id": "*",
        "value": "*",
        "line": 1329,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "ageatapp",
        "line": 1329,
        "column": 37
      },
      {
        "id": "<",
        "value": "<",
        "line": 1329,
        "column": 45
      },
      {
        "id": "=",
        "value": "=",
        "line": 1329,
        "column": 46
      },
      {
        "id": "number",
        "value": "30",
        "line": 1329,
        "column": 47
      },
      {
        "id": "number",
        "value": "2012",
        "line": 1329,
        "column": 65
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1329,
        "column": 54
      },
      {
        "id": "+",
        "value": "+",
        "line": 1329,
        "column": 60
      },
      {
        "id": "number",
        "value": "30",
        "line": 1329,
        "column": 61
      },
      {
        "id": "<",
        "value": "<",
        "line": 1329,
        "column": 63
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1330,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "byte",
        "line": 1330,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "grantee30",
        "line": 1330,
        "column": 10
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "grantee",
        "line": 1330,
        "column": 22
      },
      {
        "id": "*",
        "value": "*",
        "line": 1330,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "ageatapp",
        "line": 1330,
        "column": 33
      },
      {
        "id": "<",
        "value": "<",
        "line": 1330,
        "column": 41
      },
      {
        "id": "=",
        "value": "=",
        "line": 1330,
        "column": 42
      },
      {
        "id": "number",
        "value": "30",
        "line": 1330,
        "column": 43
      },
      {
        "id": "number",
        "value": "2012",
        "line": 1330,
        "column": 61
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1330,
        "column": 50
      },
      {
        "id": "+",
        "value": "+",
        "line": 1330,
        "column": 56
      },
      {
        "id": "number",
        "value": "30",
        "line": 1330,
        "column": 57
      },
      {
        "id": "<",
        "value": "<",
        "line": 1330,
        "column": 59
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1331,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "top1pc",
        "line": 1331,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_rank_n",
        "line": 1331,
        "column": 14
      },
      {
        "id": ">",
        "value": ">",
        "line": 1331,
        "column": 24
      },
      {
        "id": "number",
        "value": ".99",
        "line": 1331,
        "column": 25
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inventor30",
        "line": 1331,
        "column": 32
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 1331,
        "column": 42
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 1331,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1332,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "top5pc",
        "line": 1332,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_rank_n",
        "line": 1332,
        "column": 14
      },
      {
        "id": ">",
        "value": ">",
        "line": 1332,
        "column": 24
      },
      {
        "id": "number",
        "value": ".95",
        "line": 1332,
        "column": 25
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inventor30",
        "line": 1332,
        "column": 32
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 1332,
        "column": 42
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 1332,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 1333,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1333,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor30",
        "line": 1333,
        "column": 12
      },
      {
        "id": ":",
        "value": ":",
        "line": 1333,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1333,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1333,
        "column": 29
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 1333,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 1333,
        "column": 46
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inventor30",
        "line": 1333,
        "column": 55
      },
      {
        "id": "==",
        "value": "==",
        "line": 1333,
        "column": 65
      },
      {
        "id": "number",
        "value": "1",
        "line": 1333,
        "column": 67
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 1334,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1334,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor30",
        "line": 1334,
        "column": 12
      },
      {
        "id": ":",
        "value": ":",
        "line": 1334,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 1334,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "total",
        "line": 1334,
        "column": 28
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_N",
        "line": 1334,
        "column": 36
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inventor30",
        "line": 1334,
        "column": 43
      },
      {
        "id": "==",
        "value": "==",
        "line": 1334,
        "column": 53
      },
      {
        "id": "number",
        "value": "1",
        "line": 1334,
        "column": 55
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1335,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1335,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1335,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1335,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "total",
        "line": 1335,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1336,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_top5pc",
        "line": 1336,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1336,
        "column": 19
      },
      {
        "id": ">",
        "value": ">",
        "line": 1336,
        "column": 28
      },
      {
        "id": "number",
        "value": ".95",
        "line": 1336,
        "column": 29
      },
      {
        "id": "&",
        "value": "&",
        "line": 1336,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1336,
        "column": 35
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 1336,
        "column": 44
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 1336,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1337,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_top5pc",
        "line": 1337,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": ".",
        "line": 1337,
        "column": 23
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inventor30",
        "line": 1337,
        "column": 28
      },
      {
        "id": "==",
        "value": "==",
        "line": 1337,
        "column": 38
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 1337,
        "column": 40
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 1338,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_bin",
        "line": 1338,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "min",
        "line": 1338,
        "column": 13
      },
      {
        "id": "number",
        "value": "1",
        "line": 1338,
        "column": 17
      },
      {
        "id": "+",
        "value": "+",
        "line": 1338,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "floor",
        "line": 1338,
        "column": 20
      },
      {
        "id": "number",
        "value": "100",
        "line": 1338,
        "column": 26
      },
      {
        "id": "*",
        "value": "*",
        "line": 1338,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "par_rank_n",
        "line": 1338,
        "column": 30
      },
      {
        "id": ",",
        "value": ",",
        "line": 1338,
        "column": 42
      },
      {
        "id": "number",
        "value": "100",
        "line": 1338,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1339,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1339,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1339,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "applicant",
        "line": 1339,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "grantee",
        "line": 1339,
        "column": 36
      },
      {
        "id": "*",
        "value": "*",
        "line": 1339,
        "column": 44
      },
      {
        "id": "number",
        "value": "30",
        "line": 1339,
        "column": 45
      },
      {
        "id": "identifier",
        "value": "top1pc",
        "line": 1339,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "top5pc",
        "line": 1339,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "fcit_top5pc",
        "line": 1339,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1339,
        "column": 75
      },
      {
        "id": "identifier",
        "value": "par_fam_inc_mean",
        "line": 1339,
        "column": 81
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_fam_inc",
        "line": 1339,
        "column": 100
      },
      {
        "id": "identifier",
        "value": "p50",
        "line": 1339,
        "column": 113
      },
      {
        "id": "identifier",
        "value": "par_fam_inc_p50",
        "line": 1339,
        "column": 118
      },
      {
        "id": "identifier",
        "value": "par_fam_inc",
        "line": 1339,
        "column": 136
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1339,
        "column": 149
      },
      {
        "id": "identifier",
        "value": "par_bin",
        "line": 1339,
        "column": 152
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 1339,
        "column": 161
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1340,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1340,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 1340,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1340,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 1340,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 1340,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "inventor_on_par_inc8084",
        "line": 1340,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1340,
        "column": 46
      }
    ]
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1343,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 2: Patent rates by race and ethnicity, NYC",
    "line": 1344,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1345,
    "column": 1
  },
  {
    "id": "comment",
    "value": "*Reweighted to match whites on 3rd grade test scores",
    "line": 1346,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1347,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1347,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1347,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 1347,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1347,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1347,
        "column": 19
      },
      {
        "id": "}",
        "value": "}",
        "line": 1347,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1347,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 1348,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1348,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1348,
        "column": 12
      },
      {
        "id": "*",
        "value": "*",
        "line": 1348,
        "column": 20
      },
      {
        "id": "number",
        "value": "1000",
        "line": 1348,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1349,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 1349,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1349,
        "column": 13
      },
      {
        "id": "identifier",
        "value": ".",
        "line": 1349,
        "column": 15
      },
      {
        "id": "|",
        "value": "|",
        "line": 1349,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "ethn",
        "line": 1349,
        "column": 19
      },
      {
        "id": "==",
        "value": "==",
        "line": 1349,
        "column": 23
      },
      {
        "id": "number",
        "value": "1",
        "line": 1349,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "decode",
      "line": 1350,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 1350,
        "column": 8
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 1350,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1350,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1351,
      "column": 1
    },
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1351,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1351,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1351,
        "column": 18
      },
      {
        "id": "&",
        "value": "&",
        "line": 1351,
        "column": 28
      },
      {
        "id": "~",
        "value": "~",
        "line": 1351,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1351,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1351,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "preserve",
      "line": 1352,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1353,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1353,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1353,
        "column": 17
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1353,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1353,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1354,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "weight",
        "line": 1354,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"none\"",
        "line": 1354,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tempfile",
      "line": 1355,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "raw",
        "line": 1355,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1356,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`raw'",
        "line": 1356,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "restore",
      "line": 1357,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "preserve",
      "line": 1358,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1359,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1359,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1359,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 1359,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1359,
        "column": 32
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "stuid",
        "line": 1359,
        "column": 34
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1359,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1359,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "math_vin3",
        "line": 1359,
        "column": 54
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 1360,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "wide",
        "line": 1360,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1360,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1360,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 1360,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "math_vin3",
        "line": 1360,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 1360,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1360,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 1360,
        "column": 51
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1361,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1361,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1361,
        "column": 17
      },
      {
        "id": "*",
        "value": "*",
        "line": 1361,
        "column": 23
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "nWhite",
        "line": 1361,
        "column": 29
      },
      {
        "id": "]",
        "value": "]",
        "line": 1361,
        "column": 35
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "fw",
        "line": 1361,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1362,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "weight",
        "line": 1362,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"math3\"",
        "line": 1362,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 1363,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "long",
        "line": 1363,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1363,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 1363,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "weight",
        "line": 1363,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 1363,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1363,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 1363,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tempfile",
      "line": 1364,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "math3",
        "line": 1364,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1365,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`math3'",
        "line": 1365,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "restore",
      "line": 1366,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "xtile",
      "line": 1367,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "par_vin",
        "line": 1367,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1367,
        "column": 17
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "n",
        "line": 1367,
        "column": 27
      },
      {
        "id": "number",
        "value": "20",
        "line": 1367,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1368,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1368,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1368,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 1368,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1368,
        "column": 32
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "stuid",
        "line": 1368,
        "column": 34
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1368,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1368,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "par_vin",
        "line": 1368,
        "column": 54
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 1369,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "wide",
        "line": 1369,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1369,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1369,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 1369,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "par_vin",
        "line": 1369,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 1369,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1369,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 1369,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1370,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1370,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1370,
        "column": 17
      },
      {
        "id": "*",
        "value": "*",
        "line": 1370,
        "column": 23
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "nWhite",
        "line": 1370,
        "column": 29
      },
      {
        "id": "]",
        "value": "]",
        "line": 1370,
        "column": 35
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "fw",
        "line": 1370,
        "column": 26
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1371,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "weight",
        "line": 1371,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "string",
        "value": "\"par_vin\"",
        "line": 1371,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reshape",
      "line": 1372,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "long",
        "line": 1372,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1372,
        "column": 14
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "i",
        "line": 1372,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "weight",
        "line": 1372,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "j",
        "line": 1372,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1372,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "string",
        "line": 1372,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "append",
      "line": 1373,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1373,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`math3'",
        "line": 1373,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "append",
      "line": 1374,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1374,
        "column": 8
      },
      {
        "id": "`'",
        "value": "`raw'",
        "line": 1374,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1375,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1375,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 1375,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1375,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 1375,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 1375,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "race_reweighting",
        "line": 1375,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1375,
        "column": 39
      }
    ]
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1378,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 3: Percentage of Female Inventors by Birth Cohort",
    "line": 1379,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1380,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1381,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "raw",
        "line": 1381,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1381,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_db_indv",
        "line": 1381,
        "column": 9
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1381,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1382,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "female",
        "line": 1382,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1382,
        "column": 14
      },
      {
        "id": "==",
        "value": "==",
        "line": 1382,
        "column": 22
      },
      {
        "id": "string",
        "value": "\"F\"",
        "line": 1382,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1383,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ssa_yob",
        "line": 1383,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "yob",
        "line": 1383,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1384,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1384,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 1384,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "count",
        "line": 1384,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "freq",
        "line": 1384,
        "column": 32
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 1384,
        "column": 37
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1384,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "yob",
        "line": 1384,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1385,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "freq",
        "line": 1385,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 1385,
        "column": 13
      },
      {
        "id": "number",
        "value": "10",
        "line": 1385,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1386,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "female",
        "line": 1386,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "female",
        "line": 1386,
        "column": 18
      },
      {
        "id": "*",
        "value": "*",
        "line": 1386,
        "column": 24
      },
      {
        "id": "number",
        "value": "100",
        "line": 1386,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1387,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1387,
        "column": 6
      },
      {
        "id": "{",
        "value": "{",
        "line": 1387,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1387,
        "column": 15
      },
      {
        "id": "}",
        "value": "}",
        "line": 1387,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 1387,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "female_by_cohort",
        "line": 1387,
        "column": 18
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1387,
        "column": 36
      }
    ]
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1390,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 4: Patent rates vs grade 3 math scores",
    "line": 1391,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1392,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1394,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1394,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1394,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 1394,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1394,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1394,
        "column": 19
      },
      {
        "id": "}",
        "value": "}",
        "line": 1394,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1394,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1395,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1395,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1395,
        "column": 14
      },
      {
        "id": "*",
        "value": "*",
        "line": 1395,
        "column": 22
      },
      {
        "id": "number",
        "value": "1000",
        "line": 1395,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "binscatter",
      "line": 1396,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1396,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1396,
        "column": 19
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "line",
        "line": 1396,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "connect",
        "line": 1396,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "savedata",
        "line": 1396,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1396,
        "column": 49
      },
      {
        "id": "{",
        "value": "{",
        "line": 1396,
        "column": 57
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1396,
        "column": 58
      },
      {
        "id": "}",
        "value": "}",
        "line": 1396,
        "column": 59
      },
      {
        "id": "/",
        "value": "/",
        "line": 1396,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "nyc_inv_on_math3",
        "line": 1396,
        "column": 61
      },
      {
        "id": "identifier",
        "value": "savegraph",
        "line": 1396,
        "column": 79
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1396,
        "column": 89
      },
      {
        "id": "{",
        "value": "{",
        "line": 1396,
        "column": 97
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1396,
        "column": 98
      },
      {
        "id": "}",
        "value": "}",
        "line": 1396,
        "column": 99
      },
      {
        "id": "/",
        "value": "/",
        "line": 1396,
        "column": 100
      },
      {
        "id": "identifier",
        "value": "nyc_inv_on_math3",
        "line": 1396,
        "column": 101
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1396,
        "column": 120
      },
      {
        "id": "identifier",
        "value": "yt",
        "line": 1396,
        "column": 128
      },
      {
        "id": "identifier",
        "value": "Inventors",
        "line": 1396,
        "column": 131
      },
      {
        "id": "identifier",
        "value": "per",
        "line": 1396,
        "column": 141
      },
      {
        "id": "identifier",
        "value": "Thousand",
        "line": 1396,
        "column": 145
      },
      {
        "id": "identifier",
        "value": "xt",
        "line": 1396,
        "column": 155
      },
      {
        "id": "string",
        "value": "\"3rd Grade Math Test Score (Standard Deviations Relative to Mean)\"",
        "line": 1396,
        "column": 158
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1397,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1397,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1397,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1398,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p80",
        "line": 1398,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1398,
        "column": 11
      },
      {
        "id": ">",
        "value": ">",
        "line": 1398,
        "column": 19
      },
      {
        "id": "number",
        "value": ".8",
        "line": 1398,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "binscatter",
      "line": 1399,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1399,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1399,
        "column": 19
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "line",
        "line": 1399,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "connect",
        "line": 1399,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "by",
        "line": 1399,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "p80",
        "line": 1399,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "savedata",
        "line": 1399,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1399,
        "column": 57
      },
      {
        "id": "{",
        "value": "{",
        "line": 1399,
        "column": 65
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1399,
        "column": 66
      },
      {
        "id": "}",
        "value": "}",
        "line": 1399,
        "column": 67
      },
      {
        "id": "/",
        "value": "/",
        "line": 1399,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "nyc_inv_on_math3_bypar",
        "line": 1399,
        "column": 69
      },
      {
        "id": "identifier",
        "value": "savegraph",
        "line": 1399,
        "column": 94
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1399,
        "column": 104
      },
      {
        "id": "{",
        "value": "{",
        "line": 1399,
        "column": 112
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1399,
        "column": 113
      },
      {
        "id": "}",
        "value": "}",
        "line": 1399,
        "column": 114
      },
      {
        "id": "/",
        "value": "/",
        "line": 1399,
        "column": 115
      },
      {
        "id": "identifier",
        "value": "nyc_inv_on_math3_bypar",
        "line": 1399,
        "column": 116
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1399,
        "column": 142
      },
      {
        "id": "identifier",
        "value": "yt",
        "line": 1399,
        "column": 151
      },
      {
        "id": "identifier",
        "value": "Inventors",
        "line": 1399,
        "column": 154
      },
      {
        "id": "identifier",
        "value": "per",
        "line": 1399,
        "column": 164
      },
      {
        "id": "identifier",
        "value": "Thousand",
        "line": 1399,
        "column": 168
      },
      {
        "id": "identifier",
        "value": "xt",
        "line": 1399,
        "column": 178
      },
      {
        "id": "string",
        "value": "\"3rd Grade Math Test Score (Standard Deviations Relative to Mean)\"",
        "line": 1399,
        "column": 181
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "binscatter",
      "line": 1400,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inv_1k",
        "line": 1400,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1400,
        "column": 19
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "n",
        "line": 1400,
        "column": 26
      },
      {
        "id": "number",
        "value": "10",
        "line": 1400,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "line",
        "line": 1400,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "connect",
        "line": 1400,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "by",
        "line": 1400,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1400,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "savedata",
        "line": 1400,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1400,
        "column": 69
      },
      {
        "id": "{",
        "value": "{",
        "line": 1400,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1400,
        "column": 78
      },
      {
        "id": "}",
        "value": "}",
        "line": 1400,
        "column": 79
      },
      {
        "id": "/",
        "value": "/",
        "line": 1400,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "nyc_inv_on_math3_byrace",
        "line": 1400,
        "column": 81
      },
      {
        "id": "identifier",
        "value": "savegraph",
        "line": 1400,
        "column": 106
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1400,
        "column": 116
      },
      {
        "id": "{",
        "value": "{",
        "line": 1400,
        "column": 124
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1400,
        "column": 125
      },
      {
        "id": "}",
        "value": "}",
        "line": 1400,
        "column": 126
      },
      {
        "id": "/",
        "value": "/",
        "line": 1400,
        "column": 127
      },
      {
        "id": "identifier",
        "value": "nyc_inv_on_math3_byrace",
        "line": 1400,
        "column": 128
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1400,
        "column": 155
      },
      {
        "id": "identifier",
        "value": "yt",
        "line": 1400,
        "column": 164
      },
      {
        "id": "identifier",
        "value": "Inventors",
        "line": 1400,
        "column": 167
      },
      {
        "id": "identifier",
        "value": "per",
        "line": 1400,
        "column": 177
      },
      {
        "id": "identifier",
        "value": "Thousand",
        "line": 1400,
        "column": 181
      },
      {
        "id": "identifier",
        "value": "xt",
        "line": 1400,
        "column": 191
      },
      {
        "id": "string",
        "value": "\"3rd Grade Math Test Score (Standard Deviations Relative to Mean)\"",
        "line": 1400,
        "column": 194
      }
    ]
  },
  {
    "id": "comment",
    "value": "// Panel C is sourced from the data for Table 2",
    "line": 1401,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1405,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 5:  Pct. of Gap in Patent Rates for Low vs. High-Inc. Students Explained",
    "line": 1406,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* by Test Scores in Grades 3-8",
    "line": 1407,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1408,
    "column": 1
  },
  {
    "id": "comment",
    "value": "// This figure comes from the data for Table 2",
    "line": 1409,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1414,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 6: Patent rates and college attended",
    "line": 1415,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1416,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Panel A is done with the public online table",
    "line": 1417,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Panel B is binscatter versus parent income",
    "line": 1418,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1419,
      "column": 1
    },
    "varlist": [
      {
        "id": "*",
        "value": "*",
        "line": 1419,
        "column": 5
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1419,
        "column": 11
      },
      {
        "id": "<",
        "value": "<",
        "line": 1419,
        "column": 17
      },
      {
        "id": "=",
        "value": "=",
        "line": 1419,
        "column": 18
      },
      {
        "id": "number",
        "value": "1984",
        "line": 1419,
        "column": 19
      },
      {
        "id": "&",
        "value": "&",
        "line": 1419,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 1419,
        "column": 26
      },
      {
        "id": "==",
        "value": "==",
        "line": 1419,
        "column": 34
      },
      {
        "id": "number",
        "value": "0",
        "line": 1419,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1419,
        "column": 39
      },
      {
        "id": "string",
        "value": "\"/home/stataharvard/patents/draft2016/data/kids_10_v1_withcoll.dta\"",
        "line": 1419,
        "column": 45
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1419,
        "column": 114
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "super_opeid_22",
      "line": 1420,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bysort",
          "line": 1420,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1420,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1420,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "invperstud",
        "line": 1420,
        "column": 29
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1420,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1420,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "super_opeid_22",
      "line": 1421,
      "column": 8
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bysort",
          "line": 1421,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1421,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1421,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "totalstud",
        "line": 1421,
        "column": 29
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 1421,
        "column": 42
      },
      {
        "id": "number",
        "value": "1",
        "line": 1421,
        "column": 48
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1422,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "totalstud",
        "line": 1422,
        "column": 9
      },
      {
        "id": ">",
        "value": ">",
        "line": 1422,
        "column": 18
      },
      {
        "id": "number",
        "value": "2500",
        "line": 1422,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gsort",
      "line": 1423,
      "column": 1
    },
    "varlist": [
      {
        "id": "-",
        "value": "-",
        "line": 1423,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "invperstud",
        "line": 1423,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "super_opeid_22",
        "line": 1423,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1424,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "flag",
        "line": 1424,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "super_opeid_22",
        "line": 1424,
        "column": 12
      },
      {
        "id": "!=",
        "value": "!=",
        "line": 1424,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "super_opeid_22",
        "line": 1424,
        "column": 30
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "_n",
        "line": 1424,
        "column": 45
      },
      {
        "id": "-",
        "value": "-",
        "line": 1424,
        "column": 47
      },
      {
        "id": "number",
        "value": "1",
        "line": 1424,
        "column": 48
      },
      {
        "id": "]",
        "value": "]",
        "line": 1424,
        "column": 49
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1425,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 1425,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 1425,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "flag",
        "line": 1425,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1426,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1426,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1426,
        "column": 20
      },
      {
        "id": "*",
        "value": "*",
        "line": 1426,
        "column": 28
      },
      {
        "id": "number",
        "value": "1000",
        "line": 1426,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1427,
      "column": 1
    },
    "=": [
      {
        "id": "number",
        "value": "10",
        "line": 1427,
        "column": 15
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 1427,
        "column": 9
      },
      {
        "id": "<",
        "value": "<",
        "line": 1427,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "binscatter",
      "line": 1428,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1428,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "par_rank_n",
        "line": 1428,
        "column": 21
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "10",
        "line": 1428,
        "column": 41
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 1428,
        "column": 35
      },
      {
        "id": "<",
        "value": "<",
        "line": 1428,
        "column": 39
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nq",
        "line": 1428,
        "column": 45
      },
      {
        "id": "number",
        "value": "20",
        "line": 1428,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "savegraph",
        "line": 1428,
        "column": 52
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "home",
        "line": 1428,
        "column": 63
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 67
      },
      {
        "id": "identifier",
        "value": "stataharvard",
        "line": 1428,
        "column": 68
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 80
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1428,
        "column": 81
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 88
      },
      {
        "id": "identifier",
        "value": "draft2016",
        "line": 1428,
        "column": 89
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 98
      },
      {
        "id": "identifier",
        "value": "output_v2",
        "line": 1428,
        "column": 99
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 108
      },
      {
        "id": "identifier",
        "value": "top10coll_inv_parinc",
        "line": 1428,
        "column": 109
      },
      {
        "id": "identifier",
        "value": "savedata",
        "line": 1428,
        "column": 131
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 140
      },
      {
        "id": "identifier",
        "value": "home",
        "line": 1428,
        "column": 141
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 145
      },
      {
        "id": "identifier",
        "value": "stataharvard",
        "line": 1428,
        "column": 146
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 158
      },
      {
        "id": "identifier",
        "value": "patents",
        "line": 1428,
        "column": 159
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 166
      },
      {
        "id": "identifier",
        "value": "draft2016",
        "line": 1428,
        "column": 167
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 176
      },
      {
        "id": "identifier",
        "value": "output_v2",
        "line": 1428,
        "column": 177
      },
      {
        "id": "/",
        "value": "/",
        "line": 1428,
        "column": 186
      },
      {
        "id": "identifier",
        "value": "top10coll_inv_parinc",
        "line": 1428,
        "column": 187
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1428,
        "column": 209
      },
      {
        "id": "identifier",
        "value": "line",
        "line": 1428,
        "column": 217
      },
      {
        "id": "identifier",
        "value": "none",
        "line": 1428,
        "column": 222
      },
      {
        "id": "identifier",
        "value": "xt",
        "line": 1428,
        "column": 228
      },
      {
        "id": "identifier",
        "value": "Parent",
        "line": 1428,
        "column": 231
      },
      {
        "id": "identifier",
        "value": "Rank",
        "line": 1428,
        "column": 238
      },
      {
        "id": "identifier",
        "value": "yt",
        "line": 1428,
        "column": 244
      },
      {
        "id": "identifier",
        "value": "Inventors",
        "line": 1428,
        "column": 247
      },
      {
        "id": "identifier",
        "value": "per",
        "line": 1428,
        "column": 257
      },
      {
        "id": "identifier",
        "value": "Thousand",
        "line": 1428,
        "column": 261
      }
    ]
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1433,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 7: Patent rates vs. class-level patent rates in childhood environment",
    "line": 1434,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1435,
    "column": 1
  },
  {
    "id": "comment",
    "value": "// Panel A: Father",
    "line": 1436,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1437,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1437,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1437,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1437,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1437,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1437,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1437,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1437,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1438,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "dad_inv",
        "line": 1438,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1438,
        "column": 16
      },
      {
        "id": "number",
        "value": "1",
        "line": 1438,
        "column": 18
      },
      {
        "id": "&",
        "value": "&",
        "line": 1438,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "coinvent",
        "line": 1438,
        "column": 22
      },
      {
        "id": "==",
        "value": "==",
        "line": 1438,
        "column": 30
      },
      {
        "id": "number",
        "value": "0",
        "line": 1438,
        "column": 32
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1439,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "$section2sample",
        "line": 1439,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1440,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "class_prim_dad",
        "line": 1440,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 1440,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1441,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "class_prim_kid",
        "line": 1441,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "related_class",
        "line": 1441,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1442,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1442,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1442,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1442,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "class",
        "line": 1442,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "related_class",
        "line": 1442,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1442,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 1442,
        "column": 37
      },
      {
        "id": "{",
        "value": "{",
        "line": 1442,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 1442,
        "column": 39
      },
      {
        "id": "}",
        "value": "}",
        "line": 1442,
        "column": 46
      },
      {
        "id": "/",
        "value": "/",
        "line": 1442,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "class_distance",
        "line": 1442,
        "column": 48
      },
      {
        "id": "/",
        "value": "/",
        "line": 1442,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "class_distance_inside_v2",
        "line": 1442,
        "column": 63
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1442,
        "column": 89
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1442,
        "column": 94
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1442,
        "column": 100
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1442,
        "column": 108
      },
      {
        "id": "identifier",
        "value": "share_inclass",
        "line": 1442,
        "column": 118
      },
      {
        "id": "identifier",
        "value": "distance_rank",
        "line": 1442,
        "column": 132
      },
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1442,
        "column": 147
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1444,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "count",
        "line": 1444,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "kids",
        "line": 1444,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1444,
        "column": 25
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1444,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "distance_rank",
        "line": 1444,
        "column": 37
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 1445,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "total_kids",
        "line": 1445,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 1445,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "kids",
        "line": 1445,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1446,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "density",
        "line": 1446,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "kids",
        "line": 1446,
        "column": 15
      },
      {
        "id": "/",
        "value": "/",
        "line": 1446,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "total_kids",
        "line": 1446,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1447,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kids",
        "line": 1447,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "total_kids",
        "line": 1447,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1448,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "density",
        "line": 1448,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "density",
        "line": 1448,
        "column": 19
      },
      {
        "id": "*",
        "value": "*",
        "line": 1448,
        "column": 26
      },
      {
        "id": "number",
        "value": "1000",
        "line": 1448,
        "column": 27
      }
    ]
  },
  {
    "id": "comment",
    "value": "* drop all the kids that weren't actually inventors that are already there in denom",
    "line": 1449,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1450,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1450,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "distance_rank",
        "line": 1450,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1452,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1452,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 1452,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1452,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 1452,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 1452,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "distance_ownddad_class_8084",
        "line": 1452,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1452,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "version",
        "line": 1452,
        "column": 58
      },
      {
        "id": "number",
        "value": "12",
        "line": 1452,
        "column": 66
      }
    ]
  },
  {
    "id": "comment",
    "value": "// Panels B and C are produced in the code for Tables 3 & 4",
    "line": 1453,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1456,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 8: Patent rates by CZ where child grew up",
    "line": 1457,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1458,
    "column": 1
  },
  {
    "id": "comment",
    "value": "// Uses Online Table",
    "line": 1459,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1462,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 9: Patent rates of children and adults in CZ",
    "line": 1463,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1464,
    "column": 1
  },
  {
    "id": "comment",
    "value": "// Uses Online Table",
    "line": 1465,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1468,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 10: Percent of female inventors by origin",
    "line": 1469,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1470,
    "column": 1
  },
  {
    "id": "comment",
    "value": "// Uses Online Table",
    "line": 1471,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1474,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Figure 11: Income and Citations of Inventors by Characteristics at Birth",
    "line": 1475,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1476,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1477,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1477,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1477,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 1477,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1477,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1477,
        "column": 19
      },
      {
        "id": "}",
        "value": "}",
        "line": 1477,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1477,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1478,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p80",
        "line": 1478,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1478,
        "column": 11
      },
      {
        "id": ">",
        "value": ">",
        "line": 1478,
        "column": 19
      },
      {
        "id": "number",
        "value": ".8",
        "line": 1478,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1478,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1478,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1478,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "decode",
      "line": 1479,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "ethn",
        "line": 1479,
        "column": 8
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 1479,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1479,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1480,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "minority",
        "line": 1480,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inlist",
        "line": 1480,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1480,
        "column": 23
      },
      {
        "id": ",",
        "value": ",",
        "line": 1480,
        "column": 32
      },
      {
        "id": "string",
        "value": "\"Black\"",
        "line": 1480,
        "column": 34
      },
      {
        "id": ",",
        "value": ",",
        "line": 1480,
        "column": 41
      },
      {
        "id": "string",
        "value": "\"Hispanic\"",
        "line": 1480,
        "column": 43
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "ethnicity",
        "line": 1480,
        "column": 58
      },
      {
        "id": "~=",
        "value": "~=",
        "line": 1480,
        "column": 67
      },
      {
        "id": "string",
        "value": "\"Native American\"",
        "line": 1480,
        "column": 69
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1481,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1481,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1481,
        "column": 17
      },
      {
        "id": "number",
        "value": "1",
        "line": 1481,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 1482,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1482,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1482,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1482,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1482,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 1482,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 1482,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 1483,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1483,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1483,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 1483,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1483,
        "column": 17
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_N",
        "line": 1483,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1484,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1484,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1484,
        "column": 25
      },
      {
        "id": "/",
        "value": "/",
        "line": 1484,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1484,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1485,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cittop5",
        "line": 1485,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1485,
        "column": 15
      },
      {
        "id": ">",
        "value": ">",
        "line": 1485,
        "column": 28
      },
      {
        "id": "number",
        "value": ".95",
        "line": 1485,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1487,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1487,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 1487,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1488,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 1488,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1488,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 1488,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 1488,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1488,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 1488,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1488,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 1488,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 1488,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1488,
        "column": 37
      },
      {
        "id": "}",
        "value": "}",
        "line": 1488,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1488,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1488,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1488,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1488,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1488,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1488,
        "column": 77
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1489,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1489,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1489,
        "column": 16
      },
      {
        "id": "number",
        "value": "2012",
        "line": 1489,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 1491,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 1491,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 1491,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 1491,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "p80",
        "line": 1491,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "minority",
        "line": 1491,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 1491,
        "column": 37
      },
      {
        "id": "{",
        "value": "{",
        "line": 1491,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "preserve",
      "line": 1492,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 1493,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "collapselist",
        "line": 1493,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 1494,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "v",
        "line": 1494,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "of",
        "line": 1494,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "varlist",
        "line": 1494,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1494,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "cittop5",
        "line": 1494,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1494,
        "column": 36
      },
      {
        "id": "{",
        "value": "{",
        "line": 1494,
        "column": 46
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 1495,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "collapselist",
        "line": 1495,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 1495,
        "column": 21
      },
      {
        "id": "{",
        "value": "{",
        "line": 1495,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "collapselist",
        "line": 1495,
        "column": 23
      },
      {
        "id": "}",
        "value": "}",
        "line": 1495,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1495,
        "column": 38
      },
      {
        "id": "`'",
        "value": "`v'",
        "line": 1495,
        "column": 44
      },
      {
        "id": "identifier",
        "value": "_mean",
        "line": 1495,
        "column": 47
      }
    ],
    "=": [
      {
        "id": "`'",
        "value": "`v'",
        "line": 1495,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "semean",
        "line": 1495,
        "column": 58
      },
      {
        "id": "`'",
        "value": "`v'",
        "line": 1495,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "_semean",
        "line": 1495,
        "column": 69
      },
      {
        "id": "`'",
        "value": "`v'",
        "line": 1495,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "p50",
        "line": 1495,
        "column": 82
      },
      {
        "id": "`'",
        "value": "`v'",
        "line": 1495,
        "column": 87
      },
      {
        "id": "identifier",
        "value": "_p50",
        "line": 1495,
        "column": 90
      },
      {
        "id": "`'",
        "value": "`v'",
        "line": 1495,
        "column": 95
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1497,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "$",
        "line": 1497,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1497,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "collapselist",
        "line": 1497,
        "column": 12
      },
      {
        "id": "}",
        "value": "}",
        "line": 1497,
        "column": 24
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1497,
        "column": 28
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 1497,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1498,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1498,
        "column": 9
      },
      {
        "id": "`'",
        "value": "`var'",
        "line": 1498,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tempfile",
      "line": 1499,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`var'",
        "line": 1499,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1500,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "``var'",
        "line": 1500,
        "column": 6
      },
      {
        "id": "'",
        "value": "'",
        "line": 1500,
        "column": 12
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "restore",
      "line": 1501,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 1503,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 1504,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "var",
        "line": 1504,
        "column": 9
      }
    ],
    "in": [
      {
        "id": "identifier",
        "value": "p80",
        "line": 1504,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "minority",
        "line": 1504,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 1504,
        "column": 30
      },
      {
        "id": "{",
        "value": "{",
        "line": 1504,
        "column": 38
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "append",
      "line": 1505,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1505,
        "column": 8
      },
      {
        "id": "`'",
        "value": "``var'",
        "line": 1505,
        "column": 14
      },
      {
        "id": "'",
        "value": "'",
        "line": 1505,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "order",
      "line": 1507,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p80",
        "line": 1507,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "minority",
        "line": 1507,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 1507,
        "column": 20
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1508,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1508,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 1508,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1508,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 1508,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 1508,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "hhjkpredictions",
        "line": 1508,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1508,
        "column": 38
      }
    ]
  },
  {
    "id": "comment",
    "value": "* fcit_by_minority is from nyc sample -- use above file",
    "line": 1510,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* fcit_by_p80 is from kids_10",
    "line": 1512,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1513,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1513,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1513,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "kids_10_$",
        "line": 1513,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1513,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1513,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1513,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1513,
        "column": 24
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1514,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1514,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1514,
        "column": 17
      },
      {
        "id": "number",
        "value": "1",
        "line": 1514,
        "column": 19
      },
      {
        "id": "&",
        "value": "&",
        "line": 1514,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1514,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1514,
        "column": 31
      },
      {
        "id": ",",
        "value": ",",
        "line": 1514,
        "column": 37
      },
      {
        "id": "number",
        "value": "1980",
        "line": 1514,
        "column": 39
      },
      {
        "id": ",",
        "value": ",",
        "line": 1514,
        "column": 43
      },
      {
        "id": "number",
        "value": "1984",
        "line": 1514,
        "column": 44
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1515,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p80",
        "line": 1515,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1515,
        "column": 11
      },
      {
        "id": ">",
        "value": ">",
        "line": 1515,
        "column": 19
      },
      {
        "id": "number",
        "value": ".8",
        "line": 1515,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1515,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1515,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1515,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 1516,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1516,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1516,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1516,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1516,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 1516,
        "column": 34
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 1516,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 1517,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1517,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1517,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 1517,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1517,
        "column": 17
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_N",
        "line": 1517,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1518,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1518,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1518,
        "column": 25
      },
      {
        "id": "/",
        "value": "/",
        "line": 1518,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1518,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1519,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cittop5",
        "line": 1519,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1519,
        "column": 15
      },
      {
        "id": ">",
        "value": ">",
        "line": 1519,
        "column": 28
      },
      {
        "id": "number",
        "value": ".95",
        "line": 1519,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1520,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_tin",
        "line": 1520,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 1520,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1521,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 1521,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1521,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 1521,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 1521,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1521,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 1521,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1521,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 1521,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 1521,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1521,
        "column": 37
      },
      {
        "id": "}",
        "value": "}",
        "line": 1521,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1521,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1521,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1521,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1521,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1521,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1521,
        "column": 77
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1522,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1522,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1522,
        "column": 16
      },
      {
        "id": "number",
        "value": "2012",
        "line": 1522,
        "column": 19
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1523,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1523,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cittop5_mean",
        "line": 1523,
        "column": 17
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "cittop5",
        "line": 1523,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "semean",
        "line": 1523,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "cittop5_semean",
        "line": 1523,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "cittop5",
        "line": 1523,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1523,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "f1040_inc_mean",
        "line": 1523,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1523,
        "column": 92
      },
      {
        "id": "identifier",
        "value": "semean",
        "line": 1523,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "f1040_inc_semean",
        "line": 1523,
        "column": 111
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1523,
        "column": 128
      },
      {
        "id": "identifier",
        "value": "p50",
        "line": 1523,
        "column": 139
      },
      {
        "id": "identifier",
        "value": "f1040_inc_p50",
        "line": 1523,
        "column": 144
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1523,
        "column": 158
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1523,
        "column": 169
      },
      {
        "id": "identifier",
        "value": "p80",
        "line": 1523,
        "column": 172
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1524,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1524,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 1524,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1524,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 1524,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 1524,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "cittop5_by_p80",
        "line": 1524,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1524,
        "column": 37
      }
    ]
  },
  {
    "id": "comment",
    "value": "* fcit_by_female is for the full sample ",
    "line": 1526,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1527,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "raw",
        "line": 1527,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1527,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_db_indv",
        "line": 1527,
        "column": 9
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1527,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1528,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 1528,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1528,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 1528,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 1528,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1528,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 1528,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1528,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_110",
        "line": 1528,
        "column": 25
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1528,
        "column": 41
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1529,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "m",
        "line": 1529,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1529,
        "column": 8
      },
      {
        "id": "number",
        "value": "1",
        "line": 1529,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "patno",
        "line": 1529,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1529,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "$",
        "line": 1529,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 1529,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 1529,
        "column": 25
      },
      {
        "id": "}",
        "value": "}",
        "line": 1529,
        "column": 32
      },
      {
        "id": "/",
        "value": "/",
        "line": 1529,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "idb",
        "line": 1529,
        "column": 34
      },
      {
        "id": "/",
        "value": "/",
        "line": 1529,
        "column": 37
      },
      {
        "id": "identifier",
        "value": "raw",
        "line": 1529,
        "column": 38
      },
      {
        "id": "/",
        "value": "/",
        "line": 1529,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 1529,
        "column": 42
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "nogen",
        "line": 1529,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1529,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 1529,
        "column": 64
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1530,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit",
        "line": 1530,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "0",
        "line": 1530,
        "column": 16
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1530,
        "column": 21
      },
      {
        "id": "identifier",
        "value": "fcit",
        "line": 1530,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "patno",
      "line": 1531,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1531,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "series",
        "line": 1531,
        "column": 11
      },
      {
        "id": ":",
        "value": ":",
        "line": 1531,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1531,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "teamsize",
        "line": 1531,
        "column": 24
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "total",
        "line": 1531,
        "column": 33
      },
      {
        "id": "number",
        "value": "1",
        "line": 1531,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1532,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 1532,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit",
        "line": 1532,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 1532,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "teamsize",
        "line": 1532,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1533,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "sum",
        "line": 1533,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 1533,
        "column": 16
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1533,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 1533,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1533,
        "column": 33
      },
      {
        "id": "identifier",
        "value": "ssa_yob",
        "line": 1533,
        "column": 41
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ssa_yob",
      "line": 1534,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1534,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1534,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1534,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1534,
        "column": 19
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 1534,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "fcit_adj",
        "line": 1534,
        "column": 41
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ssa_yob",
      "line": 1535,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1535,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1535,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "gen",
        "line": 1535,
        "column": 14
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1535,
        "column": 18
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "_N",
        "line": 1535,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1536,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1536,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1536,
        "column": 23
      },
      {
        "id": "/",
        "value": "/",
        "line": 1536,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "n",
        "line": 1536,
        "column": 37
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1537,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cittop5pc",
        "line": 1537,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_adj_rank",
        "line": 1537,
        "column": 15
      },
      {
        "id": ">",
        "value": ">",
        "line": 1537,
        "column": 28
      },
      {
        "id": "number",
        "value": ".95",
        "line": 1537,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1538,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "female",
        "line": 1538,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "gnd_ind",
        "line": 1538,
        "column": 12
      },
      {
        "id": "==",
        "value": "==",
        "line": 1538,
        "column": 19
      },
      {
        "id": "string",
        "value": "\"F\"",
        "line": 1538,
        "column": 21
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "merge",
      "line": 1539,
      "column": 1
    },
    "varlist": [
      {
        "id": "number",
        "value": "1",
        "line": 1539,
        "column": 7
      },
      {
        "id": ":",
        "value": ":",
        "line": 1539,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "m",
        "line": 1539,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "tin",
        "line": 1539,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1539,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "data",
        "line": 1539,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1539,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 1539,
        "column": 26
      },
      {
        "id": "{",
        "value": "{",
        "line": 1539,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1539,
        "column": 37
      },
      {
        "id": "}",
        "value": "}",
        "line": 1539,
        "column": 38
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "keep",
        "line": 1539,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "match",
        "line": 1539,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1539,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "keepusing",
        "line": 1539,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1539,
        "column": 70
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1539,
        "column": 77
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1540,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1540,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1540,
        "column": 16
      },
      {
        "id": "number",
        "value": "2012",
        "line": 1540,
        "column": 19
      },
      {
        "id": "|",
        "value": "|",
        "line": 1540,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "_m",
        "line": 1540,
        "column": 27
      },
      {
        "id": "==",
        "value": "==",
        "line": 1540,
        "column": 29
      },
      {
        "id": "number",
        "value": "1",
        "line": 1540,
        "column": 31
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1541,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1541,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cittop5_mean",
        "line": 1541,
        "column": 17
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "cittop5",
        "line": 1541,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "semean",
        "line": 1541,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "cittop5_semean",
        "line": 1541,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "cittop5",
        "line": 1541,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "mean",
        "line": 1541,
        "column": 71
      },
      {
        "id": "identifier",
        "value": "f1040_inc_mean",
        "line": 1541,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1541,
        "column": 92
      },
      {
        "id": "identifier",
        "value": "semean",
        "line": 1541,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "f1040_inc_semean",
        "line": 1541,
        "column": 111
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1541,
        "column": 128
      },
      {
        "id": "identifier",
        "value": "p50",
        "line": 1541,
        "column": 139
      },
      {
        "id": "identifier",
        "value": "f1040_inc_p50",
        "line": 1541,
        "column": 144
      },
      {
        "id": "identifier",
        "value": "f1040_inc",
        "line": 1541,
        "column": 158
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1541,
        "column": 170
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 1541,
        "column": 173
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1542,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1542,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 1542,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1542,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 1542,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 1542,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "cittop5_by_female",
        "line": 1542,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1542,
        "column": 40
      }
    ]
  },
  {
    "id": "comment",
    "value": "************************",
    "line": 1548,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************************",
    "line": 1549,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Appendix Figures",
    "line": 1550,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************************",
    "line": 1551,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************************",
    "line": 1552,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1555,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Appendix Figure 1: Sensitivity Analysis of Figure 1",
    "line": 1556,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1557,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Panel A",
    "line": 1558,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* get all soi sample and their patents to see if they invented between age 23 and 40 in years 2001-2012",
    "line": 1559,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1560,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "$",
        "line": 1560,
        "column": 5
      },
      {
        "id": "{",
        "value": "{",
        "line": 1560,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "patpath",
        "line": 1560,
        "column": 7
      },
      {
        "id": "}",
        "value": "}",
        "line": 1560,
        "column": 14
      },
      {
        "id": "/",
        "value": "/",
        "line": 1560,
        "column": 15
      },
      {
        "id": "identifier",
        "value": "soi",
        "line": 1560,
        "column": 16
      },
      {
        "id": "/",
        "value": "/",
        "line": 1560,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "mk_soix_v4a_print.dta",
        "line": 1560,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1560,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "cohort",
      "line": 1561,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1561,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1561,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "cumul",
        "line": 1561,
        "column": 13
      },
      {
        "id": "identifier",
        "value": "par_fam_inc",
        "line": 1561,
        "column": 19
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "s006_matchyr",
        "line": 1561,
        "column": 34
      },
      {
        "id": "]",
        "value": "]",
        "line": 1561,
        "column": 46
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "par_fam_inc",
        "line": 1561,
        "column": 69
      },
      {
        "id": ">",
        "value": ">",
        "line": 1561,
        "column": 80
      },
      {
        "id": "number",
        "value": "0",
        "line": 1561,
        "column": 81
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 1561,
        "column": 32
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "gen",
        "line": 1561,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "par_rank_w",
        "line": 1561,
        "column": 53
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "ren",
      "line": 1562,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kid_unmasked_tin",
        "line": 1562,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "unmasked_tin",
        "line": 1562,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "preserve",
      "line": 1563,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1564,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "raw",
        "line": 1564,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1564,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "pat_idb_v6_110",
        "line": 1564,
        "column": 9
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1564,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1565,
      "column": 1
    },
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1565,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1565,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "unmasked_tin",
        "line": 1565,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tempfile",
      "line": 1566,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventors_nomiss",
        "line": 1566,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "save",
      "line": 1567,
      "column": 1
    },
    "varlist": [
      {
        "id": "`'",
        "value": "`inventors_nomiss'",
        "line": 1567,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "restore",
      "line": 1568,
      "column": 1
    }
  },
  {
    "command": {
      "id": "identifier",
      "value": "joinby",
      "line": 1569,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "unmasked_tin",
        "line": 1569,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "using",
        "line": 1569,
        "column": 21
      },
      {
        "id": "`'",
        "value": "`inventors_nomiss'",
        "line": 1569,
        "column": 27
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "unmatched",
        "line": 1569,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "master",
        "line": 1569,
        "column": 57
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "unmasked_tin",
      "line": 1571,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1571,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1571,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1571,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "badinventor",
        "line": 1571,
        "column": 24
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "max",
        "line": 1571,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "appyear",
        "line": 1571,
        "column": 42
      },
      {
        "id": "-",
        "value": "-",
        "line": 1571,
        "column": 49
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1571,
        "column": 50
      },
      {
        "id": "<",
        "value": "<",
        "line": 1571,
        "column": 57
      },
      {
        "id": "number",
        "value": "23",
        "line": 1571,
        "column": 59
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1572,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1572,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1572,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "appyear",
        "line": 1572,
        "column": 24
      },
      {
        "id": ",",
        "value": ",",
        "line": 1572,
        "column": 31
      },
      {
        "id": "number",
        "value": "2001",
        "line": 1572,
        "column": 33
      },
      {
        "id": ",",
        "value": ",",
        "line": 1572,
        "column": 37
      },
      {
        "id": "number",
        "value": "2012",
        "line": 1572,
        "column": 38
      },
      {
        "id": "&",
        "value": "&",
        "line": 1572,
        "column": 44
      },
      {
        "id": "~",
        "value": "~",
        "line": 1572,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "badinventor",
        "line": 1572,
        "column": 47
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1573,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor3040",
        "line": 1573,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1573,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "appyear",
        "line": 1573,
        "column": 28
      },
      {
        "id": "-",
        "value": "-",
        "line": 1573,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1573,
        "column": 36
      },
      {
        "id": ",",
        "value": ",",
        "line": 1573,
        "column": 42
      },
      {
        "id": "number",
        "value": "30",
        "line": 1573,
        "column": 44
      },
      {
        "id": ",",
        "value": ",",
        "line": 1573,
        "column": 46
      },
      {
        "id": "number",
        "value": "40",
        "line": 1573,
        "column": 48
      },
      {
        "id": "&",
        "value": "&",
        "line": 1573,
        "column": 52
      },
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1573,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "appyear",
        "line": 1573,
        "column": 62
      },
      {
        "id": ",",
        "value": ",",
        "line": 1573,
        "column": 69
      },
      {
        "id": "number",
        "value": "2001",
        "line": 1573,
        "column": 71
      },
      {
        "id": ",",
        "value": ",",
        "line": 1573,
        "column": 75
      },
      {
        "id": "number",
        "value": "2012",
        "line": 1573,
        "column": 76
      },
      {
        "id": "&",
        "value": "&",
        "line": 1573,
        "column": 82
      },
      {
        "id": "~",
        "value": "~",
        "line": 1573,
        "column": 84
      },
      {
        "id": "identifier",
        "value": "badinventor",
        "line": 1573,
        "column": 85
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1575,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "max",
        "line": 1575,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1575,
        "column": 16
      },
      {
        "id": "identifier",
        "value": "inventor3040",
        "line": 1575,
        "column": 25
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1575,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "unmasked_tin",
        "line": 1575,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "par_rank_w",
        "line": 1575,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1575,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "dataset",
        "line": 1575,
        "column": 73
      },
      {
        "id": "identifier",
        "value": "s006",
        "line": 1575,
        "column": 81
      },
      {
        "id": "identifier",
        "value": "fast",
        "line": 1575,
        "column": 87
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "binscatter",
      "line": 1577,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor3040",
        "line": 1577,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "par_rank_w",
        "line": 1577,
        "column": 25
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "s006",
        "line": 1577,
        "column": 39
      },
      {
        "id": "]",
        "value": "]",
        "line": 1577,
        "column": 43
      },
      {
        "id": "number",
        "value": "1972",
        "line": 1577,
        "column": 56
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "cohort",
        "line": 1577,
        "column": 48
      },
      {
        "id": "<",
        "value": "<",
        "line": 1577,
        "column": 54
      }
    ],
    "weight": [
      {
        "id": "identifier",
        "value": "w",
        "line": 1577,
        "column": 37
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "line",
        "line": 1577,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "none",
        "line": 1577,
        "column": 68
      },
      {
        "id": "identifier",
        "value": "savedata",
        "line": 1577,
        "column": 74
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1577,
        "column": 83
      },
      {
        "id": "{",
        "value": "{",
        "line": 1577,
        "column": 91
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1577,
        "column": 92
      },
      {
        "id": "}",
        "value": "}",
        "line": 1577,
        "column": 93
      },
      {
        "id": "/",
        "value": "/",
        "line": 1577,
        "column": 94
      },
      {
        "id": "identifier",
        "value": "inventor3040_on_parinc",
        "line": 1577,
        "column": 95
      },
      {
        "id": "identifier",
        "value": "savegraph",
        "line": 1577,
        "column": 119
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1577,
        "column": 129
      },
      {
        "id": "{",
        "value": "{",
        "line": 1577,
        "column": 137
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1577,
        "column": 138
      },
      {
        "id": "}",
        "value": "}",
        "line": 1577,
        "column": 139
      },
      {
        "id": "/",
        "value": "/",
        "line": 1577,
        "column": 140
      },
      {
        "id": "identifier",
        "value": "inventor3040_on_parinc",
        "line": 1577,
        "column": 141
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1577,
        "column": 166
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Panel B: see data for Figure 1",
    "line": 1579,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Panel C",
    "line": 1581,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1582,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1582,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1582,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 1582,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1582,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1582,
        "column": 19
      },
      {
        "id": "}",
        "value": "}",
        "line": 1582,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1582,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "binscatter",
      "line": 1583,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "inventor",
        "line": 1583,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1583,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "line",
        "line": 1583,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "none",
        "line": 1583,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "savedata",
        "line": 1583,
        "column": 42
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1583,
        "column": 51
      },
      {
        "id": "{",
        "value": "{",
        "line": 1583,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1583,
        "column": 60
      },
      {
        "id": "}",
        "value": "}",
        "line": 1583,
        "column": 61
      },
      {
        "id": "/",
        "value": "/",
        "line": 1583,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "inventorvsparinc_nyc",
        "line": 1583,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "savegraph",
        "line": 1583,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1583,
        "column": 95
      },
      {
        "id": "{",
        "value": "{",
        "line": 1583,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1583,
        "column": 104
      },
      {
        "id": "}",
        "value": "}",
        "line": 1583,
        "column": 105
      },
      {
        "id": "/",
        "value": "/",
        "line": 1583,
        "column": 106
      },
      {
        "id": "identifier",
        "value": "inventorvsparinc_nyc",
        "line": 1583,
        "column": 107
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1583,
        "column": 130
      }
    ]
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1588,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Appendix Figure 2: Probability of child ending up in top 1% and 5% in relation to parent income ",
    "line": 1589,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1590,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* See data for Figure 1",
    "line": 1592,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1595,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Appendix Figure 3: Distribution of math test scores",
    "line": 1596,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1597,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Panel A",
    "line": 1599,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1600,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1600,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1600,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 1600,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1600,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1600,
        "column": 19
      },
      {
        "id": "}",
        "value": "}",
        "line": 1600,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1600,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1601,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p80",
        "line": 1601,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1601,
        "column": 11
      },
      {
        "id": ">",
        "value": ">",
        "line": 1601,
        "column": 19
      },
      {
        "id": "number",
        "value": ".8",
        "line": 1601,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1601,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1601,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1601,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1602,
      "column": 1
    },
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1602,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1602,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1602,
        "column": 18
      },
      {
        "id": "&",
        "value": "&",
        "line": 1602,
        "column": 28
      },
      {
        "id": "~",
        "value": "~",
        "line": 1602,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1602,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1602,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "twoway",
      "line": 1603,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kdensity",
        "line": 1603,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1603,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "p80",
        "line": 1603,
        "column": 26
      },
      {
        "id": "==",
        "value": "==",
        "line": 1603,
        "column": 29
      },
      {
        "id": "number",
        "value": "0",
        "line": 1603,
        "column": 32
      },
      {
        "id": "identifier",
        "value": "p80",
        "line": 1603,
        "column": 130
      },
      {
        "id": "==",
        "value": "==",
        "line": 1603,
        "column": 134
      },
      {
        "id": "number",
        "value": "1",
        "line": 1603,
        "column": 137
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "bw",
        "line": 1603,
        "column": 35
      },
      {
        "id": "number",
        "value": ".12",
        "line": 1603,
        "column": 38
      },
      {
        "id": "identifier",
        "value": "legend",
        "line": 1603,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 1603,
        "column": 50
      },
      {
        "id": "identifier",
        "value": "lwidth",
        "line": 1603,
        "column": 55
      },
      {
        "id": "identifier",
        "value": "medthick",
        "line": 1603,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "range",
        "line": 1603,
        "column": 72
      },
      {
        "id": "-",
        "value": "-",
        "line": 1603,
        "column": 78
      },
      {
        "id": "number",
        "value": "3",
        "line": 1603,
        "column": 79
      },
      {
        "id": "number",
        "value": "3",
        "line": 1603,
        "column": 81
      },
      {
        "id": "identifier",
        "value": "xlabel",
        "line": 1603,
        "column": 84
      },
      {
        "id": "-",
        "value": "-",
        "line": 1603,
        "column": 91
      },
      {
        "id": "number",
        "value": "3",
        "line": 1603,
        "column": 92
      },
      {
        "id": "-",
        "value": "-",
        "line": 1603,
        "column": 94
      },
      {
        "id": "number",
        "value": "2",
        "line": 1603,
        "column": 95
      },
      {
        "id": "-",
        "value": "-",
        "line": 1603,
        "column": 97
      },
      {
        "id": "number",
        "value": "1",
        "line": 1603,
        "column": 98
      },
      {
        "id": "number",
        "value": "0",
        "line": 1603,
        "column": 100
      },
      {
        "id": "number",
        "value": "1",
        "line": 1603,
        "column": 102
      },
      {
        "id": "number",
        "value": "2",
        "line": 1603,
        "column": 104
      },
      {
        "id": "number",
        "value": "3",
        "line": 1603,
        "column": 106
      },
      {
        "id": "|",
        "value": "|",
        "line": 1603,
        "column": 109
      },
      {
        "id": "|",
        "value": "|",
        "line": 1603,
        "column": 110
      },
      {
        "id": "identifier",
        "value": "kdensity",
        "line": 1603,
        "column": 112
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1603,
        "column": 121
      },
      {
        "id": "identifier",
        "value": "bw",
        "line": 1603,
        "column": 140
      },
      {
        "id": "number",
        "value": ".105",
        "line": 1603,
        "column": 143
      },
      {
        "id": "identifier",
        "value": "legend",
        "line": 1603,
        "column": 149
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 1603,
        "column": 156
      },
      {
        "id": "identifier",
        "value": "xtitle",
        "line": 1603,
        "column": 161
      },
      {
        "id": "string",
        "value": "\"Grade 3 Math Scores (Standard Deviations Relative to Mean)\"",
        "line": 1603,
        "column": 168
      },
      {
        "id": "identifier",
        "value": "ytitle",
        "line": 1603,
        "column": 230
      },
      {
        "id": "string",
        "value": "\"Density\"",
        "line": 1603,
        "column": 237
      },
      {
        "id": "identifier",
        "value": "graphregion",
        "line": 1603,
        "column": 248
      },
      {
        "id": "identifier",
        "value": "fcolor",
        "line": 1603,
        "column": 260
      },
      {
        "id": "identifier",
        "value": "white",
        "line": 1603,
        "column": 267
      },
      {
        "id": "identifier",
        "value": "lwidth",
        "line": 1603,
        "column": 275
      },
      {
        "id": "identifier",
        "value": "medthick",
        "line": 1603,
        "column": 282
      },
      {
        "id": "identifier",
        "value": "range",
        "line": 1603,
        "column": 292
      },
      {
        "id": "-",
        "value": "-",
        "line": 1603,
        "column": 298
      },
      {
        "id": "number",
        "value": "3",
        "line": 1603,
        "column": 299
      },
      {
        "id": "number",
        "value": "3",
        "line": 1603,
        "column": 301
      },
      {
        "id": "identifier",
        "value": "xlabel",
        "line": 1603,
        "column": 304
      },
      {
        "id": "-",
        "value": "-",
        "line": 1603,
        "column": 311
      },
      {
        "id": "number",
        "value": "3",
        "line": 1603,
        "column": 312
      },
      {
        "id": "-",
        "value": "-",
        "line": 1603,
        "column": 314
      },
      {
        "id": "number",
        "value": "2",
        "line": 1603,
        "column": 315
      },
      {
        "id": "-",
        "value": "-",
        "line": 1603,
        "column": 317
      },
      {
        "id": "number",
        "value": "1",
        "line": 1603,
        "column": 318
      },
      {
        "id": "number",
        "value": "0",
        "line": 1603,
        "column": 320
      },
      {
        "id": "number",
        "value": "1",
        "line": 1603,
        "column": 322
      },
      {
        "id": "number",
        "value": "2",
        "line": 1603,
        "column": 324
      },
      {
        "id": "number",
        "value": "3",
        "line": 1603,
        "column": 326
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "graph",
      "line": 1604,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "save",
        "line": 1604,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1604,
        "column": 12
      },
      {
        "id": "{",
        "value": "{",
        "line": 1604,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1604,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 1604,
        "column": 22
      },
      {
        "id": "/",
        "value": "/",
        "line": 1604,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "mathkd_byparinc",
        "line": 1604,
        "column": 24
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1604,
        "column": 41
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Panel B",
    "line": 1606,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1607,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1607,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1607,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "nyc_10_$",
        "line": 1607,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1607,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1607,
        "column": 19
      },
      {
        "id": "}",
        "value": "}",
        "line": 1607,
        "column": 20
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1607,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gen",
      "line": 1608,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "p80",
        "line": 1608,
        "column": 5
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1608,
        "column": 11
      },
      {
        "id": ">",
        "value": ">",
        "line": 1608,
        "column": 19
      },
      {
        "id": "number",
        "value": ".8",
        "line": 1608,
        "column": 20
      }
    ],
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1608,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1608,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "par_rank",
        "line": 1608,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1609,
      "column": 1
    },
    "if": [
      {
        "id": "~",
        "value": "~",
        "line": 1609,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1609,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1609,
        "column": 18
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "twoway",
      "line": 1610,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kdensity",
        "line": 1610,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1610,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "female",
        "line": 1610,
        "column": 26
      },
      {
        "id": "==",
        "value": "==",
        "line": 1610,
        "column": 32
      },
      {
        "id": "number",
        "value": "0",
        "line": 1610,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "female",
        "line": 1610,
        "column": 134
      },
      {
        "id": "==",
        "value": "==",
        "line": 1610,
        "column": 141
      },
      {
        "id": "number",
        "value": "1",
        "line": 1610,
        "column": 144
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "bw",
        "line": 1610,
        "column": 38
      },
      {
        "id": "number",
        "value": ".105",
        "line": 1610,
        "column": 41
      },
      {
        "id": "identifier",
        "value": "legend",
        "line": 1610,
        "column": 47
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 1610,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "lwidth",
        "line": 1610,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "medthick",
        "line": 1610,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "range",
        "line": 1610,
        "column": 76
      },
      {
        "id": "-",
        "value": "-",
        "line": 1610,
        "column": 82
      },
      {
        "id": "number",
        "value": "3",
        "line": 1610,
        "column": 83
      },
      {
        "id": "number",
        "value": "3",
        "line": 1610,
        "column": 85
      },
      {
        "id": "identifier",
        "value": "xlabel",
        "line": 1610,
        "column": 88
      },
      {
        "id": "-",
        "value": "-",
        "line": 1610,
        "column": 95
      },
      {
        "id": "number",
        "value": "3",
        "line": 1610,
        "column": 96
      },
      {
        "id": "-",
        "value": "-",
        "line": 1610,
        "column": 98
      },
      {
        "id": "number",
        "value": "2",
        "line": 1610,
        "column": 99
      },
      {
        "id": "-",
        "value": "-",
        "line": 1610,
        "column": 101
      },
      {
        "id": "number",
        "value": "1",
        "line": 1610,
        "column": 102
      },
      {
        "id": "number",
        "value": "0",
        "line": 1610,
        "column": 104
      },
      {
        "id": "number",
        "value": "1",
        "line": 1610,
        "column": 106
      },
      {
        "id": "number",
        "value": "2",
        "line": 1610,
        "column": 108
      },
      {
        "id": "number",
        "value": "3",
        "line": 1610,
        "column": 110
      },
      {
        "id": "|",
        "value": "|",
        "line": 1610,
        "column": 113
      },
      {
        "id": "|",
        "value": "|",
        "line": 1610,
        "column": 114
      },
      {
        "id": "identifier",
        "value": "kdensity",
        "line": 1610,
        "column": 116
      },
      {
        "id": "identifier",
        "value": "math3",
        "line": 1610,
        "column": 125
      },
      {
        "id": "identifier",
        "value": "bw",
        "line": 1610,
        "column": 147
      },
      {
        "id": "number",
        "value": ".12",
        "line": 1610,
        "column": 150
      },
      {
        "id": "identifier",
        "value": "legend",
        "line": 1610,
        "column": 155
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 1610,
        "column": 162
      },
      {
        "id": "identifier",
        "value": "xtitle",
        "line": 1610,
        "column": 167
      },
      {
        "id": "string",
        "value": "\"Grade 3 Math Scores (Standard Deviations Relative to Mean)\"",
        "line": 1610,
        "column": 174
      },
      {
        "id": "identifier",
        "value": "ytitle",
        "line": 1610,
        "column": 236
      },
      {
        "id": "string",
        "value": "\"Density\"",
        "line": 1610,
        "column": 243
      },
      {
        "id": "identifier",
        "value": "graphregion",
        "line": 1610,
        "column": 254
      },
      {
        "id": "identifier",
        "value": "fcolor",
        "line": 1610,
        "column": 266
      },
      {
        "id": "identifier",
        "value": "white",
        "line": 1610,
        "column": 273
      },
      {
        "id": "identifier",
        "value": "lwidth",
        "line": 1610,
        "column": 281
      },
      {
        "id": "identifier",
        "value": "medthick",
        "line": 1610,
        "column": 288
      },
      {
        "id": "identifier",
        "value": "range",
        "line": 1610,
        "column": 298
      },
      {
        "id": "-",
        "value": "-",
        "line": 1610,
        "column": 304
      },
      {
        "id": "number",
        "value": "3",
        "line": 1610,
        "column": 305
      },
      {
        "id": "number",
        "value": "3",
        "line": 1610,
        "column": 307
      },
      {
        "id": "identifier",
        "value": "xlabel",
        "line": 1610,
        "column": 310
      },
      {
        "id": "-",
        "value": "-",
        "line": 1610,
        "column": 317
      },
      {
        "id": "number",
        "value": "3",
        "line": 1610,
        "column": 318
      },
      {
        "id": "-",
        "value": "-",
        "line": 1610,
        "column": 320
      },
      {
        "id": "number",
        "value": "2",
        "line": 1610,
        "column": 321
      },
      {
        "id": "-",
        "value": "-",
        "line": 1610,
        "column": 323
      },
      {
        "id": "number",
        "value": "1",
        "line": 1610,
        "column": 324
      },
      {
        "id": "number",
        "value": "0",
        "line": 1610,
        "column": 326
      },
      {
        "id": "number",
        "value": "1",
        "line": 1610,
        "column": 328
      },
      {
        "id": "number",
        "value": "2",
        "line": 1610,
        "column": 330
      },
      {
        "id": "number",
        "value": "3",
        "line": 1610,
        "column": 332
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "graph",
      "line": 1611,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "save",
        "line": 1611,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1611,
        "column": 12
      },
      {
        "id": "{",
        "value": "{",
        "line": 1611,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1611,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 1611,
        "column": 22
      },
      {
        "id": "/",
        "value": "/",
        "line": 1611,
        "column": 23
      },
      {
        "id": "identifier",
        "value": "mathkd_bygender",
        "line": 1611,
        "column": 24
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1611,
        "column": 41
      }
    ]
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1614,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Appendix Figure 4: Percentage of Female Inventors and Gender Stereotypes ",
    "line": 1615,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1616,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Uses an Online Table",
    "line": 1617,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1620,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Appendix Figure 5: Income of Inventors",
    "line": 1621,
    "column": 1
  },
  {
    "id": "comment",
    "value": "************",
    "line": 1622,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* Panel A",
    "line": 1623,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1624,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1624,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1624,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 1624,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1624,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1624,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 1624,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1624,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1625,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1625,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1625,
        "column": 15
      },
      {
        "id": "number",
        "value": "2005",
        "line": 1625,
        "column": 17
      },
      {
        "id": "&",
        "value": "&",
        "line": 1625,
        "column": 22
      },
      {
        "id": "~",
        "value": "~",
        "line": 1625,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1625,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "q_mean_non_spouse",
        "line": 1625,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1626,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1626,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1626,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 1626,
        "column": 43
      },
      {
        "id": "number",
        "value": "1000",
        "line": 1626,
        "column": 45
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1627,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1627,
        "column": 5
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "det",
        "line": 1627,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "twoway",
      "line": 1628,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "kdensity",
        "line": 1628,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1628,
        "column": 17
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "inrange",
        "line": 1628,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "q_mean_non_spouse",
        "line": 1628,
        "column": 44
      },
      {
        "id": ",",
        "value": ",",
        "line": 1628,
        "column": 61
      },
      {
        "id": "number",
        "value": "2",
        "line": 1628,
        "column": 63
      },
      {
        "id": ",",
        "value": ",",
        "line": 1628,
        "column": 64
      },
      {
        "id": "number",
        "value": "99",
        "line": 1628,
        "column": 66
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "xline",
        "line": 1628,
        "column": 71
      },
      {
        "id": "`'",
        "value": "`r(p50)'",
        "line": 1628,
        "column": 77
      },
      {
        "id": "`'",
        "value": "`r(p95)'",
        "line": 1628,
        "column": 86
      },
      {
        "id": "`'",
        "value": "`r(p99)'",
        "line": 1628,
        "column": 95
      },
      {
        "id": ",",
        "value": ",",
        "line": 1628,
        "column": 103
      },
      {
        "id": "identifier",
        "value": "lcolor",
        "line": 1628,
        "column": 105
      },
      {
        "id": "identifier",
        "value": "black",
        "line": 1628,
        "column": 112
      },
      {
        "id": "identifier",
        "value": "lpattern",
        "line": 1628,
        "column": 119
      },
      {
        "id": "identifier",
        "value": "dash",
        "line": 1628,
        "column": 128
      },
      {
        "id": "identifier",
        "value": "yt",
        "line": 1628,
        "column": 135
      },
      {
        "id": "identifier",
        "value": "Density",
        "line": 1628,
        "column": 138
      },
      {
        "id": "identifier",
        "value": "xt",
        "line": 1628,
        "column": 147
      },
      {
        "id": "string",
        "value": "\"Individual Income ($1000)\"",
        "line": 1628,
        "column": 150
      },
      {
        "id": "identifier",
        "value": "graphregion",
        "line": 1628,
        "column": 179
      },
      {
        "id": "identifier",
        "value": "fcolor",
        "line": 1628,
        "column": 191
      },
      {
        "id": "identifier",
        "value": "white",
        "line": 1628,
        "column": 198
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "gr",
      "line": 1629,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "save",
        "line": 1629,
        "column": 4
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1629,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 1629,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1629,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 1629,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 1629,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "fig14_mean_non_spouse_kd_2to99",
        "line": 1629,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1629,
        "column": 53
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Panel B",
    "line": 1631,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "use",
      "line": 1632,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 1632,
        "column": 5
      },
      {
        "id": "/",
        "value": "/",
        "line": 1632,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "event_20_$",
        "line": 1632,
        "column": 10
      },
      {
        "id": "{",
        "value": "{",
        "line": 1632,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1632,
        "column": 21
      },
      {
        "id": "}",
        "value": "}",
        "line": 1632,
        "column": 22
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "clear",
        "line": 1632,
        "column": 25
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "g",
      "line": 1633,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "temp",
        "line": 1633,
        "column": 3
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit",
        "line": 1633,
        "column": 10
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1633,
        "column": 18
      },
      {
        "id": "==",
        "value": "==",
        "line": 1633,
        "column": 24
      },
      {
        "id": "number",
        "value": "1996",
        "line": 1633,
        "column": 26
      },
      {
        "id": "&",
        "value": "&",
        "line": 1633,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "applied_in_year",
        "line": 1633,
        "column": 31
      },
      {
        "id": "==",
        "value": "==",
        "line": 1633,
        "column": 46
      },
      {
        "id": "number",
        "value": "1",
        "line": 1633,
        "column": 48
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "tin",
      "line": 1634,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "bys",
          "line": 1634,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": ":",
        "value": ":",
        "line": 1634,
        "column": 8
      },
      {
        "id": "identifier",
        "value": "egen",
        "line": 1634,
        "column": 10
      },
      {
        "id": "identifier",
        "value": "fcit_1996",
        "line": 1634,
        "column": 15
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1634,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "temp",
        "line": 1634,
        "column": 32
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "keep",
      "line": 1635,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1635,
        "column": 9
      },
      {
        "id": "==",
        "value": "==",
        "line": 1635,
        "column": 15
      },
      {
        "id": "number",
        "value": "2005",
        "line": 1635,
        "column": 17
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "drop",
      "line": 1636,
      "column": 1
    },
    "if": [
      {
        "id": "identifier",
        "value": "missing",
        "line": 1636,
        "column": 9
      },
      {
        "id": "identifier",
        "value": "fcit_1996",
        "line": 1636,
        "column": 17
      },
      {
        "id": "|",
        "value": "|",
        "line": 1636,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "missing",
        "line": 1636,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1636,
        "column": 39
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "codebook",
      "line": 1637,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "tin",
        "line": 1637,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1638,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1638,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1638,
        "column": 27
      },
      {
        "id": "/",
        "value": "/",
        "line": 1638,
        "column": 42
      },
      {
        "id": "number",
        "value": "1000",
        "line": 1638,
        "column": 43
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "binscatter",
      "line": 1639,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1639,
        "column": 12
      },
      {
        "id": "identifier",
        "value": "fcit_1996",
        "line": 1639,
        "column": 28
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "savedata",
        "line": 1639,
        "column": 39
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1639,
        "column": 48
      },
      {
        "id": "{",
        "value": "{",
        "line": 1639,
        "column": 56
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1639,
        "column": 57
      },
      {
        "id": "}",
        "value": "}",
        "line": 1639,
        "column": 58
      },
      {
        "id": "/",
        "value": "/",
        "line": 1639,
        "column": 59
      },
      {
        "id": "identifier",
        "value": "mean_non_spouse_on_fcit_1996",
        "line": 1639,
        "column": 60
      },
      {
        "id": "identifier",
        "value": "savegraph",
        "line": 1639,
        "column": 90
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1639,
        "column": 100
      },
      {
        "id": "{",
        "value": "{",
        "line": 1639,
        "column": 108
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1639,
        "column": 109
      },
      {
        "id": "}",
        "value": "}",
        "line": 1639,
        "column": 110
      },
      {
        "id": "/",
        "value": "/",
        "line": 1639,
        "column": 111
      },
      {
        "id": "identifier",
        "value": "mean_non_spouse_on_fcit_1996",
        "line": 1639,
        "column": 112
      },
      {
        "id": "identifier",
        "value": "reportreg",
        "line": 1639,
        "column": 142
      },
      {
        "id": "identifier",
        "value": "replace",
        "line": 1639,
        "column": 152
      }
    ]
  },
  {
    "id": "comment",
    "value": "* report this reg coeff as well",
    "line": 1640,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1641,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "cap",
          "line": 1641,
          "column": 1
        }
      }
    ],
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 1641,
        "column": 9
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1642,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "using",
        "line": 1642,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1642,
        "column": 11
      },
      {
        "id": "{",
        "value": "{",
        "line": 1642,
        "column": 19
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1642,
        "column": 20
      },
      {
        "id": "}",
        "value": "}",
        "line": 1642,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1642,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "figA16_mean_non_spouse_on_fcit_1996",
        "line": 1642,
        "column": 23
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1642,
        "column": 60
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "reg",
      "line": 1643,
      "column": 1
    },
    "meta": {
      "predictors": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1643,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "fcit_1996",
        "line": 1643,
        "column": 21
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "tax_yr",
        "line": 1643,
        "column": 34
      },
      {
        "id": "==",
        "value": "==",
        "line": 1643,
        "column": 40
      },
      {
        "id": "number",
        "value": "2005",
        "line": 1643,
        "column": 42
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "log",
      "line": 1644,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "close",
        "line": 1644,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "* show extra resolution in top bin",
    "line": 1645,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "egen",
      "line": 1646,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1646,
        "column": 6
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "rank",
        "line": 1646,
        "column": 18
      },
      {
        "id": "identifier",
        "value": "fcit_1996",
        "line": 1646,
        "column": 23
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "sum",
      "line": 1647,
      "column": 5
    },
    "pre": [
      {
        "command": {
          "id": "identifier",
          "value": "qui",
          "line": 1647,
          "column": 1
        }
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1648,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1648,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1648,
        "column": 21
      },
      {
        "id": "/",
        "value": "/",
        "line": 1648,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "r",
        "line": 1648,
        "column": 31
      },
      {
        "id": "identifier",
        "value": "N",
        "line": 1648,
        "column": 33
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "xtile",
      "line": 1649,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_bin",
        "line": 1649,
        "column": 7
      }
    ],
    "=": [
      {
        "id": "identifier",
        "value": "fcit_1996",
        "line": 1649,
        "column": 16
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "n",
        "line": 1649,
        "column": 27
      },
      {
        "id": "number",
        "value": "20",
        "line": 1649,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "replace",
      "line": 1650,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "fcit_bin",
        "line": 1650,
        "column": 9
      }
    ],
    "=": [
      {
        "id": "number",
        "value": "21",
        "line": 1650,
        "column": 20
      },
      {
        "id": "number",
        "value": ".99",
        "line": 1650,
        "column": 37
      }
    ],
    "if": [
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1650,
        "column": 26
      },
      {
        "id": ">",
        "value": ">",
        "line": 1650,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "collapse",
      "line": 1651,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "mean",
        "line": 1651,
        "column": 11
      },
      {
        "id": "identifier",
        "value": "fcit_rank",
        "line": 1651,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "mean_non_spouse",
        "line": 1651,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "fcit_1996",
        "line": 1651,
        "column": 43
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "by",
        "line": 1651,
        "column": 54
      },
      {
        "id": "identifier",
        "value": "fcit_bin",
        "line": 1651,
        "column": 57
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "saveold",
      "line": 1652,
      "column": 1
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output_$",
        "line": 1652,
        "column": 9
      },
      {
        "id": "{",
        "value": "{",
        "line": 1652,
        "column": 17
      },
      {
        "id": "identifier",
        "value": "v",
        "line": 1652,
        "column": 18
      },
      {
        "id": "}",
        "value": "}",
        "line": 1652,
        "column": 19
      },
      {
        "id": "/",
        "value": "/",
        "line": 1652,
        "column": 20
      },
      {
        "id": "identifier",
        "value": "mean_non_spouse_on_fcit_1996_21bins",
        "line": 1652,
        "column": 21
      }
    ],
    "options": [
      {
        "id": "identifier",
        "value": "replace",
        "line": 1652,
        "column": 58
      },
      {
        "id": "identifier",
        "value": "version",
        "line": 1652,
        "column": 66
      },
      {
        "id": "number",
        "value": "12",
        "line": 1652,
        "column": 74
      }
    ]
  }
]