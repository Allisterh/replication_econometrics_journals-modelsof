[
  {
    "id": "comment",
    "value": "/**************************************************************************\n\t\n\tProgram: Master.do\n\tLast Update: February 2018\n\tJS/DT\n\t\n\tThe purpose of this script is to run all of the build programs.\n\t\t\n**************************************************************************\n\n\t0. Define filepaths\n\n**************************************************************************/",
    "line": 1,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 3,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "all",
        "line": 3,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 4,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "more",
        "line": 4,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 4,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 5,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "maxvar",
        "line": 5,
        "column": 6
      },
      {
        "id": "number",
        "value": "8000",
        "line": 5,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 6,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "seed",
        "line": 6,
        "column": 6
      },
      {
        "id": "number",
        "value": "82114",
        "line": 6,
        "column": 11
      }
    ]
  },
  {
    "id": "comment",
    "value": "* File paths",
    "line": 8,
    "column": 2
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 9,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "path",
        "line": 9,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"/Volumes/research/advertising/build/_CLEAN\"",
        "line": 9,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 10,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "input",
        "line": 10,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/../input\"",
        "line": 10,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 11,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "code",
        "line": 11,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/code\"",
        "line": 11,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 12,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "temp",
        "line": 12,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/temp\"",
        "line": 12,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 13,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 13,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/data\"",
        "line": 13,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 14,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output",
        "line": 14,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/output\"",
        "line": 14,
        "column": 16
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Election dates",
    "line": 16,
    "column": 2
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 17,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "election2004",
        "line": 17,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"02nov2004\"",
        "line": 17,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 18,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "election2008",
        "line": 18,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"04nov2008\"",
        "line": 18,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 19,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "election2012",
        "line": 19,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"06nov2012\"",
        "line": 19,
        "column": 22
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Age-sex groups in Nielsen data",
    "line": 21,
    "column": 2
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 22,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "groups",
        "line": 22,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"male_2_plus male_18_34 male_35_64 male_65_plus male_35_plus male_18_plus female_2_plus female_18_34 female_35_64 female_65_plus female_35_plus female_18_plus\"",
        "line": 22,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 23,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "agegroups",
        "line": 23,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"2_p 18_34 35_64 65_p 35_p 18_p\"",
        "line": 23,
        "column": 19
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Differenced variables",
    "line": 25,
    "column": 2
  },
  {
    "command": {
      "id": "#delimit",
      "value": "#delimit",
      "line": 26,
      "column": 2
    },
    "varlist": [
      {
        "id": ";",
        "value": ";",
        "line": 26,
        "column": 10
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 27,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "df_variables",
        "line": 27,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"tot_pop_adult tot_pop_all pop_share_minority edu_dropout edu_hsplus edu_colplus lfp income pct_poverty \n\t\t\t\t\t\tforeign_born_pct newspaper_slant turnout vote_share_rep vote_share2pty_rep vote_share_dem \n\t\t\t\t\t\tvote_share2pty_dem vote_share_ptydf vote_share2pty_ptydf cand_visits cand_visits_dem cand_visits_rep cand_visits_ptydf lag_turnout_pres \n\t\t\t\t\t\tlag_vote_share_ptydf lag_vote_share2pty_ptydf   \n\t\t\t\t\t\tcmag_prez_ptya_base cmag_prez_ptya_grp cmag_prez_ptya_uniq cmag_prez_ptya_1knads cmag_prez_ptya_pro cmag_prez_ptya_neg  \n\t\t\t\t\t\tcmag_prez_ptya_180days cmag_prez_ptya_120days cmag_prez_ptya_30days cmag_prez_ptya_2plus cmag_prez_rep_base \n\t\t\t\t\t\tcmag_prez_dem_base cmag_prez_ptyd_base cmag_oth_ptya_base cmag_oth_ptya_grp cmag_oth_ptya_uniq cmag_oth_ptya_1knads \n\t\t\t\t\t\tcmag_oth_ptya_pro cmag_oth_ptya_neg cmag_oth_ptya_180days cmag_oth_ptya_120days cmag_oth_ptya_30days cmag_oth_ptya_2plus \n\t\t\t\t\t\tcmag_oth_rep_base cmag_oth_dem_base cmag_oth_ptyd_base news_ptya_freq news_ptya_count document_count\"",
        "line": 27,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "#delimit",
      "value": "#delimit",
      "line": 28,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "cr",
        "line": 28,
        "column": 11
      }
    ]
  },
  {
    "id": "comment",
    "value": "/**************************************************************************\n\n\t1. Create background files\n\n**************************************************************************/",
    "line": 30,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 32,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/prepare_xwalks.do\"",
        "line": 32,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 33,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_bls.do\"",
        "line": 33,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 34,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_census\"",
        "line": 34,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 35,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_border_matches\"",
        "line": 35,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 36,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_factiva\"",
        "line": 36,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 37,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_geolytics\"",
        "line": 37,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 38,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_newspaper\"",
        "line": 38,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 39,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_pres\"",
        "line": 39,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 40,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_sigviewed\"",
        "line": 40,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 41,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_visits\"",
        "line": 41,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 42,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_cq_pres\"",
        "line": 42,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 43,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_districts.do\"",
        "line": 43,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 44,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/create_lag_values.do\"",
        "line": 44,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "/**************************************************************************\n\n\t2. Run 2004 and 2008 Advertisements \n\n**************************************************************************/",
    "line": 46,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 48,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/prepare_national_ads_2008.do\"",
        "line": 48,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 49,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_nielsen.do\"",
        "line": 49,
        "column": 5
      },
      {
        "id": "number",
        "value": "2004",
        "line": 49,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 50,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_nielsen.do\"",
        "line": 50,
        "column": 5
      },
      {
        "id": "number",
        "value": "2008",
        "line": 50,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 51,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_cmag.do\"",
        "line": 51,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "foreach",
      "line": 53,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "year",
        "line": 53,
        "column": 10
      }
    ],
    "in": [
      {
        "id": "number",
        "value": "2004",
        "line": 53,
        "column": 18
      },
      {
        "id": "number",
        "value": "2008",
        "line": 53,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 53,
        "column": 28
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 55,
      "column": 3
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/append_advertising.do\"",
        "line": 55,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`year'",
        "line": 55,
        "column": 36
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 56,
      "column": 3
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_newsbank.do\"",
        "line": 56,
        "column": 6
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 57,
      "column": 3
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/combine_data.do\"",
        "line": 57,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`year'",
        "line": 57,
        "column": 30
      }
    ]
  },
  {
    "id": "comment",
    "value": "/**************************************************************************\n\n\t3. Run 2012 Advertisements \n\n**************************************************************************/",
    "line": 61,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 63,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/prepare_national_ads_2012.do\"",
        "line": 63,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 64,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_nielsen.do\"",
        "line": 64,
        "column": 5
      },
      {
        "id": "number",
        "value": "2012",
        "line": 64,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 65,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/collapse_nielsen_impressions_2012.do\"",
        "line": 65,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 66,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_wesleyan\"",
        "line": 66,
        "column": 5
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 67,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/clean_nielsen.do\"",
        "line": 67,
        "column": 5
      },
      {
        "id": "number",
        "value": "2012",
        "line": 67,
        "column": 30
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 68,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/append_advertising.do\"",
        "line": 68,
        "column": 5
      },
      {
        "id": "number",
        "value": "2012",
        "line": 68,
        "column": 35
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 69,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/combine_data.do\"",
        "line": 69,
        "column": 5
      },
      {
        "id": "number",
        "value": "2012",
        "line": 69,
        "column": 29
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "do",
      "line": 71,
      "column": 2
    },
    "varlist": [
      {
        "id": "string",
        "value": "\"$code/combine_years\"",
        "line": 71,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "**************************************************************************/",
    "line": 73,
    "column": 1
  },
  {
    "id": "comment",
    "value": "* END OF FILE#",
    "line": 75,
    "column": 1
  }
]