[
  {
    "id": "comment",
    "value": "/**************************************************************************\n\t\n\tProgram: Master.do\n\tLast Update: February 2018\n\tJS/DT\n\t\n\tThe purpose of this script is to run all of the build programs.\n\t\t\n**************************************************************************\n\n\t0. Define filepaths\n\n**************************************************************************/",
    "line": 1,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "clear",
      "line": 3,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "all",
        "line": 3,
        "column": 8
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 4,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "more",
        "line": 4,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "off",
        "line": 4,
        "column": 11
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 5,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "maxvar",
        "line": 5,
        "column": 6
      },
      {
        "id": "number",
        "value": "8000",
        "line": 5,
        "column": 13
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "set",
      "line": 6,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "seed",
        "line": 6,
        "column": 6
      },
      {
        "id": "number",
        "value": "82114",
        "line": 6,
        "column": 11
      }
    ]
  },
  {
    "id": "comment",
    "value": "* File paths",
    "line": 8,
    "column": 2
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 9,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "path",
        "line": 9,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"/Volumes/research/advertising/build/_CLEAN\"",
        "line": 9,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 10,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "input",
        "line": 10,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/../input\"",
        "line": 10,
        "column": 15
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 11,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "code",
        "line": 11,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/code\"",
        "line": 11,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 12,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "temp",
        "line": 12,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/temp\"",
        "line": 12,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 13,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "data",
        "line": 13,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/data\"",
        "line": 13,
        "column": 14
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 14,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "output",
        "line": 14,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"$path/output\"",
        "line": 14,
        "column": 16
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Election dates",
    "line": 16,
    "column": 2
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 17,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "election2004",
        "line": 17,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"02nov2004\"",
        "line": 17,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 18,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "election2008",
        "line": 18,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"04nov2008\"",
        "line": 18,
        "column": 22
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 19,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "election2012",
        "line": 19,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"06nov2012\"",
        "line": 19,
        "column": 22
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Age-sex groups in Nielsen data",
    "line": 21,
    "column": 2
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 22,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "groups",
        "line": 22,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"male_2_plus male_18_34 male_35_64 male_65_plus male_35_plus male_18_plus female_2_plus female_18_34 female_35_64 female_65_plus female_35_plus female_18_plus\"",
        "line": 22,
        "column": 16
      }
    ]
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 23,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "agegroups",
        "line": 23,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"2_p 18_34 35_64 65_p 35_p 18_p\"",
        "line": 23,
        "column": 19
      }
    ]
  },
  {
    "id": "comment",
    "value": "* Differenced variables",
    "line": 25,
    "column": 2
  },
  {
    "command": {
      "id": "#delimit",
      "value": "#delimit",
      "line": 26,
      "column": 2
    },
    "varlist": [
      {
        "id": ";",
        "value": ";",
        "line": 26,
        "column": 10
      }
    ]
  },
  {
    "id": "comment",
    "value": "**************************************************************************/",
    "line": 81,
    "column": 1
  },
  {
    "command": {
      "id": "identifier",
      "value": "global",
      "line": 27,
      "column": 2
    },
    "varlist": [
      {
        "id": "identifier",
        "value": "df_variables",
        "line": 27,
        "column": 9
      },
      {
        "id": "string",
        "value": "\"tot_pop_adult tot_pop_all pop_share_minority edu_dropout edu_hsplus edu_colplus lfp income pct_poverty ",
        "line": 27,
        "column": 22
      },
      {
        "id": "identifier",
        "value": "foreign_born_pct",
        "line": 28,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "newspaper_slant",
        "line": 28,
        "column": 24
      },
      {
        "id": "identifier",
        "value": "turnout",
        "line": 28,
        "column": 40
      },
      {
        "id": "identifier",
        "value": "vote_share_rep",
        "line": 28,
        "column": 48
      },
      {
        "id": "identifier",
        "value": "vote_share2pty_rep",
        "line": 28,
        "column": 63
      },
      {
        "id": "identifier",
        "value": "vote_share_dem",
        "line": 28,
        "column": 82
      },
      {
        "id": "identifier",
        "value": "vote_share2pty_dem",
        "line": 29,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "vote_share_ptydf",
        "line": 29,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "vote_share2pty_ptydf",
        "line": 29,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "cand_visits",
        "line": 29,
        "column": 64
      },
      {
        "id": "identifier",
        "value": "cand_visits_dem",
        "line": 29,
        "column": 76
      },
      {
        "id": "identifier",
        "value": "cand_visits_rep",
        "line": 29,
        "column": 92
      },
      {
        "id": "identifier",
        "value": "cand_visits_ptydf",
        "line": 29,
        "column": 108
      },
      {
        "id": "identifier",
        "value": "lag_turnout_pres",
        "line": 29,
        "column": 126
      },
      {
        "id": "identifier",
        "value": "lag_vote_share_ptydf",
        "line": 30,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "lag_vote_share2pty_ptydf",
        "line": 30,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_base",
        "line": 31,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_grp",
        "line": 31,
        "column": 27
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_uniq",
        "line": 31,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_1knads",
        "line": 31,
        "column": 66
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_pro",
        "line": 31,
        "column": 88
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_neg",
        "line": 31,
        "column": 107
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_180days",
        "line": 32,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_120days",
        "line": 32,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_30days",
        "line": 32,
        "column": 53
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptya_2plus",
        "line": 32,
        "column": 75
      },
      {
        "id": "identifier",
        "value": "cmag_prez_rep_base",
        "line": 32,
        "column": 96
      },
      {
        "id": "identifier",
        "value": "cmag_prez_dem_base",
        "line": 33,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "cmag_prez_ptyd_base",
        "line": 33,
        "column": 26
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_base",
        "line": 33,
        "column": 46
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_grp",
        "line": 33,
        "column": 65
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_uniq",
        "line": 33,
        "column": 83
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_1knads",
        "line": 33,
        "column": 102
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_pro",
        "line": 34,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_neg",
        "line": 34,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_180days",
        "line": 34,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_120days",
        "line": 34,
        "column": 65
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_30days",
        "line": 34,
        "column": 87
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptya_2plus",
        "line": 34,
        "column": 108
      },
      {
        "id": "identifier",
        "value": "cmag_oth_rep_base",
        "line": 35,
        "column": 7
      },
      {
        "id": "identifier",
        "value": "cmag_oth_dem_base",
        "line": 35,
        "column": 25
      },
      {
        "id": "identifier",
        "value": "cmag_oth_ptyd_base",
        "line": 35,
        "column": 43
      },
      {
        "id": "identifier",
        "value": "news_ptya_freq",
        "line": 35,
        "column": 62
      },
      {
        "id": "identifier",
        "value": "news_ptya_count",
        "line": 35,
        "column": 77
      },
      {
        "id": "identifier",
        "value": "document_count",
        "line": 35,
        "column": 93
      },
      {
        "id": "string",
        "value": "\";",
        "line": 35,
        "column": 107
      },
      {
        "id": "#delimit",
        "value": "#delimit",
        "line": 36,
        "column": 2
      },
      {
        "id": "identifier",
        "value": "cr",
        "line": 36,
        "column": 11
      },
      {
        "id": "comment",
        "value": "/**************************************************************************\n\n\t1. Create background files\n\n**************************************************************************/",
        "line": 38,
        "column": 1
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 40,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/prepare_xwalks.do\"",
        "line": 40,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 41,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_bls.do\"",
        "line": 41,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 42,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_census\"",
        "line": 42,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 43,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_border_matches\"",
        "line": 43,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 44,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_factiva\"",
        "line": 44,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 45,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_geolytics\"",
        "line": 45,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 46,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_newspaper\"",
        "line": 46,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 47,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_pres\"",
        "line": 47,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 48,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_sigviewed\"",
        "line": 48,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 49,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_visits\"",
        "line": 49,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 50,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_cq_pres\"",
        "line": 50,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 51,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_districts.do\"",
        "line": 51,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 52,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/create_lag_values.do\"",
        "line": 52,
        "column": 5
      },
      {
        "id": "comment",
        "value": "/**************************************************************************\n\n\t2. Run 2004 and 2008 Advertisements \n\n**************************************************************************/",
        "line": 54,
        "column": 1
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 56,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/prepare_national_ads_2008.do\"",
        "line": 56,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 57,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_nielsen.do\"",
        "line": 57,
        "column": 5
      },
      {
        "id": "number",
        "value": "2004",
        "line": 57,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 58,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_nielsen.do\"",
        "line": 58,
        "column": 5
      },
      {
        "id": "number",
        "value": "2008",
        "line": 58,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 59,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_cmag.do\"",
        "line": 59,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "foreach",
        "line": 61,
        "column": 2
      },
      {
        "id": "identifier",
        "value": "year",
        "line": 61,
        "column": 10
      }
    ],
    "in": [
      {
        "id": "number",
        "value": "2004",
        "line": 61,
        "column": 18
      },
      {
        "id": "number",
        "value": "2008",
        "line": 61,
        "column": 23
      },
      {
        "id": "{",
        "value": "{",
        "line": 61,
        "column": 28
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 63,
        "column": 3
      },
      {
        "id": "string",
        "value": "\"$code/append_advertising.do\"",
        "line": 63,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`year'",
        "line": 63,
        "column": 36
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 64,
        "column": 3
      },
      {
        "id": "string",
        "value": "\"$code/clean_newsbank.do\"",
        "line": 64,
        "column": 6
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 65,
        "column": 3
      },
      {
        "id": "string",
        "value": "\"$code/combine_data.do\"",
        "line": 65,
        "column": 6
      },
      {
        "id": "`'",
        "value": "`year'",
        "line": 65,
        "column": 30
      },
      {
        "id": "}",
        "value": "}",
        "line": 67,
        "column": 2
      },
      {
        "id": "comment",
        "value": "/**************************************************************************\n\n\t3. Run 2012 Advertisements \n\n**************************************************************************/",
        "line": 69,
        "column": 1
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 71,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/prepare_national_ads_2012.do\"",
        "line": 71,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 72,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_nielsen.do\"",
        "line": 72,
        "column": 5
      },
      {
        "id": "number",
        "value": "2012",
        "line": 72,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 73,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/collapse_nielsen_impressions_2012.do\"",
        "line": 73,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 74,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_wesleyan\"",
        "line": 74,
        "column": 5
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 75,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/clean_nielsen.do\"",
        "line": 75,
        "column": 5
      },
      {
        "id": "number",
        "value": "2012",
        "line": 75,
        "column": 30
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 76,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/append_advertising.do\"",
        "line": 76,
        "column": 5
      },
      {
        "id": "number",
        "value": "2012",
        "line": 76,
        "column": 35
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 77,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/combine_data.do\"",
        "line": 77,
        "column": 5
      },
      {
        "id": "number",
        "value": "2012",
        "line": 77,
        "column": 29
      },
      {
        "id": "identifier",
        "value": "do",
        "line": 79,
        "column": 2
      },
      {
        "id": "string",
        "value": "\"$code/combine_years\"",
        "line": 79,
        "column": 5
      }
    ]
  },
  {
    "id": "comment",
    "value": "* END OF FILE#",
    "line": 83,
    "column": 1
  }
]