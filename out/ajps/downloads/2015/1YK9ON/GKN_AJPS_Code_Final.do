*********************************************************************************AJPS ANALYSIS**************************************************************************************************GONZALEZ OCANTOS, KIEWIET DE JONGE, AND NICKERSON*********************************************************************clearestimates clearset mem 500m
*set CD: location of data file
cd "INSERT HERE"

use "GKN_AJPS_final.dta"*********************************************************************************************************************************************************************************************Table 1****proportion Stigma [pweight=wt], over(country)mean Stigma [pweight=wt], over(country)*********************************************************************************************************************************************************************************************Figure 1 / Table SI1**Nicaraguaologit Stigma female age edu Cparty if country==1estimates store SI_1_1

*generate standardized coefficientslistcoef, std help cons*predicted probabilitiesprvalue, x(female=0 age=2 edu=0 Cparty=1)prvalue, x(female=0 age=2 edu=3 Cparty=1)prvalue, x(female=0 age=2 edu=1 Cparty=0)prvalue, x(female=0 age=2 edu=1 Cparty=1)
**Peruologit Stigma female age edu Cparty reciprocity indvVB [pweight=wt] if country==2 estimates store SI_1_2

*generate standardized coefficientslistcoef, std help cons*predicted probabilitiesprvalue, x(female=0 age=2 edu=0 Cparty=0 reciprocity=2 indvVB=0)prvalue, x(female=0 age=2 edu=3 Cparty=0 reciprocity=2 indvVB=0)prvalue, x(female=0 age=2 edu=1 Cparty=0 reciprocity=2 indvVB=0)prvalue, x(female=0 age=2 edu=1 Cparty=1 reciprocity=2 indvVB=0)prvalue, x(female=0 age=2 edu=1 Cparty=0 reciprocity=1 indvVB=1)prvalue, x(female=0 age=2 edu=1 Cparty=0 reciprocity=4 indvVB=1)prvalue, x(female=0 age=2 edu=1 Cparty=0 reciprocity=2 indvVB=0)prvalue, x(female=0 age=2 edu=1 Cparty=0 reciprocity=2 indvVB=1)estout SI_1_* using SI_1.txt, cells(b(star fmt(3)) se) starlevels(* 0.1 ** 0.05 *** 0.01) stats(N r2_p, labels("Observations" "R^2")) title("Table SI 1") replace**********************************************************************************************************************************************************************************************Figure 2*Hondurasmean Stigma if testpoor==0 & country==3mean Stigma if testpoor==1 & country==3*Uruguaymean Stigma if testpoor==0 & country==4 [pweight=wt]mean Stigma if testpoor==1 & country==4 [pweight=wt]*Boliviamean Stigma [pweight=wt] if testpoor==0 & testsupport==0mean Stigma [pweight=wt] if testpoor==0 & testsupport==1mean Stigma [pweight=wt] if testpoor==1 & testsupport==0mean Stigma [pweight=wt] if testpoor==1 & testsupport==1***********************************************************************************************************************************************************************************************Table 2*Hondurasologit Stigma edu testpoor TP_edu if country==3estimates store t2_hon*Uruguayologit Stigma edu testpoor TP_edu [pweight=wt] if country==4estimates store t2_uru*Boliviaologit Stigma edu testpoor testsupport TP_edu TS_edu [pweight=wt] if country==5estimates store t2_bolivestout t2_* using table2.txt, cells(b(star fmt(3)) se) starlevels(* 0.1 ** 0.05 *** 0.01) stats(N r2_p, labels("Observations" "R^2")) title("Table SI 1") replace***********************************************************************************************************************************************************************************************Figure 3 and Ologit tables in SI*Hondurasquietly ologit Stigma edu testpoor TP_edu if country==3prvalue, x(edu=0 testpoor=0 TP_edu=0)prvalue, x(edu=1 testpoor=0 TP_edu=0)prvalue, x(edu=2 testpoor=0 TP_edu=0)prvalue, x(edu=3 testpoor=0 TP_edu=0)prvalue, x(edu=0 testpoor=1 TP_edu=0)prvalue, x(edu=1 testpoor=1 TP_edu=1)prvalue, x(edu=2 testpoor=1 TP_edu=2)prvalue, x(edu=3 testpoor=1 TP_edu=3)*Uruguayquietly ologit Stigma edu testpoor TP_edu [pweight=wt] if country==4prvalue, x(edu=0 testpoor=0 TP_edu=0)prvalue, x(edu=1 testpoor=0 TP_edu=0)prvalue, x(edu=2 testpoor=0 TP_edu=0)prvalue, x(edu=3 testpoor=0 TP_edu=0)prvalue, x(edu=0 testpoor=1 TP_edu=0)prvalue, x(edu=1 testpoor=1 TP_edu=1)prvalue, x(edu=2 testpoor=1 TP_edu=2)prvalue, x(edu=3 testpoor=1 TP_edu=3)*Boliviaquietly ologit Stigma edu testpoor testsupport TP_edu TS_edu [pweight=wt] if country==5prvalue, x(testpoor=0 testsupport=0 TP_edu=0 TS_edu=0 edu=0)prvalue, x(testpoor=0 testsupport=0 TP_edu=0 TS_edu=0 edu=1) prvalue, x(testpoor=0 testsupport=0 TP_edu=0 TS_edu=0 edu=2) prvalue, x(testpoor=0 testsupport=0 TP_edu=0 TS_edu=0 edu=3) prvalue, x(testpoor=0 testsupport=1 TP_edu=0 TS_edu=0 edu=0)prvalue, x(testpoor=0 testsupport=1 TP_edu=0 TS_edu=1 edu=1) prvalue, x(testpoor=0 testsupport=1 TP_edu=0 TS_edu=2 edu=2) prvalue, x(testpoor=0 testsupport=1 TP_edu=0 TS_edu=3 edu=3) prvalue, x(testpoor=1 testsupport=0 TP_edu=0 TS_edu=0 edu=0)prvalue, x(testpoor=1 testsupport=0 TP_edu=1 TS_edu=0 edu=1) prvalue, x(testpoor=1 testsupport=0 TP_edu=2 TS_edu=0 edu=2) prvalue, x(testpoor=1 testsupport=0 TP_edu=3 TS_edu=0 edu=3) prvalue, x(testpoor=1 testsupport=1 TP_edu=0 TS_edu=0 edu=0)prvalue, x(testpoor=1 testsupport=1 TP_edu=1 TS_edu=1 edu=1) prvalue, x(testpoor=1 testsupport=1 TP_edu=2 TS_edu=2 edu=2) prvalue, x(testpoor=1 testsupport=1 TP_edu=3 TS_edu=3 edu=3) 
******************************************************************************************************************************************************************************************




******************************************************************************AJPS SUPPLEMENTARY INFORMATION************************************************************************************GONZALEZ OCANTOS, KIEWIET DE JONGE, AND NICKERSON***********************************************************************VARIABLE OPERATIONALIZATION AND RANDOMIZATION BALANCE*Nicaraguasum female age edu  Cparty if country==1*Perusum female age edu Cparty reciprocity indvVB if country==2*Hondurasbysort testpoor: sum female age edu  if country==3 tab female testpoor if country==3, chi  tab age testpoor if country==3, chi tab edu testpoor if country==3, chi  *Uruguaybysort testpoor: sum female age edu  if country==4 tab female testpoor if country==4, chi tab age testpoor if country==4, chi tab edu testpoor if country==4, chi *Boliviagen bol_treat=1 if country==5replace bol_treat=2 if country==5 & testpoor==0 & testsupport==1replace bol_treat=3 if country==5 & testpoor==1 & testsupport==0replace bol_treat=4 if country==5 & testpoor==1 & testsupport==1label define bol_treat 1 "Higher Income - Non-supporter" 2 "Higher Income - Supporter" 3 "Lower Income - Non-supporter" 4 "Lower Income - Supporter"label values bol_treat bol_treat bysort bol_treat: sum female age edu if country==5	tab female bol_treat if country==5, chi	tab age bol_treat if country==5, chi	tab edu bol_treat if country==5, chi********************************************************************************************************************************************************************************************Table SI_2: Chi square cross tabs*Hondurastab Stigma testpoor if country==3, chi column*Uruguaytab Stigma testpoor if country==4, chi column*Boliviatab Stigma bol_treat if country==5, chi column********************************************************************************************************************************************************************************************Table SI_3 and SI_4: Logit regressionsgen Stigma01=Stigma>3*Nicaragualogit Stigma01 female age edu Cparty if country==1estimates store SI_3a*logit Stigma01 female age income Cparty if country==1*estimates store SI_3blogit Stigma01 female age edu income Cparty if country==1estimates store SI_3b1*logit Stigma01 female age SESstd Cparty if country==1*estimates store SI_3c*Perulogit Stigma01 female age edu Cparty reciprocity indvVB [pweight=wt] if country==2 estimates store SI_3d*logit Stigma01 female age income Cparty reciprocity indvVB [pweight=wt] if country==2 *estimates store SI_3elogit Stigma01 female age edu income Cparty reciprocity indvVB [pweight=wt] if country==2 estimates store SI_3e1*logit Stigma01 female age SESstd Cparty reciprocity indvVB [pweight=wt] if country==2 *estimates store SI_3festout SI_3* using SI_3b.txt, cells(b(star fmt(3)) se) starlevels(* 0.1 ** 0.05 *** 0.01) stats(N r2_p, labels("Observations" "R^2")) title("Table SI 3") replace*Honduraslogit Stigma01 edu testpoor TP_edu if country==3estimates store SI_4a*logit Stigma01 income testpoor TP_income if country==3*estimates store SI_4blogit Stigma01 edu income testpoor TP_edu if country==3estimates store SI_4b1*logit Stigma01 SESstd testpoor TP_SESstd if country==3*estimates store SI_4c*logit Stigma01 edu SESstd testpoor TP_edu if country==3*estimates store SI_4c1*Uruguaylogit Stigma01 edu testpoor TP_edu [pweight=wt] if country==4estimates store SI_4d*logit Stigma01 income testpoor TP_income [pweight=wt] if country==4*estimates store SI_4elogit Stigma01 edu income testpoor TP_edu [pweight=wt] if country==4estimates store SI_4e1*logit Stigma01 SESstd testpoor TP_SESstd [pweight=wt] if country==4*estimates store SI_4f*Bolivialogit Stigma01 edu testpoor testsupport TP_edu TS_edu [pweight=wt] if country==5estimates store SI_4g*logit Stigma01 income testpoor testsupport TP_income TS_income [pweight=wt] if country==5*estimates store SI_4hlogit Stigma01 edu income testpoor testsupport TP_edu TS_edu [pweight=wt] if country==5estimates store SI_4h1*logit Stigma01 SESstd testpoor testsupport TP_SESstd TS_SESstd [pweight=wt] if country==5*estimates store SI_4iestout SI_4* using SI_4b.txt, cells(b(star fmt(3)) se) starlevels(* 0.1 ** 0.05 *** 0.01) stats(N r2_p, labels("Observations" "R^2")) title("Table SI 4") replace********************************************************************************************************************************************************************************************Table SI_5 and SI_6: Ologit regressions, substituting income and SESstd measures*Nicaraguaologit Stigma female age edu Cparty if country==1estimates store SI_5a*ologit Stigma female age income Cparty if country==1*estimates store SI_5bologit Stigma female age edu income Cparty if country==1estimates store SI_5b1*ologit Stigma female age SESstd Cparty if country==1*estimates store SI_5c*Peruologit Stigma female age edu Cparty reciprocity indvVB [pweight=wt] if country==2 estimates store SI_5d*ologit Stigma female age income Cparty reciprocity indvVB [pweight=wt] if country==2 *estimates store SI_5eologit Stigma female age edu income Cparty reciprocity indvVB [pweight=wt] if country==2 estimates store SI_5e1*ologit Stigma female age SESstd Cparty reciprocity indvVB [pweight=wt] if country==2 *estimates store SI_5festout SI_5* using SI_5b.txt, cells(b(star fmt(3)) se) starlevels(* 0.1 ** 0.05 *** 0.01) stats(N r2_p, labels("Observations" "R^2")) title("Table SI 5") replace*Hondurasologit Stigma edu testpoor TP_edu if country==3estimates store SI_6a*ologit Stigma income testpoor TP_income if country==3*estimates store SI_6bologit Stigma edu income testpoor TP_edu if country==3estimates store SI_6b1*ologit Stigma SESstd testpoor TP_SESstd if country==3*estimates store SI_6c*Uruguayologit Stigma edu testpoor TP_edu [pweight=wt] if country==4estimates store SI_6d*ologit Stigma income testpoor TP_income [pweight=wt] if country==4*estimates store SI_6eologit Stigma edu income testpoor TP_edu [pweight=wt] if country==4estimates store SI_6e1*ologit Stigma SESstd testpoor TP_SESstd [pweight=wt] if country==4*estimates store SI_6f*Boliviaologit Stigma edu testpoor testsupport TP_edu TS_edu [pweight=wt] if country==5estimates store SI_6g*ologit Stigma income testpoor testsupport TP_income TS_income [pweight=wt] if country==5*estimates store SI_6hologit Stigma edu income testpoor testsupport TP_edu TS_edu [pweight=wt] if country==5estimates store SI_6h1*ologit Stigma SESstd testpoor testsupport TP_SESstd TS_SESstd [pweight=wt] if country==5*estimates store SI_6iestout SI_6* using SI_6b.txt, cells(b(star fmt(3)) se) starlevels(* 0.1 ** 0.05 *** 0.01) stats(N r2_p, labels("Observations" "R^2")) title("Table SI 6") replace********************************************************************************************************************************************************************************************SI_7 and SI_8 Generalized Ordered Logit Models, unconstrained betas for violations of parallel regressions assumptions, all others remain constrained to be equal across levels of Stigma*Nicaraguagologit2 Stigma female age edu Cparty if country==1 , autofit  estimates store SI_7a*gologit2 Stigma female age income Cparty if country==1, autofit  *estimates store SI_7bgologit2 Stigma female age edu income Cparty if country==1 , autofit  estimates store SI_7b1*gologit2 Stigma female age SESstd Cparty if country==1, autofit  *estimates store SI_7c*Perugologit2 Stigma female age edu Cparty reciprocity indvVB [pweight=wt] if country==2 , autofit  estimates store SI_7d*gologit2 Stigma female age income Cparty reciprocity indvVB [pweight=wt] if country==2 , autofit  *estimates store SI_7egologit2 Stigma female age edu income Cparty reciprocity indvVB [pweight=wt] if country==2 , autofit  estimates store SI_7e1*gologit2 Stigma female age SESstd Cparty reciprocity indvVB [pweight=wt] if country==2 , autofit  *estimates store SI_7festout SI_7* using SI_7b.txt, cells(b(star fmt(3)) se) starlevels(* 0.1 ** 0.05 *** 0.01) stats(N r2_p, labels("Observations" "R^2")) title("Table SI 7") replace*Hondurasgologit2 Stigma edu testpoor TP_edu if country==3, autofit  estimates store SI_8a*gologit2 Stigma income testpoor TP_income if country==3, autofit  *estimates store SI_8bgologit2 Stigma edu income testpoor TP_edu if country==3, autofit  estimates store SI_8b1*gologit2 Stigma SESstd testpoor TP_SESstd if country==3, autofit  *estimates store SI_8c*Uruguaygologit2 Stigma edu testpoor TP_edu [pweight=wt] if country==4, autofit  estimates store SI_8d*gologit2 Stigma income testpoor TP_income [pweight=wt] if country==4, autofit  *estimates store SI_8egologit2 Stigma edu income testpoor TP_edu [pweight=wt] if country==4, autofit  estimates store SI_8e1*gologit2 Stigma SESstd testpoor TP_SESstd [pweight=wt] if country==4, autofit  *estimates store SI_8f*Boliviagologit2 Stigma edu testpoor testsupport TP_edu TS_edu [pweight=wt] if country==5, autofit  estimates store SI_8g*gologit2 Stigma income testpoor testsupport TP_income TS_income [pweight=wt] if country==5, autofit  *estimates store SI_8hgologit2 Stigma edu income testpoor testsupport TP_edu TS_edu [pweight=wt] if country==5, autofit  estimates store SI_8h1*gologit2 Stigma SESstd testpoor testsupport TP_SESstd TS_SESstd [pweight=wt] if country==5, autofit  *estimates store SI_8iestout SI_8* using SI_8b.txt, cells(b(star fmt(3)) se) starlevels(* 0.1 ** 0.05 *** 0.01) stats(N r2_p, labels("Observations" "R^2")) title("Table SI 8") replace