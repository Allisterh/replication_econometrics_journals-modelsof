******************************************
*** Attacks Ads - Ken Miller *************
*** 4. 2012 House Add Variables **********
******************************************

clear
set more off
set scheme lean1

use "/Volumes/External/Datasets/CMAG/CMAG 2012/wmp-house-2012-v1.0S12.dta"

* Create the general election variable
encode election, generate(genelect)

* Create negativity ratio
gen negativity=.
recode negativity .=1 if ad_tone==3
recode negativity .=0 if ad_tone==2
recode negativity .=.25 if cnt_prp==1
recode negativity .=.5 if cnt_prp==2
recode negativity .=.75 if cnt_prp==3
recode negativity .=1 if cnt_prp==4

* Create grouptype
encode sponsor_name if sponsor==4, generate(groupname)
label list groupname

gen outsider=groupname
recode outsider 35 68 81 82 = 1  9 10 13 18 36 42 44 50 51 60 61 69 75 76 77 78 ///
                95 96 = 2  1 2 3 4 5 6 7 8 11 12 15 16 17 19 20 21 22 23 24 25 ///
                26 28 29 30 33 34 37 38 39 40 41 45 46 47 49 52 53 54 55 56 57 ///
                58 59 62 63 64 65 66 67 70 72 73 74 83 84 85 86 87 88 89 90 92 ///
                93 94 97 = 3  14 27 31 32 43 48 71 79 80 91 = 4

gen grouptype=.
recode grouptype .=1 if sponsor==1
recode grouptype .=2 if sponsor==2 | sponsor==3
recode grouptype .=2 if outsider==1
recode grouptype .=3 if outsider==2
recode grouptype .=4 if outsider==3
recode grouptype .=5 if outsider==4

gen noncand=0
recode noncand 0=1 if grouptype==2 
recode noncand 0=1 if grouptype==3
recode noncand 0=1 if grouptype==4
recode noncand 0=1 if grouptype==5

label define grp 1 "1.Candidate" 2 "2.Party" 3 "3.Party-Adjacent" 4 "4.Issue-Based" 5 "5.Single Candidate"
label values grouptype grp

* Create disclosure
gen outdisc=groupname
recode outdisc 2 3 4 5 6 7 8 10 12 13 14 15 16 17 19 20 21 22 23 27 28 31 32 33 ///
               34 35 39 41 42 43 45 46 47 48 49 51 52 54 56 57 58 59 60 61 62 63 ///
               64 65 66 67 68 69 71 72 75 76 77 78 80 81 82 83 84 85 86 87 88 89 ///
               91 92 94 95 = 1  1 9 11 18 24 25 26 29 30 36 37 38 40 44 50 53 55 ///
               70 73 74 79 90 93 96 97 = 2

gen disclosure=.
recode disclosure .=1 if grouptype==1 | grouptype==2
recode disclosure .=1 if outdisc==1
recode disclosure .=2 if outdisc==2

label define disc 1 "1.Tranparent" 2 "2.Opaque"
label values disclosure disc

* Number each House campaign
destring district, replace
gen campaign=.
recode campaign .=1500 if state=="AK" & district==1 & party=="DEMOCRAT" 
recode campaign .=1501 if state=="AK" & district==1 & party=="REPUBLICAN"
recode campaign .=1502 if state=="AL" & district==1 & party=="DEMOCRAT" 
recode campaign .=1503 if state=="AL" & district==1 & party=="REPUBLICAN"
recode campaign .=1504 if state=="AL" & district==2 & party=="DEMOCRAT" 
recode campaign .=1505 if state=="AL" & district==2 & party=="REPUBLICAN"
recode campaign .=1506 if state=="AL" & district==4 & party=="DEMOCRAT" 
recode campaign .=1507 if state=="AL" & district==4 & party=="REPUBLICAN"
recode campaign .=1508 if state=="AL" & district==5 & party=="DEMOCRAT" 
recode campaign .=1509 if state=="AL" & district==5 & party=="REPUBLICAN"
recode campaign .=1510 if state=="AL" & district==6 & party=="DEMOCRAT" 
recode campaign .=1511 if state=="AL" & district==6 & party=="REPUBLICAN"
recode campaign .=1512 if state=="AR" & district==1 & party=="DEMOCRAT" 
recode campaign .=1513 if state=="AR" & district==1 & party=="REPUBLICAN"
recode campaign .=1514 if state=="AR" & district==2 & party=="DEMOCRAT" 
recode campaign .=1515 if state=="AR" & district==2 & party=="REPUBLICAN"
recode campaign .=1516 if state=="AR" & district==4 & party=="DEMOCRAT" 
recode campaign .=1517 if state=="AR" & district==4 & party=="REPUBLICAN"
recode campaign .=1518 if state=="AZ" & district==1 & party=="DEMOCRAT" 
recode campaign .=1519 if state=="AZ" & district==1 & party=="REPUBLICAN"
recode campaign .=1520 if state=="AZ" & district==2 & party=="DEMOCRAT" 
recode campaign .=1521 if state=="AZ" & district==2 & party=="REPUBLICAN"
recode campaign .=1522 if state=="AZ" & district==3 & party=="DEMOCRAT" 
recode campaign .=1523 if state=="AZ" & district==3 & party=="REPUBLICAN"
recode campaign .=1524 if state=="AZ" & district==4 & party=="DEMOCRAT" 
recode campaign .=1525 if state=="AZ" & district==4 & party=="REPUBLICAN"
recode campaign .=1526 if state=="AZ" & district==5 & party=="DEMOCRAT" 
recode campaign .=1527 if state=="AZ" & district==5 & party=="REPUBLICAN"
recode campaign .=1528 if state=="AZ" & district==6 & party=="DEMOCRAT" 
recode campaign .=1529 if state=="AZ" & district==6 & party=="REPUBLICAN"
recode campaign .=1530 if state=="AZ" & district==8 & party=="DEMOCRAT" 
recode campaign .=1531 if state=="AZ" & district==8 & party=="REPUBLICAN"
recode campaign .=1532 if state=="AZ" & district==9 & party=="DEMOCRAT" 
recode campaign .=1533 if state=="AZ" & district==9 & party=="REPUBLICAN"
recode campaign .=1534 if state=="CA" & district==3 & party=="DEMOCRAT" 
recode campaign .=1535 if state=="CA" & district==3 & party=="REPUBLICAN"
recode campaign .=1536 if state=="CA" & district==6 & party=="DEMOCRAT" 
recode campaign .=1537 if state=="CA" & district==6 & party=="REPUBLICAN"
recode campaign .=1538 if state=="CA" & district==7 & party=="DEMOCRAT" 
recode campaign .=1539 if state=="CA" & district==7 & party=="REPUBLICAN"
recode campaign .=1540 if state=="CA" & district==9 & party=="DEMOCRAT" 
recode campaign .=1541 if state=="CA" & district==9 & party=="REPUBLICAN"
recode campaign .=1542 if state=="CA" & district==10 & party=="DEMOCRAT" 
recode campaign .=1543 if state=="CA" & district==10 & party=="REPUBLICAN"
recode campaign .=1544 if state=="CA" & district==11 & party=="DEMOCRAT" 
recode campaign .=1545 if state=="CA" & district==11 & party=="REPUBLICAN"
recode campaign .=1546 if state=="CA" & district==16 & party=="DEMOCRAT" 
recode campaign .=1547 if state=="CA" & district==16 & party=="REPUBLICAN"
recode campaign .=1548 if state=="CA" & district==17 & party=="DEMOCRAT" 
recode campaign .=1549 if state=="CA" & district==17 & party=="REPUBLICAN"
recode campaign .=1550 if state=="CA" & district==19 & party=="DEMOCRAT" 
recode campaign .=1551 if state=="CA" & district==19 & party=="REPUBLICAN"
recode campaign .=1552 if state=="CA" & district==20 & party=="DEMOCRAT" 
recode campaign .=1553 if state=="CA" & district==20 & party=="REPUBLICAN"
recode campaign .=1554 if state=="CA" & district==21 & party=="DEMOCRAT" 
recode campaign .=1555 if state=="CA" & district==21 & party=="REPUBLICAN"
recode campaign .=1556 if state=="CA" & district==22 & party=="DEMOCRAT" 
recode campaign .=1557 if state=="CA" & district==22 & party=="REPUBLICAN"
recode campaign .=1558 if state=="CA" & district==23 & party=="DEMOCRAT" 
recode campaign .=1559 if state=="CA" & district==23 & party=="REPUBLICAN"
recode campaign .=1560 if state=="CA" & district==24 & party=="DEMOCRAT" 
recode campaign .=1561 if state=="CA" & district==24 & party=="REPUBLICAN"
recode campaign .=1562 if state=="CA" & district==26 & party=="DEMOCRAT" 
recode campaign .=1563 if state=="CA" & district==26 & party=="REPUBLICAN"
recode campaign .=1564 if state=="CA" & district==33 & party=="DEMOCRAT" 
recode campaign .=1565 if state=="CA" & district==33 & party=="REPUBLICAN"
recode campaign .=1566 if state=="CA" & district==35 & party=="DEMOCRAT" 
recode campaign .=1567 if state=="CA" & district==35 & party=="REPUBLICAN"
recode campaign .=1568 if state=="CA" & district==36 & party=="DEMOCRAT" 
recode campaign .=1569 if state=="CA" & district==36 & party=="REPUBLICAN"
recode campaign .=1570 if state=="CA" & district==38 & party=="DEMOCRAT" 
recode campaign .=1571 if state=="CA" & district==38 & party=="REPUBLICAN"
recode campaign .=1572 if state=="CA" & district==39 & party=="DEMOCRAT" 
recode campaign .=1573 if state=="CA" & district==39 & party=="REPUBLICAN"
recode campaign .=1574 if state=="CA" & district==52 & party=="DEMOCRAT" 
recode campaign .=1575 if state=="CA" & district==52 & party=="REPUBLICAN"
recode campaign .=1576 if state=="CO" & district==3 & party=="DEMOCRAT" 
recode campaign .=1577 if state=="CO" & district==3 & party=="REPUBLICAN"
recode campaign .=1578 if state=="CO" & district==4 & party=="DEMOCRAT" 
recode campaign .=1579 if state=="CO" & district==4 & party=="REPUBLICAN"
recode campaign .=1580 if state=="CO" & district==5 & party=="DEMOCRAT" 
recode campaign .=1581 if state=="CO" & district==5 & party=="REPUBLICAN"
recode campaign .=1582 if state=="CO" & district==6 & party=="DEMOCRAT" 
recode campaign .=1583 if state=="CO" & district==6 & party=="REPUBLICAN"
recode campaign .=1584 if state=="CO" & district==7 & party=="DEMOCRAT" 
recode campaign .=1585 if state=="CO" & district==7 & party=="REPUBLICAN"
recode campaign .=1586 if state=="CT" & district==2 & party=="DEMOCRAT" 
recode campaign .=1587 if state=="CT" & district==2 & party=="REPUBLICAN"
recode campaign .=1588 if state=="CT" & district==5 & party=="DEMOCRAT" 
recode campaign .=1589 if state=="CT" & district==5 & party=="REPUBLICAN"
recode campaign .=1590 if state=="FL" & district==2 & party=="DEMOCRAT" 
recode campaign .=1591 if state=="FL" & district==2 & party=="REPUBLICAN"
recode campaign .=1592 if state=="FL" & district==3 & party=="DEMOCRAT" 
recode campaign .=1593 if state=="FL" & district==3 & party=="REPUBLICAN"
recode campaign .=1594 if state=="FL" & district==7 & party=="DEMOCRAT" 
recode campaign .=1595 if state=="FL" & district==7 & party=="REPUBLICAN"
recode campaign .=1596 if state=="FL" & district==9 & party=="DEMOCRAT" 
recode campaign .=1597 if state=="FL" & district==9 & party=="REPUBLICAN"
recode campaign .=1598 if state=="FL" & district==10 & party=="DEMOCRAT" 
recode campaign .=1599 if state=="FL" & district==10 & party=="REPUBLICAN"
recode campaign .=1600 if state=="FL" & district==12 & party=="DEMOCRAT" 
recode campaign .=1601 if state=="FL" & district==12 & party=="REPUBLICAN"
recode campaign .=1602 if state=="FL" & district==13 & party=="DEMOCRAT" 
recode campaign .=1603 if state=="FL" & district==13 & party=="REPUBLICAN"
recode campaign .=1604 if state=="FL" & district==14 & party=="DEMOCRAT" 
recode campaign .=1605 if state=="FL" & district==14 & party=="REPUBLICAN"
recode campaign .=1606 if state=="FL" & district==16 & party=="DEMOCRAT" 
recode campaign .=1607 if state=="FL" & district==16 & party=="REPUBLICAN"
recode campaign .=1608 if state=="FL" & district==18 & party=="DEMOCRAT" 
recode campaign .=1609 if state=="FL" & district==18 & party=="REPUBLICAN"
recode campaign .=1610 if state=="FL" & district==19 & party=="DEMOCRAT" 
recode campaign .=1611 if state=="FL" & district==19 & party=="REPUBLICAN"
recode campaign .=1612 if state=="FL" & district==20 & party=="DEMOCRAT" 
recode campaign .=1613 if state=="FL" & district==20 & party=="REPUBLICAN"
recode campaign .=1614 if state=="FL" & district==22 & party=="DEMOCRAT" 
recode campaign .=1615 if state=="FL" & district==22 & party=="REPUBLICAN"
recode campaign .=1616 if state=="FL" & district==23 & party=="DEMOCRAT" 
recode campaign .=1617 if state=="FL" & district==23 & party=="REPUBLICAN"
recode campaign .=1618 if state=="FL" & district==26 & party=="DEMOCRAT" 
recode campaign .=1619 if state=="FL" & district==26 & party=="REPUBLICAN"
recode campaign .=1620 if state=="FL" & district==27 & party=="DEMOCRAT" 
recode campaign .=1621 if state=="FL" & district==27 & party=="REPUBLICAN"
recode campaign .=1622 if state=="GA" & district==1 & party=="DEMOCRAT" 
recode campaign .=1623 if state=="GA" & district==1 & party=="REPUBLICAN"
recode campaign .=1624 if state=="GA" & district==2 & party=="DEMOCRAT" 
recode campaign .=1625 if state=="GA" & district==2 & party=="REPUBLICAN"
recode campaign .=1626 if state=="GA" & district==12 & party=="DEMOCRAT" 
recode campaign .=1627 if state=="GA" & district==12 & party=="REPUBLICAN"
recode campaign .=1628 if state=="HI" & district==1 & party=="DEMOCRAT" 
recode campaign .=1629 if state=="HI" & district==1 & party=="REPUBLICAN"
recode campaign .=1630 if state=="HI" & district==2 & party=="DEMOCRAT" 
recode campaign .=1631 if state=="HI" & district==2 & party=="REPUBLICAN"
recode campaign .=1632 if state=="IA" & district==1 & party=="DEMOCRAT" 
recode campaign .=1633 if state=="IA" & district==1 & party=="REPUBLICAN"
recode campaign .=1634 if state=="IA" & district==2 & party=="DEMOCRAT" 
recode campaign .=1635 if state=="IA" & district==2 & party=="REPUBLICAN"
recode campaign .=1636 if state=="IA" & district==3 & party=="DEMOCRAT" 
recode campaign .=1637 if state=="IA" & district==3 & party=="REPUBLICAN"
recode campaign .=1638 if state=="IA" & district==4 & party=="DEMOCRAT" 
recode campaign .=1639 if state=="IA" & district==4 & party=="REPUBLICAN"
recode campaign .=1640 if state=="ID" & district==2 & party=="DEMOCRAT" 
recode campaign .=1641 if state=="ID" & district==2 & party=="REPUBLICAN"
recode campaign .=1642 if state=="IL" & district==2 & party=="DEMOCRAT" 
recode campaign .=1643 if state=="IL" & district==2 & party=="REPUBLICAN"
recode campaign .=1644 if state=="IL" & district==8 & party=="DEMOCRAT" 
recode campaign .=1645 if state=="IL" & district==8 & party=="REPUBLICAN"
recode campaign .=1646 if state=="IL" & district==10 & party=="DEMOCRAT" 
recode campaign .=1647 if state=="IL" & district==10 & party=="REPUBLICAN"
recode campaign .=1648 if state=="IL" & district==11 & party=="DEMOCRAT" 
recode campaign .=1649 if state=="IL" & district==11 & party=="REPUBLICAN"
recode campaign .=1650 if state=="IL" & district==12 & party=="DEMOCRAT" 
recode campaign .=1651 if state=="IL" & district==12 & party=="REPUBLICAN"
recode campaign .=1652 if state=="IL" & district==13 & party=="DEMOCRAT" 
recode campaign .=1653 if state=="IL" & district==13 & party=="REPUBLICAN"
recode campaign .=1654 if state=="IL" & district==15 & party=="DEMOCRAT" 
recode campaign .=1655 if state=="IL" & district==15 & party=="REPUBLICAN"
recode campaign .=1656 if state=="IL" & district==17 & party=="DEMOCRAT" 
recode campaign .=1657 if state=="IL" & district==17 & party=="REPUBLICAN"
recode campaign .=1658 if state=="IL" & district==18 & party=="DEMOCRAT" 
recode campaign .=1659 if state=="IL" & district==18 & party=="REPUBLICAN"
recode campaign .=1660 if state=="IN" & district==2 & party=="DEMOCRAT" 
recode campaign .=1661 if state=="IN" & district==2 & party=="REPUBLICAN"
recode campaign .=1662 if state=="IN" & district==3 & party=="DEMOCRAT" 
recode campaign .=1663 if state=="IN" & district==3 & party=="REPUBLICAN"
recode campaign .=1664 if state=="IN" & district==5 & party=="DEMOCRAT" 
recode campaign .=1665 if state=="IN" & district==5 & party=="REPUBLICAN"
recode campaign .=1666 if state=="IN" & district==6 & party=="DEMOCRAT" 
recode campaign .=1667 if state=="IN" & district==6 & party=="REPUBLICAN"
recode campaign .=1668 if state=="IN" & district==7 & party=="DEMOCRAT" 
recode campaign .=1669 if state=="IN" & district==7 & party=="REPUBLICAN"
recode campaign .=1670 if state=="IN" & district==8 & party=="DEMOCRAT" 
recode campaign .=1671 if state=="IN" & district==8 & party=="REPUBLICAN"
recode campaign .=1672 if state=="IN" & district==9 & party=="DEMOCRAT" 
recode campaign .=1673 if state=="IN" & district==9 & party=="REPUBLICAN"
recode campaign .=1674 if state=="KS" & district==1 & party=="DEMOCRAT" 
recode campaign .=1675 if state=="KS" & district==1 & party=="REPUBLICAN"
recode campaign .=1676 if state=="KS" & district==2 & party=="DEMOCRAT" 
recode campaign .=1677 if state=="KS" & district==2 & party=="REPUBLICAN"
recode campaign .=1678 if state=="KY" & district==1 & party=="DEMOCRAT" 
recode campaign .=1679 if state=="KY" & district==1 & party=="REPUBLICAN"
recode campaign .=1680 if state=="KY" & district==2 & party=="DEMOCRAT" 
recode campaign .=1681 if state=="KY" & district==2 & party=="REPUBLICAN"
recode campaign .=1682 if state=="KY" & district==3 & party=="DEMOCRAT" 
recode campaign .=1683 if state=="KY" & district==3 & party=="REPUBLICAN"
recode campaign .=1684 if state=="KY" & district==4 & party=="DEMOCRAT" 
recode campaign .=1685 if state=="KY" & district==4 & party=="REPUBLICAN"
recode campaign .=1686 if state=="KY" & district==5 & party=="DEMOCRAT" 
recode campaign .=1687 if state=="KY" & district==5 & party=="REPUBLICAN"
recode campaign .=1688 if state=="KY" & district==6 & party=="DEMOCRAT" 
recode campaign .=1689 if state=="KY" & district==6 & party=="REPUBLICAN"
recode campaign .=1690 if state=="LA" & district==1 & party=="DEMOCRAT" 
recode campaign .=1691 if state=="LA" & district==1 & party=="REPUBLICAN"
recode campaign .=1692 if state=="LA" & district==2 & party=="DEMOCRAT" 
recode campaign .=1693 if state=="LA" & district==2 & party=="REPUBLICAN"
recode campaign .=1694 if state=="LA" & district==3 & party=="DEMOCRAT" 
recode campaign .=1695 if state=="LA" & district==3 & party=="REPUBLICAN"
recode campaign .=1696 if state=="MA" & district==1 & party=="DEMOCRAT" 
recode campaign .=1697 if state=="MA" & district==1 & party=="REPUBLICAN"
recode campaign .=1698 if state=="MA" & district==4 & party=="DEMOCRAT" 
recode campaign .=1699 if state=="MA" & district==4 & party=="REPUBLICAN"
recode campaign .=1700 if state=="MA" & district==6 & party=="DEMOCRAT" 
recode campaign .=1701 if state=="MA" & district==6 & party=="REPUBLICAN"
recode campaign .=1702 if state=="MD" & district==1 & party=="DEMOCRAT" 
recode campaign .=1703 if state=="MD" & district==1 & party=="REPUBLICAN"
recode campaign .=1704 if state=="MD" & district==2 & party=="DEMOCRAT" 
recode campaign .=1705 if state=="MD" & district==2 & party=="REPUBLICAN"
recode campaign .=1706 if state=="MD" & district==6 & party=="DEMOCRAT" 
recode campaign .=1707 if state=="MD" & district==6 & party=="REPUBLICAN"
recode campaign .=1708 if state=="ME" & district==1 & party=="DEMOCRAT" 
recode campaign .=1709 if state=="ME" & district==1 & party=="REPUBLICAN"
recode campaign .=1710 if state=="ME" & district==2 & party=="DEMOCRAT" 
recode campaign .=1711 if state=="ME" & district==2 & party=="REPUBLICAN"
recode campaign .=1712 if state=="MI" & district==3 & party=="DEMOCRAT" 
recode campaign .=1713 if state=="MI" & district==3 & party=="REPUBLICAN"
recode campaign .=1714 if state=="MI" & district==4 & party=="DEMOCRAT" 
recode campaign .=1715 if state=="MI" & district==4 & party=="REPUBLICAN"
recode campaign .=1716 if state=="MI" & district==5 & party=="DEMOCRAT" 
recode campaign .=1717 if state=="MI" & district==5 & party=="REPUBLICAN"
recode campaign .=1718 if state=="MI" & district==6 & party=="DEMOCRAT" 
recode campaign .=1719 if state=="MI" & district==6 & party=="REPUBLICAN"
recode campaign .=1720 if state=="MI" & district==7 & party=="DEMOCRAT" 
recode campaign .=1721 if state=="MI" & district==7 & party=="REPUBLICAN"
recode campaign .=1722 if state=="MI" & district==8 & party=="DEMOCRAT" 
recode campaign .=1723 if state=="MI" & district==8 & party=="REPUBLICAN"
recode campaign .=1724 if state=="MI" & district==9 & party=="DEMOCRAT" 
recode campaign .=1725 if state=="MI" & district==9 & party=="REPUBLICAN"
recode campaign .=1726 if state=="MI" & district==11 & party=="DEMOCRAT" 
recode campaign .=1727 if state=="MI" & district==11 & party=="REPUBLICAN"
recode campaign .=1728 if state=="MI" & district==13 & party=="DEMOCRAT" 
recode campaign .=1729 if state=="MI" & district==13 & party=="REPUBLICAN"
recode campaign .=1730 if state=="MI" & district==14 & party=="DEMOCRAT" 
recode campaign .=1731 if state=="MI" & district==14 & party=="REPUBLICAN"
recode campaign .=1732 if state=="MN" & district==1 & party=="DEMOCRAT" 
recode campaign .=1733 if state=="MN" & district==1 & party=="REPUBLICAN"
recode campaign .=1734 if state=="MN" & district==2 & party=="DEMOCRAT" 
recode campaign .=1735 if state=="MN" & district==2 & party=="REPUBLICAN"
recode campaign .=1736 if state=="MN" & district==3 & party=="DEMOCRAT" 
recode campaign .=1737 if state=="MN" & district==3 & party=="REPUBLICAN"
recode campaign .=1738 if state=="MN" & district==5 & party=="DEMOCRAT" 
recode campaign .=1739 if state=="MN" & district==5 & party=="REPUBLICAN"
recode campaign .=1740 if state=="MN" & district==6 & party=="DEMOCRAT" 
recode campaign .=1741 if state=="MN" & district==6 & party=="REPUBLICAN"
recode campaign .=1742 if state=="MN" & district==7 & party=="DEMOCRAT" 
recode campaign .=1743 if state=="MN" & district==7 & party=="REPUBLICAN"
recode campaign .=1744 if state=="MN" & district==8 & party=="DEMOCRAT" 
recode campaign .=1745 if state=="MN" & district==8 & party=="REPUBLICAN"
recode campaign .=1746 if state=="MO" & district==1 & party=="DEMOCRAT" 
recode campaign .=1747 if state=="MO" & district==1 & party=="REPUBLICAN"
recode campaign .=1748 if state=="MO" & district==2 & party=="DEMOCRAT" 
recode campaign .=1749 if state=="MO" & district==2 & party=="REPUBLICAN"
recode campaign .=1750 if state=="MO" & district==4 & party=="DEMOCRAT" 
recode campaign .=1751 if state=="MO" & district==4 & party=="REPUBLICAN"
recode campaign .=1752 if state=="MO" & district==7 & party=="DEMOCRAT" 
recode campaign .=1753 if state=="MO" & district==7 & party=="REPUBLICAN"
recode campaign .=1754 if state=="MO" & district==8 & party=="DEMOCRAT" 
recode campaign .=1755 if state=="MO" & district==8 & party=="REPUBLICAN"
recode campaign .=1756 if state=="MS" & district==1 & party=="DEMOCRAT" 
recode campaign .=1757 if state=="MS" & district==1 & party=="REPUBLICAN"
recode campaign .=1758 if state=="MS" & district==2 & party=="DEMOCRAT" 
recode campaign .=1759 if state=="MS" & district==2 & party=="REPUBLICAN"
recode campaign .=1760 if state=="MT" & district==1 & party=="DEMOCRAT" 
recode campaign .=1761 if state=="MT" & district==1 & party=="REPUBLICAN"
recode campaign .=1762 if state=="NC" & district==2 & party=="DEMOCRAT" 
recode campaign .=1763 if state=="NC" & district==2 & party=="REPUBLICAN"
recode campaign .=1764 if state=="NC" & district==3 & party=="DEMOCRAT" 
recode campaign .=1765 if state=="NC" & district==3 & party=="REPUBLICAN"
recode campaign .=1766 if state=="NC" & district==4 & party=="DEMOCRAT" 
recode campaign .=1767 if state=="NC" & district==4 & party=="REPUBLICAN"
recode campaign .=1768 if state=="NC" & district==6 & party=="DEMOCRAT" 
recode campaign .=1769 if state=="NC" & district==6 & party=="REPUBLICAN"
recode campaign .=1770 if state=="NC" & district==7 & party=="DEMOCRAT" 
recode campaign .=1771 if state=="NC" & district==7 & party=="REPUBLICAN"
recode campaign .=1772 if state=="NC" & district==8 & party=="DEMOCRAT" 
recode campaign .=1773 if state=="NC" & district==8 & party=="REPUBLICAN"
recode campaign .=1774 if state=="NC" & district==9 & party=="DEMOCRAT" 
recode campaign .=1775 if state=="NC" & district==9 & party=="REPUBLICAN"
recode campaign .=1776 if state=="NC" & district==11 & party=="DEMOCRAT" 
recode campaign .=1777 if state=="NC" & district==11 & party=="REPUBLICAN"
recode campaign .=1778 if state=="NC" & district==13 & party=="DEMOCRAT" 
recode campaign .=1779 if state=="NC" & district==13 & party=="REPUBLICAN"
recode campaign .=1780 if state=="ND" & district==1 & party=="DEMOCRAT" 
recode campaign .=1781 if state=="ND" & district==1 & party=="REPUBLICAN"
recode campaign .=1782 if state=="NE" & district==2 & party=="DEMOCRAT" 
recode campaign .=1783 if state=="NE" & district==2 & party=="REPUBLICAN"
recode campaign .=1784 if state=="NH" & district==1 & party=="DEMOCRAT" 
recode campaign .=1785 if state=="NH" & district==1 & party=="REPUBLICAN"
recode campaign .=1786 if state=="NH" & district==2 & party=="DEMOCRAT" 
recode campaign .=1787 if state=="NH" & district==2 & party=="REPUBLICAN"
recode campaign .=1788 if state=="NJ" & district==3 & party=="DEMOCRAT" 
recode campaign .=1789 if state=="NJ" & district==3 & party=="REPUBLICAN"
recode campaign .=1790 if state=="NJ" & district==9 & party=="DEMOCRAT" 
recode campaign .=1791 if state=="NJ" & district==9 & party=="REPUBLICAN"
recode campaign .=1792 if state=="NM" & district==1 & party=="DEMOCRAT" 
recode campaign .=1793 if state=="NM" & district==1 & party=="REPUBLICAN"
recode campaign .=1794 if state=="NM" & district==2 & party=="DEMOCRAT" 
recode campaign .=1795 if state=="NM" & district==2 & party=="REPUBLICAN"
recode campaign .=1796 if state=="NM" & district==3 & party=="DEMOCRAT" 
recode campaign .=1797 if state=="NM" & district==3 & party=="REPUBLICAN"
recode campaign .=1798 if state=="NV" & district==1 & party=="DEMOCRAT" 
recode campaign .=1799 if state=="NV" & district==1 & party=="REPUBLICAN"
recode campaign .=1800 if state=="NV" & district==2 & party=="DEMOCRAT" 
recode campaign .=1801 if state=="NV" & district==2 & party=="REPUBLICAN"
recode campaign .=1802 if state=="NV" & district==3 & party=="DEMOCRAT" 
recode campaign .=1803 if state=="NV" & district==3 & party=="REPUBLICAN"
recode campaign .=1804 if state=="NV" & district==4 & party=="DEMOCRAT" 
recode campaign .=1805 if state=="NV" & district==4 & party=="REPUBLICAN"
recode campaign .=1806 if state=="NY" & district==1 & party=="DEMOCRAT" 
recode campaign .=1807 if state=="NY" & district==1 & party=="REPUBLICAN"
recode campaign .=1808 if state=="NY" & district==4 & party=="DEMOCRAT" 
recode campaign .=1809 if state=="NY" & district==4 & party=="REPUBLICAN"
recode campaign .=1810 if state=="NY" & district==7 & party=="DEMOCRAT" 
recode campaign .=1811 if state=="NY" & district==7 & party=="REPUBLICAN"
recode campaign .=1812 if state=="NY" & district==9 & party=="DEMOCRAT" 
recode campaign .=1813 if state=="NY" & district==9 & party=="REPUBLICAN"
recode campaign .=1814 if state=="NY" & district==18 & party=="DEMOCRAT" 
recode campaign .=1815 if state=="NY" & district==18 & party=="REPUBLICAN"
recode campaign .=1816 if state=="NY" & district==19 & party=="DEMOCRAT" 
recode campaign .=1817 if state=="NY" & district==19 & party=="REPUBLICAN"
recode campaign .=1818 if state=="NY" & district==20 & party=="DEMOCRAT" 
recode campaign .=1819 if state=="NY" & district==20 & party=="REPUBLICAN"
recode campaign .=1820 if state=="NY" & district==21 & party=="DEMOCRAT" 
recode campaign .=1821 if state=="NY" & district==21 & party=="REPUBLICAN"
recode campaign .=1822 if state=="NY" & district==22 & party=="DEMOCRAT" 
recode campaign .=1823 if state=="NY" & district==22 & party=="REPUBLICAN"
recode campaign .=1824 if state=="NY" & district==23 & party=="DEMOCRAT" 
recode campaign .=1825 if state=="NY" & district==23 & party=="REPUBLICAN"
recode campaign .=1826 if state=="NY" & district==24 & party=="DEMOCRAT" 
recode campaign .=1827 if state=="NY" & district==24 & party=="REPUBLICAN"
recode campaign .=1828 if state=="NY" & district==25 & party=="DEMOCRAT" 
recode campaign .=1829 if state=="NY" & district==25 & party=="REPUBLICAN"
recode campaign .=1830 if state=="NY" & district==26 & party=="DEMOCRAT" 
recode campaign .=1831 if state=="NY" & district==26 & party=="REPUBLICAN"
recode campaign .=1832 if state=="NY" & district==27 & party=="DEMOCRAT" 
recode campaign .=1833 if state=="NY" & district==27 & party=="REPUBLICAN"
recode campaign .=1834 if state=="OH" & district==1 & party=="DEMOCRAT" 
recode campaign .=1835 if state=="OH" & district==1 & party=="REPUBLICAN"
recode campaign .=1836 if state=="OH" & district==2 & party=="DEMOCRAT" 
recode campaign .=1837 if state=="OH" & district==2 & party=="REPUBLICAN"
recode campaign .=1838 if state=="OH" & district==3 & party=="DEMOCRAT" 
recode campaign .=1839 if state=="OH" & district==3 & party=="REPUBLICAN"
recode campaign .=1840 if state=="OH" & district==5 & party=="DEMOCRAT" 
recode campaign .=1841 if state=="OH" & district==5 & party=="REPUBLICAN"
recode campaign .=1842 if state=="OH" & district==6 & party=="DEMOCRAT" 
recode campaign .=1843 if state=="OH" & district==6 & party=="REPUBLICAN"
recode campaign .=1844 if state=="OH" & district==7 & party=="DEMOCRAT" 
recode campaign .=1845 if state=="OH" & district==7 & party=="REPUBLICAN"
recode campaign .=1846 if state=="OH" & district==8 & party=="DEMOCRAT" 
recode campaign .=1847 if state=="OH" & district==8 & party=="REPUBLICAN"
recode campaign .=1848 if state=="OH" & district==9 & party=="DEMOCRAT" 
recode campaign .=1849 if state=="OH" & district==9 & party=="REPUBLICAN"
recode campaign .=1850 if state=="OH" & district==10 & party=="DEMOCRAT" 
recode campaign .=1851 if state=="OH" & district==10 & party=="REPUBLICAN"
recode campaign .=1852 if state=="OH" & district==12 & party=="DEMOCRAT" 
recode campaign .=1853 if state=="OH" & district==12 & party=="REPUBLICAN"
recode campaign .=1854 if state=="OH" & district==13 & party=="DEMOCRAT" 
recode campaign .=1855 if state=="OH" & district==13 & party=="REPUBLICAN"
recode campaign .=1856 if state=="OH" & district==14 & party=="DEMOCRAT" 
recode campaign .=1857 if state=="OH" & district==14 & party=="REPUBLICAN"
recode campaign .=1858 if state=="OH" & district==15 & party=="DEMOCRAT" 
recode campaign .=1859 if state=="OH" & district==15 & party=="REPUBLICAN"
recode campaign .=1860 if state=="OH" & district==16 & party=="DEMOCRAT" 
recode campaign .=1861 if state=="OH" & district==16 & party=="REPUBLICAN"
recode campaign .=1862 if state=="OK" & district==1 & party=="DEMOCRAT" 
recode campaign .=1863 if state=="OK" & district==1 & party=="REPUBLICAN"
recode campaign .=1864 if state=="OK" & district==2 & party=="DEMOCRAT" 
recode campaign .=1865 if state=="OK" & district==2 & party=="REPUBLICAN"
recode campaign .=1866 if state=="OK" & district==3 & party=="DEMOCRAT" 
recode campaign .=1867 if state=="OK" & district==3 & party=="REPUBLICAN"
recode campaign .=1868 if state=="OK" & district==4 & party=="DEMOCRAT" 
recode campaign .=1869 if state=="OK" & district==4 & party=="REPUBLICAN"
recode campaign .=1870 if state=="OK" & district==5 & party=="DEMOCRAT" 
recode campaign .=1871 if state=="OK" & district==5 & party=="REPUBLICAN"
recode campaign .=1872 if state=="OR" & district==1 & party=="DEMOCRAT" 
recode campaign .=1873 if state=="OR" & district==1 & party=="REPUBLICAN"
recode campaign .=1874 if state=="OR" & district==2 & party=="DEMOCRAT" 
recode campaign .=1875 if state=="OR" & district==2 & party=="REPUBLICAN"
recode campaign .=1876 if state=="OR" & district==3 & party=="DEMOCRAT" 
recode campaign .=1877 if state=="OR" & district==3 & party=="REPUBLICAN"
recode campaign .=1878 if state=="OR" & district==5 & party=="DEMOCRAT" 
recode campaign .=1879 if state=="OR" & district==5 & party=="REPUBLICAN"
recode campaign .=1880 if state=="PA" & district==4 & party=="DEMOCRAT" 
recode campaign .=1881 if state=="PA" & district==4 & party=="REPUBLICAN"
recode campaign .=1882 if state=="PA" & district==5 & party=="DEMOCRAT" 
recode campaign .=1883 if state=="PA" & district==5 & party=="REPUBLICAN"
recode campaign .=1884 if state=="PA" & district==6 & party=="DEMOCRAT" 
recode campaign .=1885 if state=="PA" & district==6 & party=="REPUBLICAN"
recode campaign .=1886 if state=="PA" & district==7 & party=="DEMOCRAT" 
recode campaign .=1887 if state=="PA" & district==7 & party=="REPUBLICAN"
recode campaign .=1888 if state=="PA" & district==8 & party=="DEMOCRAT" 
recode campaign .=1889 if state=="PA" & district==8 & party=="REPUBLICAN"
recode campaign .=1890 if state=="PA" & district==10 & party=="DEMOCRAT" 
recode campaign .=1891 if state=="PA" & district==10 & party=="REPUBLICAN"
recode campaign .=1892 if state=="PA" & district==11 & party=="DEMOCRAT" 
recode campaign .=1893 if state=="PA" & district==11 & party=="REPUBLICAN"
recode campaign .=1894 if state=="PA" & district==12 & party=="DEMOCRAT" 
recode campaign .=1895 if state=="PA" & district==12 & party=="REPUBLICAN"
recode campaign .=1896 if state=="PA" & district==15 & party=="DEMOCRAT" 
recode campaign .=1897 if state=="PA" & district==15 & party=="REPUBLICAN"
recode campaign .=1899 if state=="PA" & district==16 & party=="DEMOCRAT" 
recode campaign .=1900 if state=="PA" & district==16 & party=="REPUBLICAN"
recode campaign .=1901 if state=="PA" & district==17 & party=="DEMOCRAT" 
recode campaign .=1902 if state=="PA" & district==17 & party=="REPUBLICAN"
recode campaign .=1903 if state=="PA" & district==18 & party=="DEMOCRAT" 
recode campaign .=1904 if state=="PA" & district==18 & party=="REPUBLICAN"
recode campaign .=1905 if state=="RI" & district==1 & party=="DEMOCRAT" 
recode campaign .=1906 if state=="RI" & district==1 & party=="REPUBLICAN"
recode campaign .=1907 if state=="RI" & district==2 & party=="DEMOCRAT" 
recode campaign .=1908 if state=="RI" & district==2 & party=="REPUBLICAN"
recode campaign .=1909 if state=="SC" & district==1 & party=="DEMOCRAT" 
recode campaign .=1910 if state=="SC" & district==1 & party=="REPUBLICAN"
recode campaign .=1911 if state=="SC" & district==7 & party=="DEMOCRAT" 
recode campaign .=1912 if state=="SC" & district==7 & party=="REPUBLICAN"
recode campaign .=1913 if state=="SD" & district==1 & party=="DEMOCRAT" 
recode campaign .=1914 if state=="SD" & district==1 & party=="REPUBLICAN"
recode campaign .=1915 if state=="TN" & district==3 & party=="DEMOCRAT" 
recode campaign .=1916 if state=="TN" & district==3 & party=="REPUBLICAN"
recode campaign .=1917 if state=="TN" & district==4 & party=="DEMOCRAT" 
recode campaign .=1918 if state=="TN" & district==4 & party=="REPUBLICAN"
recode campaign .=1919 if state=="TN" & district==6 & party=="DEMOCRAT" 
recode campaign .=1920 if state=="TN" & district==6 & party=="REPUBLICAN"
recode campaign .=1921 if state=="TN" & district==9 & party=="DEMOCRAT" 
recode campaign .=1922 if state=="TN" & district==9 & party=="REPUBLICAN"
recode campaign .=1923 if state=="TX" & district==14 & party=="DEMOCRAT" 
recode campaign .=1924 if state=="TX" & district==14 & party=="REPUBLICAN"
recode campaign .=1925 if state=="TX" & district==15 & party=="DEMOCRAT" 
recode campaign .=1926 if state=="TX" & district==15 & party=="REPUBLICAN"
recode campaign .=1927 if state=="TX" & district==16 & party=="DEMOCRAT" 
recode campaign .=1928 if state=="TX" & district==16 & party=="REPUBLICAN"
recode campaign .=1929 if state=="TX" & district==17 & party=="DEMOCRAT" 
recode campaign .=1930 if state=="TX" & district==17 & party=="REPUBLICAN"
recode campaign .=1931 if state=="TX" & district==21 & party=="DEMOCRAT" 
recode campaign .=1932 if state=="TX" & district==21 & party=="REPUBLICAN"
recode campaign .=1933 if state=="TX" & district==23 & party=="DEMOCRAT" 
recode campaign .=1934 if state=="TX" & district==23 & party=="REPUBLICAN"
recode campaign .=1935 if state=="TX" & district==24 & party=="DEMOCRAT" 
recode campaign .=1936 if state=="TX" & district==24 & party=="REPUBLICAN"
recode campaign .=1937 if state=="TX" & district==25 & party=="DEMOCRAT" 
recode campaign .=1938 if state=="TX" & district==25 & party=="REPUBLICAN"
recode campaign .=1939 if state=="TX" & district==27 & party=="DEMOCRAT" 
recode campaign .=1940 if state=="TX" & district==27 & party=="REPUBLICAN"
recode campaign .=1941 if state=="TX" & district==28 & party=="DEMOCRAT" 
recode campaign .=1942 if state=="TX" & district==28 & party=="REPUBLICAN"
recode campaign .=1943 if state=="TX" & district==29 & party=="DEMOCRAT" 
recode campaign .=1944 if state=="TX" & district==29 & party=="REPUBLICAN"
recode campaign .=1945 if state=="TX" & district==30 & party=="DEMOCRAT" 
recode campaign .=1946 if state=="TX" & district==30 & party=="REPUBLICAN"
recode campaign .=1947 if state=="TX" & district==33 & party=="DEMOCRAT" 
recode campaign .=1948 if state=="TX" & district==33 & party=="REPUBLICAN"
recode campaign .=1949 if state=="TX" & district==34 & party=="DEMOCRAT" 
recode campaign .=1950 if state=="TX" & district==34 & party=="REPUBLICAN"
recode campaign .=1951 if state=="TX" & district==35 & party=="DEMOCRAT" 
recode campaign .=1952 if state=="TX" & district==35 & party=="REPUBLICAN"
recode campaign .=1953 if state=="UT" & district==2 & party=="DEMOCRAT" 
recode campaign .=1954 if state=="UT" & district==2 & party=="REPUBLICAN"
recode campaign .=1955 if state=="UT" & district==4 & party=="DEMOCRAT" 
recode campaign .=1956 if state=="UT" & district==4 & party=="REPUBLICAN"
recode campaign .=1957 if state=="VA" & district==2 & party=="DEMOCRAT" 
recode campaign .=1958 if state=="VA" & district==2 & party=="REPUBLICAN"
recode campaign .=1959 if state=="VA" & district==4 & party=="DEMOCRAT" 
recode campaign .=1960 if state=="VA" & district==4 & party=="REPUBLICAN"
recode campaign .=1961 if state=="VA" & district==5 & party=="DEMOCRAT" 
recode campaign .=1962 if state=="VA" & district==5 & party=="REPUBLICAN"
recode campaign .=1963 if state=="VA" & district==6 & party=="DEMOCRAT" 
recode campaign .=1964 if state=="VA" & district==6 & party=="REPUBLICAN"
recode campaign .=1965 if state=="VA" & district==7 & party=="DEMOCRAT" 
recode campaign .=1966 if state=="VA" & district==7 & party=="REPUBLICAN"
recode campaign .=1967 if state=="VA" & district==9 & party=="DEMOCRAT" 
recode campaign .=1968 if state=="VA" & district==9 & party=="REPUBLICAN"
recode campaign .=1969 if state=="WA" & district==1 & party=="DEMOCRAT" 
recode campaign .=1970 if state=="WA" & district==1 & party=="REPUBLICAN"
recode campaign .=1971 if state=="WA" & district==3 & party=="DEMOCRAT" 
recode campaign .=1972 if state=="WA" & district==3 & party=="REPUBLICAN"
recode campaign .=1973 if state=="WA" & district==5 & party=="DEMOCRAT" 
recode campaign .=1974 if state=="WA" & district==5 & party=="REPUBLICAN"
recode campaign .=1975 if state=="WA" & district==6 & party=="DEMOCRAT" 
recode campaign .=1976 if state=="WA" & district==6 & party=="REPUBLICAN"
recode campaign .=1977 if state=="WA" & district==8 & party=="DEMOCRAT" 
recode campaign .=1978 if state=="WA" & district==8 & party=="REPUBLICAN"
recode campaign .=1979 if state=="WA" & district==9 & party=="DEMOCRAT" 
recode campaign .=1980 if state=="WA" & district==9 & party=="REPUBLICAN"
recode campaign .=1981 if state=="WA" & district==10 & party=="DEMOCRAT" 
recode campaign .=1982 if state=="WA" & district==10 & party=="REPUBLICAN"
recode campaign .=1983 if state=="WI" & district==1 & party=="DEMOCRAT" 
recode campaign .=1984 if state=="WI" & district==1 & party=="REPUBLICAN"
recode campaign .=1985 if state=="WI" & district==2 & party=="DEMOCRAT" 
recode campaign .=1986 if state=="WI" & district==2 & party=="REPUBLICAN"
recode campaign .=1987 if state=="WI" & district==7 & party=="DEMOCRAT" 
recode campaign .=1988 if state=="WI" & district==7 & party=="REPUBLICAN"
recode campaign .=1989 if state=="WI" & district==8 & party=="DEMOCRAT" 
recode campaign .=1990 if state=="WI" & district==8 & party=="REPUBLICAN"
recode campaign .=1991 if state=="WV" & district==3 & party=="DEMOCRAT" 
recode campaign .=1992 if state=="WV" & district==3 & party=="REPUBLICAN"
* Note, due to a keying error, 1898 was skipped above

* Create Market Weights
* Drop national ads
drop if market=="NATIONAL CABLE"
gen households=.
*Market Size
recode households .=150.11 if market=="ALBANY, GA"recode households .=540.05 if market=="ALBANY, NY"recode households .=691.45 if market=="ALBUQUERQUE"recode households .=156.28 if market=="ANCHORAGE"recode households .=257.73 if market=="AUGUSTA"recode households .=705.28 if market=="AUSTIN"recode households .=221.74	 if market=="BAKERSFIELD"recode households .=1085.07	 if market=="BALTIMORE"recode households .=138.04	 if market=="BANGOR"recode households .=329.62	 if market=="BATON ROUGE"recode households .=62.95	 if market=="BEND"recode households .=109.73	 if market=="BILLINGS"recode households .=133.42	 if market=="BINGHAMTON"recode households .=717.53	 if market=="BIRMINGHAM"recode households .=150	 if market=="BISMARCK-MINOT"recode households .=134.41	 if market=="BLUEFIELD-BECKLE"recode households .=259.09	 if market=="BOISE"recode households .=2366.69	 if market=="BOSTON"recode households .=78.78	 if market=="BOWLING GREEN"recode households .=632.15	 if market=="BUFFALO"recode households .=316.91	 if market=="BURLINGTON"recode households .=67.18	 if market=="BUTTE"recode households .=342.61	 if market=="CEDAR RAPIDS"recode households .=378.72	 if market=="CHAMPAIGN"recode households .=316.08	 if market=="CHARLESTON, SC"recode households .=455.49	 if market=="CHARLESTON, WV"recode households .=1136.42	 if market=="CHARLOTTE"recode households .=74.34	 if market=="CHARLOTTESVILLE"recode households .=353.71	 if market=="CHATTANOOGA"recode households .=3484.8	 if market=="CHICAGO"recode households .=897.89	 if market=="CINCINNATI"recode households .=1485.14	 if market=="CLEVELAND"recode households .=343.99	 if market=="COLORADO SPRINGS"recode households .=173.64	 if market=="COLUMBIA, MO"recode households .=216.92	 if market=="COLUMBUS, GA"recode households .=930.46	 if market=="COLUMBUS, OH"recode households .=184.99	 if market=="COLUMBUS/TUPELO"recode households .=203.73	 if market=="CORPUS CHRISTI"recode households .=2588.02	 if market=="DALLAS"recode households .=303.8	 if market=="DAVENPORT"recode households .=498.27	 if market=="DAYTON"recode households .=1566.46	 if market=="DENVER"recode households .=427.86	 if market=="DES MOINES"recode households .=1845.92	 if market=="DETROIT"recode households .=107.11	 if market=="DOTHAN"recode households .=169.61	 if market=="DULUTH"recode households .=339.13	 if market=="EL PASO"recode households .=95.53	 if market=="ELMIRA"recode households .=155.19	 if market=="ERIE"recode households .=284.04	 if market=="EVANSVILLE"recode households .=37.92	 if market=="FAIRBANKS"recode households .=243.89	 if market=="FARGO"recode households .=446.01	 if market=="FLINT"recode households .=297.59	 if market=="FORT SMITH"recode households .=576.82	 if market=="FRESNO"recode households .=502.05	 if market=="FT. MYERS"recode households .=265.39	 if market=="FT. WAYNE"recode households .=123.43	 if market=="GAINESVILLE"recode households .=70.58	 if market=="GRAND JUNCTION"recode households .=720.15	 if market=="GRAND RAPIDS"recode households .=65.93	 if market=="GREAT FALLS"recode households .=441.8	 if market=="GREEN BAY"recode households .=695.1	 if market=="GREENSBORO"recode households .=846.03	 if market=="GREENVILLE, NC"recode households .=303.28	 if market=="GREENVILLE, SC"recode households .=66.41	 if market=="GREENWOOD"recode households .=364.16	 if market=="HARLINGEN"recode households .=716.99	 if market=="HARRISBURG"recode households .=996.55	 if market=="HARTFORD"recode households .=28.26	 if market=="HELENA"recode households .=437.79	 if market=="HONOLULU"recode households .=2215.65	 if market=="HOUSTON"recode households .=390.59	 if market=="HUNTSVILLE"recode households .=125.71	 if market=="IDAHO FALLS-POCA"recode households .=1089.7	 if market=="INDIANAPOLIS"recode households .=331.5	 if market=="JACKSON, MS"recode households .=659.17	 if market=="JACKSONVILLE"recode households .=288.1	 if market=="JOHNSTOWN"recode households .=80.74	 if market=="JONESBORO"recode households .=151.2	 if market=="JOPLIN"recode households .=26.32	 if market=="JUNEAU"recode households .=931.32	 if market=="KANSAS CITY"recode households .=520.89	 if market=="KNOXVILLE"recode households .=229.32	 if market=="LAFAYETTE, LA"recode households .=94.61	 if market=="LAKE CHARLES"recode households .=251.14	 if market=="LANSING"recode households .=72.59	 if market=="LAREDO"recode households .=718.99	 if market=="LAS VEGAS"recode households .=485.63	 if market=="LEXINGTON"recode households .=51.24	 if market=="LIMA"recode households .=561.76	 if market=="LITTLE ROCK"recode households .=5613.46	 if market=="LOS ANGELES"recode households .=670.88	 if market=="LOUISVILLE"recode households .=241.17	 if market=="MACON"recode households .=376.67	 if market=="MADISON"recode households .=84.64	 if market=="MARQUETTE"recode households .=167.82	 if market=="MEDFORD-KLAMATH"recode households .=662.83	 if market=="MEMPHIS"recode households .=1621.13	 if market=="MIAMI"recode households .=902.19	 if market=="MILWAUKEE"recode households .=1728.05	 if market=="MINNEAPOLIS"recode households .=113.01	 if market=="MISSOULA"recode households .=525.99	 if market=="MOBILE"recode households .=224.24	 if market=="MONTEREY"recode households .=241.93	 if market=="MONTGOMERY"recode households .=285.55	 if market=="MYRTLE BEACH"recode households .=1014.91	 if market=="NASHVILLE"recode households .=641.55	 if market=="NEW ORLEANS"recode households .=7384.34	 if market=="NEW YORK"recode households .=709.73	 if market=="NORFOLK"recode households .=147.73	 if market=="ODESSA/MIDLAND"recode households .=718.77	 if market=="OKLAHOMA CITY"recode households .=414.06	 if market=="OMAHA"recode households .=1453.17	 if market=="ORLANDO"recode households .=46.73	 if market=="OTTUMWA"recode households .=388.34	 if market=="PADUCAH"recode households .=154.56	 if market=="PALM SPRINGS"recode households .=129.39	 if market=="PANAMA CITY"recode households .=62.62	 if market=="PARKERSBURG"recode households .=244.05	 if market=="PEORIA"recode households .=2949.31	 if market=="PHILADELPHIA"recode households .=1812.04	 if market=="PHOENIX"recode households .=1165.74	 if market=="PITTSBURGH"recode households .=389.53	 if market=="PORTLAND, ME"recode households .=1182.18	 if market=="PORTLAND, OR"recode households .=29.25	 if market=="PRESQUE ISLE"recode households .=606.4	 if market=="PROVIDENCE"recode households .=103.52	 if market=="QUINCY"recode households .=1150.35	 if market=="RALEIGH"recode households .=98.02	 if market=="RAPID CITY"recode households .=265.6	 if market=="RENO"recode households .=553.39	 if market=="RICHMOND"recode households .=445.47	 if market=="ROANOKE"recode households .=143.33	 if market=="ROCHESTER, MN"recode households .=395.68	 if market=="ROCHESTER,NY"recode households .=179.24	 if market=="ROCKFORD"recode households .=1387.71	 if market=="SACRAMENTO"recode households .=917.37	 if market=="SALT LAKE CITY"recode households .=881.05	 if market=="SAN ANTONIO"recode households .=1075.12	 if market=="SAN DIEGO"recode households .=2502.03	 if market=="SAN FRANCISCO"recode households .=231.95	 if market=="SANTA BARBARA"recode households .=334.75	 if market=="SAVANNAH"recode households .=1818.9	 if market=="SEATTLE"recode households .=126.93	 if market=="SHERMAN"recode households .=384.41	 if market=="SHREVEPORT"recode households .=154.83	 if market=="SIOUX CITY"recode households .=261.53	 if market=="SIOUX FALLS"recode households .=319.86	 if market=="SOUTH BEND"recode households .=420.64	 if market=="SPOKANE"recode households .=252.95	 if market=="SPRINGFIELD, MA"recode households .=414.57	 if market=="SPRINGFIELD, M	"recode households .=1243.49	 if market=="ST LOUIS"recode households .=377.55	 if market=="SYRACUSE"recode households .=273.12	 if market=="TALLAHASSE	"recode households .=1806.56	 if market=="TAMPA"recode households .=139.6	 if market=="TERRE HAUTE"recode households .=409.55	 if market=="TOLEDO"recode households .=176.16	 if market=="TOPEKA"recode households .=241.8	 if market=="TRAVERSE CIT	"recode households .=319.06	 if market=="TRI-CITIES"recode households .=438.44	 if market=="TUCSON"recode households .=526.96	 if market=="TULSA"recode households .=64.1	 if market=="TWIN FALLS"recode households .=102.89	 if market=="UTICA"recode households .=31.56	 if market=="VICTORIA"recode households .=349.54	 if market=="WACO"recode households .=2359.16	 if market=="WASHINGTON DC"recode households .=92.59	 if market=="WATERTOW	"recode households .=179.45	 if market=="WAUSAU"recode households .=794.31	 if market=="WEST PALM BEACH"recode households .=130.11	 if market=="WHEELING-STEUBEN"recode households .=450.3	 if market=="WICHITA"recode households .=581.02	 if market=="WILKES BARRE"recode households .=188.42	 if market=="WILMINGTON"recode households .=231.95	 if market=="YAKIMA"recode households .=260	 if market=="YOUNGSTOWN"recode households .=32.94	 if market=="ZANESVILLE"


encode daypart, generate(fulldaypart)
* 1=Daytime; 2=Early Fringe; 3=Early Morning; 4=Early News; 5=Late Fringe; 6=Late News; 
* 7=Prime Access; 8=Prime; 9=Wknd Late News; 10=Overnight; 11=Sat Morning; 12=Sat Afternoon
* 13=Sat Early Fringe; 14=Sat Prime Access; 15=Sun Morning; 16=Sun Afternoon; 17=Sun Early Fringe
recode fulldaypart 5 = 10 if airtime<"05:00:00"
recode fulldaypart 6 = 9 if saturday==1 | sunday==1
recode fulldaypart 3 = 11 if saturday==1
recode fulldaypart 1 = 11 if saturday==1 & airtime<"13:00:00"
recode fulldaypart 1 = 12 if saturday==1 & airtime>="13:00:00"
recode fulldaypart 2 = 12 if saturday==1 & airtime<"16:30:00"
recode fulldaypart 2 = 13 if saturday==1 & airtime>="16:30:00"
recode fulldaypart 4 = 13 if saturday==1
recode fulldaypart 7 = 13 if saturday==1 & airtime<"19:30:00"
recode fulldaypart 7 = 14 if saturday==1 & airtime>="19:30:00"
recode fulldaypart 3 = 15 if sunday==1
recode fulldaypart 1 = 15 if sunday==1 & airtime<"13:00:00"
recode fulldaypart 1 = 16 if sunday==1 & airtime>="13:00:00"
recode fulldaypart 2 = 16 if sunday==1 & airtime<"16:30:00"
recode fulldaypart 2 = 17 if sunday==1 & airtime>="16:30:00"
recode fulldaypart 4 = 17 if sunday==1


* Audience is a fraction of DMA households estimated to be viewing at that daypart
* Estimates for daypart obtained from Nielsen 
* Disclosure Restricted, so dayshare values for each daypart are redacted with "###"
* To obtain these values, contact Nielsen at http://www.nielsen.com/us/en/contact-us/research.html
* Author worked with Elizabeth Kamins at Nielsen

gen dayshare=.
recode dayshare .=.### if fulldaypart==1
recode dayshare .=.### if fulldaypart==2
recode dayshare .=.### if fulldaypart==3
recode dayshare .=.### if fulldaypart==4
recode dayshare .=.### if fulldaypart==5
recode dayshare .=.### if fulldaypart==6
recode dayshare .=.### if fulldaypart==7
recode dayshare .=.### if fulldaypart==8
recode dayshare .=.### if fulldaypart==9
recode dayshare .=.### if fulldaypart==10
recode dayshare .=.### if fulldaypart==11
recode dayshare .=.### if fulldaypart==12
recode dayshare .=.### if fulldaypart==13
recode dayshare .=.### if fulldaypart==14
recode dayshare .=.### if fulldaypart==15
recode dayshare .=.### if fulldaypart==16
recode dayshare .=.### if fulldaypart==17

gen audience = households*dayshare

* A Raw Weighted Negative
gen weighted_neg = negativity*audience

* save the file
save "/Volumes/External/Datasets/CMAG/CMAG 2012/2012house2.dta"



